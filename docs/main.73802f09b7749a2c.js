"use strict";(self.webpackChunkindustry_project=self.webpackChunkindustry_project||[]).push([[179],{2011:(nt,we,k)=>{k.d(we,{Dh:()=>ue,GT:()=>ce,cc:()=>Se,hO:()=>je,on:()=>H,pX:()=>re,xv:()=>_e});var h=k(4650),J=k(127),O=k(2680);nt=k.hmd(nt);const oe=["ngOnDestroy"],re=(se,Fe,We,ve={})=>new Proxy(se,{get:(he,me)=>We.runOutsideAngular(()=>{var Oe;if(se[me])return!(null===(Oe=ve?.spy)||void 0===Oe)&&Oe.get&&ve.spy.get(me,se[me]),se[me];if(oe.indexOf(me)>-1)return()=>{};const xe=Fe.toPromise().then(L=>{const le=L&&L[me];return"function"==typeof le?le.bind(L):le&&le.then?le.then($=>We.run(()=>$)):We.run(()=>le)});return new Proxy(()=>{},{get:(L,le)=>xe[le],apply:(L,le,$)=>xe.then(q=>{var te;const ee=q&&q(...$);return!(null===(te=ve?.spy)||void 0===te)&&te.apply&&ve.spy.apply(me,$,ee),ee})})})}),ce=(se,Fe)=>{Fe.forEach(We=>{Object.getOwnPropertyNames(We.prototype||We).forEach(ve=>{Object.defineProperty(se.prototype,ve,Object.getOwnPropertyDescriptor(We.prototype||We,ve))})})};class fe{constructor(Fe){return Fe}}const ue=new h.OlP("angularfire2.app.options"),_e=new h.OlP("angularfire2.app.name");function H(se,Fe,We){const he="object"==typeof We&&We||{};he.name=he.name||"string"==typeof We&&We||"[DEFAULT]";const Oe=J.Z.apps.filter(xe=>xe&&xe.name===he.name)[0]||Fe.runOutsideAngular(()=>J.Z.initializeApp(se,he));try{JSON.stringify(se)!==JSON.stringify(Oe.options)&&B("error",`${Oe.name} Firebase App already initialized with different options${nt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new fe(Oe)}const B=(se,...Fe)=>{(0,h.X6Q)()&&typeof console<"u"&&console[se](...Fe)},X={provide:fe,useFactory:H,deps:[ue,h.R0b,[new h.FiY,_e]]};let je=(()=>{class se{constructor(We){J.Z.registerVersion("angularfire",O.q4.full,"core"),J.Z.registerVersion("angularfire",O.q4.full,"app-compat"),J.Z.registerVersion("angular",h.q4F.full,We.toString())}static initializeApp(We,ve){return{ngModule:se,providers:[{provide:ue,useValue:We},{provide:_e,useValue:ve}]}}}return se.\u0275fac=function(We){return new(We||se)(h.LFG(h.Lbi))},se.\u0275mod=h.oAB({type:se}),se.\u0275inj=h.cJS({providers:[X]}),se})();function Se(se,Fe,We,ve,he){const[,me,Oe]=globalThis.\u0275AngularfireInstanceCache.find(xe=>xe[0]===se)||[];if(me)return function Te(se,Fe){try{return se.toString()===Fe.toString()}catch{return se===Fe}}(he,Oe)||(ae("error",`${Fe} was already initialized on the ${We} Firebase App with different settings.${Ne?" You may need to reload as Firebase is not HMR aware.":""}`),ae("warn",{is:he,was:Oe})),me;{const xe=ve();return globalThis.\u0275AngularfireInstanceCache.push([se,xe,he]),xe}}const Ne=!!nt.hot,ae=(se,...Fe)=>{(0,h.X6Q)()&&typeof console<"u"&&console[se](...Fe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2680:(nt,we,k)=>{k.d(we,{q4:()=>yl,iC:()=>wo,HU:()=>Mu,vb:()=>Do,JM:()=>Os});var h=k(4650),J=k(5867),O=k(5861),oe=k(9681),re=k(2090),ce=k(4859),fe=k(1877),ue=k(8766);const _e="@firebase/installations",H="0.5.16",X=`w:${H}`,je="FIS_v2",Fe=new re.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function We(I){return I instanceof re.ZR&&I.code.includes("request-failed")}function ve({projectId:I}){return`https://firebaseinstallations.googleapis.com/v1/projects/${I}/installations`}function he(I){return{token:I.token,requestStatus:2,expiresIn:q(I.expiresIn),creationTime:Date.now()}}function me(I,C){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,O.Z)(function*(I,C){const x=(yield C.json()).error;return Fe.create("request-failed",{requestName:I,serverCode:x.code,serverMessage:x.message,serverStatus:x.status})})).apply(this,arguments)}function xe({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function L(I,{refreshToken:C}){const T=xe(I);return T.append("Authorization",function te(I){return`${je} ${I}`}(C)),T}function le(I){return $.apply(this,arguments)}function $(){return($=(0,O.Z)(function*(I){const C=yield I();return C.status>=500&&C.status<600?I():C})).apply(this,arguments)}function q(I){return Number(I.replace("s","000"))}function ee(I,C){return be.apply(this,arguments)}function be(){return(be=(0,O.Z)(function*({appConfig:I,heartbeatServiceProvider:C},{fid:T}){const x=ve(I),z=xe(I),Y=C.getImmediate({optional:!0});if(Y){const Qe=yield Y.getHeartbeatsHeader();Qe&&z.append("x-firebase-client",Qe)}const Re={method:"POST",headers:z,body:JSON.stringify({fid:T,authVersion:je,appId:I.appId,sdkVersion:X})},Ve=yield le(()=>fetch(x,Re));if(Ve.ok){const Qe=yield Ve.json();return{fid:Qe.fid||T,registrationStatus:2,refreshToken:Qe.refreshToken,authToken:he(Qe.authToken)}}throw yield me("Create Installation",Ve)})).apply(this,arguments)}function Ae(I){return new Promise(C=>{setTimeout(C,I)})}const At=/^[cdef][\w-]{21}$/;function He(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const T=function Lt(I){return function et(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return At.test(T)?T:""}catch{return""}}function Gt(I){return`${I.appName}!${I.appId}`}const Tt=new Map;function St(I,C){const T=Gt(I);Vt(T,C),function fi(I,C){const T=function Gn(){return!Tr&&"BroadcastChannel"in self&&(Tr=new BroadcastChannel("[Firebase] FID Change"),Tr.onmessage=I=>{Vt(I.data.key,I.data.fid)}),Tr}();T&&T.postMessage({key:I,fid:C}),function zn(){0===Tt.size&&Tr&&(Tr.close(),Tr=null)}()}(T,C)}function Vt(I,C){const T=Tt.get(I);if(T)for(const x of T)x(C)}let Tr=null;const rr="firebase-installations-store";let hr=null;function gs(){return hr||(hr=(0,ue.X3)("firebase-installations-database",1,{upgrade:(I,C)=>{0===C&&I.createObjectStore(rr)}})),hr}function $e(I,C){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,O.Z)(function*(I,C){const T=Gt(I),z=(yield gs()).transaction(rr,"readwrite"),Y=z.objectStore(rr),de=yield Y.get(T);return yield Y.put(C,T),yield z.done,(!de||de.fid!==C.fid)&&St(I,C.fid),C})).apply(this,arguments)}function pi(I){return yn.apply(this,arguments)}function yn(){return(yn=(0,O.Z)(function*(I){const C=Gt(I),x=(yield gs()).transaction(rr,"readwrite");yield x.objectStore(rr).delete(C),yield x.done})).apply(this,arguments)}function pr(I,C){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,O.Z)(function*(I,C){const T=Gt(I),z=(yield gs()).transaction(rr,"readwrite"),Y=z.objectStore(rr),de=yield Y.get(T),Re=C(de);return void 0===Re?yield Y.delete(T):yield Y.put(Re,T),yield z.done,Re&&(!de||de.fid!==Re.fid)&&St(I,Re.fid),Re})).apply(this,arguments)}function Xt(I){return un.apply(this,arguments)}function un(){return(un=(0,O.Z)(function*(I){let C;const T=yield pr(I.appConfig,x=>{const z=jt(x),Y=rt(I,z);return C=Y.registrationPromise,Y.installationEntry});return""===T.fid?{installationEntry:yield C}:{installationEntry:T,registrationPromise:C}})).apply(this,arguments)}function jt(I){return ct(I||{fid:He(),registrationStatus:0})}function rt(I,C){if(0===C.registrationStatus){if(!navigator.onLine)return{installationEntry:C,registrationPromise:Promise.reject(Fe.create("app-offline"))};const T={fid:C.fid,registrationStatus:1,registrationTime:Date.now()},x=function qe(I,C){return kt.apply(this,arguments)}(I,T);return{installationEntry:T,registrationPromise:x}}return 1===C.registrationStatus?{installationEntry:C,registrationPromise:An(I)}:{installationEntry:C}}function kt(){return(kt=(0,O.Z)(function*(I,C){try{const T=yield ee(I,C);return $e(I.appConfig,T)}catch(T){throw We(T)&&409===T.customData.serverCode?yield pi(I.appConfig):yield $e(I.appConfig,{fid:C.fid,registrationStatus:0}),T}})).apply(this,arguments)}function An(I){return an.apply(this,arguments)}function an(){return(an=(0,O.Z)(function*(I){let C=yield ir(I.appConfig);for(;1===C.registrationStatus;)yield Ae(100),C=yield ir(I.appConfig);if(0===C.registrationStatus){const{installationEntry:T,registrationPromise:x}=yield Xt(I);return x||T}return C})).apply(this,arguments)}function ir(I){return pr(I,C=>{if(!C)throw Fe.create("installation-not-found");return ct(C)})}function ct(I){return function Kr(I){return 1===I.registrationStatus&&I.registrationTime+1e4<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function Mt(I,C){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,O.Z)(function*({appConfig:I,heartbeatServiceProvider:C},T){const x=Rt(I,T),z=L(I,T),Y=C.getImmediate({optional:!0});if(Y){const Qe=yield Y.getHeartbeatsHeader();Qe&&z.append("x-firebase-client",Qe)}const Re={method:"POST",headers:z,body:JSON.stringify({installation:{sdkVersion:X,appId:I.appId}})},Ve=yield le(()=>fetch(x,Re));if(Ve.ok)return he(yield Ve.json());throw yield me("Generate Auth Token",Ve)})).apply(this,arguments)}function Rt(I,{fid:C}){return`${ve(I)}/${C}/authTokens:generate`}function vn(I){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,O.Z)(function*(I,C=!1){let T;const x=yield pr(I.appConfig,Y=>{if(!_t(Y))throw Fe.create("not-registered");const de=Y.authToken;if(!C&&V(de))return Y;if(1===de.requestStatus)return T=Ke(I,C),Y;{if(!navigator.onLine)throw Fe.create("app-offline");const Re=G(Y);return T=at(I,Re),Re}});return T?yield T:x.authToken})).apply(this,arguments)}function Ke(I,C){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,O.Z)(function*(I,C){let T=yield ze(I.appConfig);for(;1===T.authToken.requestStatus;)yield Ae(100),T=yield ze(I.appConfig);const x=T.authToken;return 0===x.requestStatus?vn(I,C):x})).apply(this,arguments)}function ze(I){return pr(I,C=>{if(!_t(C))throw Fe.create("not-registered");return function pe(I){return 1===I.requestStatus&&I.requestTime+1e4<Date.now()}(C.authToken)?Object.assign(Object.assign({},C),{authToken:{requestStatus:0}}):C})}function at(I,C){return st.apply(this,arguments)}function st(){return(st=(0,O.Z)(function*(I,C){try{const T=yield Mt(I,C),x=Object.assign(Object.assign({},C),{authToken:T});return yield $e(I.appConfig,x),T}catch(T){if(!We(T)||401!==T.customData.serverCode&&404!==T.customData.serverCode){const x=Object.assign(Object.assign({},C),{authToken:{requestStatus:0}});yield $e(I.appConfig,x)}else yield pi(I.appConfig);throw T}})).apply(this,arguments)}function _t(I){return void 0!==I&&2===I.registrationStatus}function V(I){return 2===I.requestStatus&&!function F(I){const C=Date.now();return C<I.creationTime||I.creationTime+I.expiresIn<C+36e5}(I)}function G(I){const C={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:C})}function Le(){return(Le=(0,O.Z)(function*(I){const C=I,{installationEntry:T,registrationPromise:x}=yield Xt(C);return x?x.catch(console.error):vn(C).catch(console.error),T.fid})).apply(this,arguments)}function Pt(){return(Pt=(0,O.Z)(function*(I,C=!1){const T=I;return yield Bt(T),(yield vn(T,C)).token})).apply(this,arguments)}function Bt(I){return wt.apply(this,arguments)}function wt(){return(wt=(0,O.Z)(function*(I){const{registrationPromise:C}=yield Xt(I);C&&(yield C)})).apply(this,arguments)}function gi(I){return Fe.create("missing-app-config-values",{valueName:I})}const ms="installations",qt=I=>{const C=I.getProvider("app").getImmediate(),T=function zt(I){if(!I||!I.options)throw gi("App Configuration");if(!I.name)throw gi("App Name");const C=["projectId","apiKey","appId"];for(const T of C)if(!I.options[T])throw gi(T);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(C);return{app:C,appConfig:T,heartbeatServiceProvider:(0,oe._getProvider)(C,"heartbeat"),_delete:()=>Promise.resolve()}},ji=I=>{const C=I.getProvider("app").getImmediate(),T=(0,oe._getProvider)(C,ms).getImmediate();return{getId:()=>function Z(I){return Le.apply(this,arguments)}(T),getToken:z=>function Je(I){return Pt.apply(this,arguments)}(T,z)}};(function Lo(){(0,oe._registerComponent)(new ce.wA(ms,qt,"PUBLIC")),(0,oe._registerComponent)(new ce.wA("installations-internal",ji,"PRIVATE"))})(),(0,oe.registerVersion)(_e,H),(0,oe.registerVersion)(_e,H,"esm2017");const Br="@firebase/remote-config",dn=new re.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Uo{constructor(C,T,x,z){this.client=C,this.storage=T,this.storageCache=x,this.logger=z}isCachedDataFresh(C,T){if(!T)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const x=Date.now()-T,z=x<=C;return this.logger.debug(`Config fetch cache check. Cache age millis: ${x}. Cache max age millis (minimumFetchIntervalMillis setting): ${C}. Is cache hit: ${z}.`),z}fetch(C){var T=this;return(0,O.Z)(function*(){const[x,z]=yield Promise.all([T.storage.getLastSuccessfulFetchTimestampMillis(),T.storage.getLastSuccessfulFetchResponse()]);if(z&&T.isCachedDataFresh(C.cacheMaxAgeMillis,x))return z;C.eTag=z&&z.eTag;const Y=yield T.client.fetch(C),de=[T.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Y.status&&de.push(T.storage.setLastSuccessfulFetchResponse(Y)),yield Promise.all(de),Y})()}}function za(I=navigator){return I.languages&&I.languages[0]||I.language}class Ka{constructor(C,T,x,z,Y,de){this.firebaseInstallations=C,this.sdkVersion=T,this.namespace=x,this.projectId=z,this.apiKey=Y,this.appId=de}fetch(C){var T=this;return(0,O.Z)(function*(){var x,z,Y;const[de,Re]=yield Promise.all([T.firebaseInstallations.getId(),T.firebaseInstallations.getToken()]),Qe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${T.projectId}/namespaces/${T.namespace}:fetch?key=${T.apiKey}`,ot={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":C.eTag||"*"},Ze={sdk_version:T.sdkVersion,app_instance_id:de,app_instance_id_token:Re,app_id:T.appId,language_code:za()},Yt={method:"POST",headers:ot,body:JSON.stringify(Ze)},wn=fetch(Qe,Yt),fr=new Promise((ns,Vs)=>{C.signal.addEventListener(()=>{const Cl=new Error("The operation was aborted.");Cl.name="AbortError",Vs(Cl)})});let si;try{yield Promise.race([wn,fr]),si=yield wn}catch(ns){let Vs="fetch-client-network";throw"AbortError"===(null===(x=ns)||void 0===x?void 0:x.name)&&(Vs="fetch-timeout"),dn.create(Vs,{originalErrorMessage:null===(z=ns)||void 0===z?void 0:z.message})}let Fs=si.status;const hn=si.headers.get("ETag")||void 0;let ya,Ls;if(200===si.status){let ns;try{ns=yield si.json()}catch(Vs){throw dn.create("fetch-client-parse",{originalErrorMessage:null===(Y=Vs)||void 0===Y?void 0:Y.message})}ya=ns.entries,Ls=ns.state}if("INSTANCE_STATE_UNSPECIFIED"===Ls?Fs=500:"NO_CHANGE"===Ls?Fs=304:("NO_TEMPLATE"===Ls||"EMPTY_CONFIG"===Ls)&&(ya={}),304!==Fs&&200!==Fs)throw dn.create("fetch-status",{httpStatus:Fs});return{status:Fs,eTag:hn,config:ya}})()}}class Ud{constructor(C,T){this.client=C,this.storage=T}fetch(C){var T=this;return(0,O.Z)(function*(){const x=(yield T.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return T.attemptFetch(C,x)})()}attemptFetch(C,{throttleEndTimeMillis:T,backoffCount:x}){var z=this;return(0,O.Z)(function*(){yield function In(I,C){return new Promise((T,x)=>{const z=Math.max(C-Date.now(),0),Y=setTimeout(T,z);I.addEventListener(()=>{clearTimeout(Y),x(dn.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}(C.signal,T);try{const Y=yield z.client.fetch(C);return yield z.storage.deleteThrottleMetadata(),Y}catch(Y){if(!function uu(I){if(!(I instanceof re.ZR&&I.customData))return!1;const C=Number(I.customData.httpStatus);return 429===C||500===C||503===C||504===C}(Y))throw Y;const de={throttleEndTimeMillis:Date.now()+(0,re.$s)(x),backoffCount:x+1};return yield z.storage.setThrottleMetadata(de),z.attemptFetch(C,de)}})()}}class cu{constructor(C,T,x,z,Y){this.app=C,this._client=T,this._storageCache=x,this._storage=z,this._logger=Y,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Za(I,C){var T;const x=I.target.error||void 0;return dn.create(C,{originalErrorMessage:x&&(null===(T=x)||void 0===T?void 0:T.message)})}const vi="app_namespace_store";class $d{constructor(C,T,x,z=function Hd(){return new Promise((I,C)=>{var T;try{const x=indexedDB.open("firebase_remote_config",1);x.onerror=z=>{C(Za(z,"storage-open"))},x.onsuccess=z=>{I(z.target.result)},x.onupgradeneeded=z=>{0===z.oldVersion&&z.target.result.createObjectStore(vi,{keyPath:"compositeKey"})}}catch(x){C(dn.create("storage-open",{originalErrorMessage:null===(T=x)||void 0===T?void 0:T.message}))}})}()){this.appId=C,this.appName=T,this.namespace=x,this.openDbPromise=z}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(C){return this.set("last_fetch_status",C)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(C){return this.set("last_successful_fetch_timestamp_millis",C)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(C){return this.set("last_successful_fetch_response",C)}getActiveConfig(){return this.get("active_config")}setActiveConfig(C){return this.set("active_config",C)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(C){return this.set("active_config_etag",C)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(C){return this.set("throttle_metadata",C)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(C){var T=this;return(0,O.Z)(function*(){const x=yield T.openDbPromise;return new Promise((z,Y)=>{var de;const Ve=x.transaction([vi],"readonly").objectStore(vi),Qe=T.createCompositeKey(C);try{const ot=Ve.get(Qe);ot.onerror=Ze=>{Y(Za(Ze,"storage-get"))},ot.onsuccess=Ze=>{const Yt=Ze.target.result;z(Yt?Yt.value:void 0)}}catch(ot){Y(dn.create("storage-get",{originalErrorMessage:null===(de=ot)||void 0===de?void 0:de.message}))}})})()}set(C,T){var x=this;return(0,O.Z)(function*(){const z=yield x.openDbPromise;return new Promise((Y,de)=>{var Re;const Qe=z.transaction([vi],"readwrite").objectStore(vi),ot=x.createCompositeKey(C);try{const Ze=Qe.put({compositeKey:ot,value:T});Ze.onerror=Yt=>{de(Za(Yt,"storage-set"))},Ze.onsuccess=()=>{Y()}}catch(Ze){de(dn.create("storage-set",{originalErrorMessage:null===(Re=Ze)||void 0===Re?void 0:Re.message}))}})})()}delete(C){var T=this;return(0,O.Z)(function*(){const x=yield T.openDbPromise;return new Promise((z,Y)=>{var de;const Ve=x.transaction([vi],"readwrite").objectStore(vi),Qe=T.createCompositeKey(C);try{const ot=Ve.delete(Qe);ot.onerror=Ze=>{Y(Za(Ze,"storage-delete"))},ot.onsuccess=()=>{z()}}catch(ot){Y(dn.create("storage-delete",{originalErrorMessage:null===(de=ot)||void 0===de?void 0:de.message}))}})})()}createCompositeKey(C){return[this.appId,this.appName,this.namespace,C].join()}}class fu{constructor(C){this.storage=C}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var C=this;return(0,O.Z)(function*(){const T=C.storage.getLastFetchStatus(),x=C.storage.getLastSuccessfulFetchTimestampMillis(),z=C.storage.getActiveConfig(),Y=yield T;Y&&(C.lastFetchStatus=Y);const de=yield x;de&&(C.lastSuccessfulFetchTimestampMillis=de);const Re=yield z;Re&&(C.activeConfig=Re)})()}setLastFetchStatus(C){return this.lastFetchStatus=C,this.storage.setLastFetchStatus(C)}setLastSuccessfulFetchTimestampMillis(C){return this.lastSuccessfulFetchTimestampMillis=C,this.storage.setLastSuccessfulFetchTimestampMillis(C)}setActiveConfig(C){return this.activeConfig=C,this.storage.setActiveConfig(C)}}function jo(){return yc.apply(this,arguments)}function yc(){return(yc=(0,O.Z)(function*(){if(!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch{return!1}})).apply(this,arguments)}!function Ei(){(0,oe._registerComponent)(new ce.wA("remote-config",function I(C,{instanceIdentifier:T}){const x=C.getProvider("app").getImmediate(),z=C.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw dn.create("registration-window");if(!(0,re.hl)())throw dn.create("indexed-db-unavailable");const{projectId:Y,apiKey:de,appId:Re}=x.options;if(!Y)throw dn.create("registration-project-id");if(!de)throw dn.create("registration-api-key");if(!Re)throw dn.create("registration-app-id");const Ve=new $d(Re,x.name,T=T||"firebase"),Qe=new fu(Ve),ot=new fe.Yd(Br);ot.logLevel=fe.in.ERROR;const Ze=new Ka(z,oe.SDK_VERSION,T,Y,de,Re),Yt=new Ud(Ze,Ve),wn=new Uo(Yt,Ve,Qe,ot),fr=new cu(x,wn,Qe,Ve,ot);return function fn(I){const C=(0,re.m9)(I);C._initializePromise||(C._initializePromise=C._storageCache.loadFromStorage().then(()=>{C._isInitializationComplete=!0}))}(fr),fr},"PUBLIC").setMultipleInstances(!0)),(0,oe.registerVersion)(Br,"0.3.15"),(0,oe.registerVersion)(Br,"0.3.15","esm2017")}();const Ur="/firebase-messaging-sw.js",qr="/firebase-cloud-messaging-push-scope",Yr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",eo="google.c.a.c_id",Ho="google.c.a.c_l",qa="google.c.a.ts",vc="google.c.a.e";var Jr=(()=>{return(I=Jr||(Jr={})).PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",Jr;var I})();function gr(I){const C=new Uint8Array(I);return btoa(String.fromCharCode(...C)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function or(I){const T=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),x=atob(T),z=new Uint8Array(x.length);for(let Y=0;Y<x.length;++Y)z[Y]=x.charCodeAt(Y);return z}const ys="fcm_token_details_db",Bn="fcm_token_object_Store";function Ec(I){return Ic.apply(this,arguments)}function Ic(){return Ic=(0,O.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Y=>Y.name).includes(ys))return null;let C=null;return(yield(0,ue.X3)(ys,5,{upgrade:(x=(0,O.Z)(function*(z,Y,de,Re){var Ve;if(Y<2||!z.objectStoreNames.contains(Bn))return;const Qe=Re.objectStore(Bn),ot=yield Qe.index("fcmSenderId").get(I);if(yield Qe.clear(),ot)if(2===Y){const Ze=ot;if(!Ze.auth||!Ze.p256dh||!Ze.endpoint)return;C={token:Ze.fcmToken,createTime:null!==(Ve=Ze.createTime)&&void 0!==Ve?Ve:Date.now(),subscriptionOptions:{auth:Ze.auth,p256dh:Ze.p256dh,endpoint:Ze.endpoint,swScope:Ze.swScope,vapidKey:"string"==typeof Ze.vapidKey?Ze.vapidKey:gr(Ze.vapidKey)}}}else if(3===Y){const Ze=ot;C={token:Ze.fcmToken,createTime:Ze.createTime,subscriptionOptions:{auth:gr(Ze.auth),p256dh:gr(Ze.p256dh),endpoint:Ze.endpoint,swScope:Ze.swScope,vapidKey:gr(Ze.vapidKey)}}}else if(4===Y){const Ze=ot;C={token:Ze.fcmToken,createTime:Ze.createTime,subscriptionOptions:{auth:gr(Ze.auth),p256dh:gr(Ze.p256dh),endpoint:Ze.endpoint,swScope:Ze.swScope,vapidKey:gr(Ze.vapidKey)}}}}),function(Y,de,Re,Ve){return x.apply(this,arguments)})})).close(),yield(0,ue.Lj)(ys),yield(0,ue.Lj)("fcm_vapid_details_db"),yield(0,ue.Lj)("undefined"),en(C)?C:null;var x}),Ic.apply(this,arguments)}function en(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:C}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof C.auth&&C.auth.length>0&&"string"==typeof C.p256dh&&C.p256dh.length>0&&"string"==typeof C.endpoint&&C.endpoint.length>0&&"string"==typeof C.swScope&&C.swScope.length>0&&"string"==typeof C.vapidKey&&C.vapidKey.length>0}const mr="firebase-messaging-store";let qn=null;function $o(){return qn||(qn=(0,ue.X3)("firebase-messaging-database",1,{upgrade:(I,C)=>{0===C&&I.createObjectStore(mr)}})),qn}function vs(I){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,O.Z)(function*(I){const C=Pr(I),x=yield(yield $o()).transaction(mr).objectStore(mr).get(C);if(x)return x;{const z=yield Ec(I.appConfig.senderId);if(z)return yield bt(I,z),z}})).apply(this,arguments)}function bt(I,C){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,O.Z)(function*(I,C){const T=Pr(I),z=(yield $o()).transaction(mr,"readwrite");return yield z.objectStore(mr).put(C,T),yield z.done,C})).apply(this,arguments)}function Wi(I){return Go.apply(this,arguments)}function Go(){return(Go=(0,O.Z)(function*(I){const C=Pr(I),x=(yield $o()).transaction(mr,"readwrite");yield x.objectStore(mr).delete(C),yield x.done})).apply(this,arguments)}function Pr({appConfig:I}){return I.appId}const Jt=new re.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function dt(I,C){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,O.Z)(function*(I,C){var T;const x=yield Ja(I),z=Ie(C),Y={method:"POST",headers:x,body:JSON.stringify(z)};let de;try{de=yield(yield fetch(ei(I.appConfig),Y)).json()}catch(Re){throw Jt.create("token-subscribe-failed",{errorInfo:null===(T=Re)||void 0===T?void 0:T.toString()})}if(de.error)throw Jt.create("token-subscribe-failed",{errorInfo:de.error.message});if(!de.token)throw Jt.create("token-subscribe-no-token");return de.token})).apply(this,arguments)}function Cc(I,C){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,O.Z)(function*(I,C){var T;const x=yield Ja(I),z=Ie(C.subscriptionOptions),Y={method:"PATCH",headers:x,body:JSON.stringify(z)};let de;try{de=yield(yield fetch(`${ei(I.appConfig)}/${C.token}`,Y)).json()}catch(Re){throw Jt.create("token-update-failed",{errorInfo:null===(T=Re)||void 0===T?void 0:T.toString()})}if(de.error)throw Jt.create("token-update-failed",{errorInfo:de.error.message});if(!de.token)throw Jt.create("token-update-no-token");return de.token})).apply(this,arguments)}function qo(I,C){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,O.Z)(function*(I,C){var T;const z={method:"DELETE",headers:yield Ja(I)};try{const de=yield(yield fetch(`${ei(I.appConfig)}/${C}`,z)).json();if(de.error)throw Jt.create("token-unsubscribe-failed",{errorInfo:de.error.message})}catch(Y){throw Jt.create("token-unsubscribe-failed",{errorInfo:null===(T=Y)||void 0===T?void 0:T.toString()})}})).apply(this,arguments)}function ei({projectId:I}){return`https://fcmregistrations.googleapis.com/v1/projects/${I}/registrations`}function Ja(I){return to.apply(this,arguments)}function to(){return(to=(0,O.Z)(function*({appConfig:I,installations:C}){const T=yield C.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${T}`})})).apply(this,arguments)}function Ie({p256dh:I,auth:C,endpoint:T,vapidKey:x}){const z={web:{endpoint:T,auth:C,p256dh:I}};return x!==Yr&&(z.web.applicationPubKey=x),z}const Dt=6048e5;function Xa(I){return el.apply(this,arguments)}function el(){return(el=(0,O.Z)(function*(I){const C=yield tl(I.swRegistration,I.vapidKey),T={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:C.endpoint,auth:gr(C.getKey("auth")),p256dh:gr(C.getKey("p256dh"))},x=yield vs(I.firebaseDependencies);if(x){if(mu(x.subscriptionOptions,T))return Date.now()>=x.createTime+Dt?Es(I,{token:x.token,createTime:Date.now(),subscriptionOptions:T}):x.token;try{yield qo(I.firebaseDependencies,x.token)}catch(z){console.warn(z)}return no(I.firebaseDependencies,T)}return no(I.firebaseDependencies,T)})).apply(this,arguments)}function tn(I){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,O.Z)(function*(I){const C=yield vs(I.firebaseDependencies);C&&(yield qo(I.firebaseDependencies,C.token),yield Wi(I.firebaseDependencies));const T=yield I.swRegistration.pushManager.getSubscription();return!T||T.unsubscribe()})).apply(this,arguments)}function Es(I,C){return _r.apply(this,arguments)}function _r(){return(_r=(0,O.Z)(function*(I,C){try{const T=yield Cc(I.firebaseDependencies,C),x=Object.assign(Object.assign({},C),{token:T,createTime:Date.now()});return yield bt(I.firebaseDependencies,x),T}catch(T){throw yield tn(I),T}})).apply(this,arguments)}function no(I,C){return ro.apply(this,arguments)}function ro(){return(ro=(0,O.Z)(function*(I,C){const x={token:yield dt(I,C),createTime:Date.now(),subscriptionOptions:C};return yield bt(I,x),x.token})).apply(this,arguments)}function tl(I,C){return nl.apply(this,arguments)}function nl(){return(nl=(0,O.Z)(function*(I,C){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:or(C)})})).apply(this,arguments)}function mu(I,C){return C.vapidKey===I.vapidKey&&C.endpoint===I.endpoint&&C.auth===I.auth&&C.p256dh===I.p256dh}function io(I){const C={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function nn(I,C){if(!C.notification)return;I.notification={};const T=C.notification.title;T&&(I.notification.title=T);const x=C.notification.body;x&&(I.notification.body=x);const z=C.notification.image;z&&(I.notification.image=z);const Y=C.notification.icon;Y&&(I.notification.icon=Y)}(C,I),function jr(I,C){!C.data||(I.data=C.data)}(C,I),function rl(I,C){var T,x,z,Y,de;if(!(C.fcmOptions||null!==(T=C.notification)&&void 0!==T&&T.click_action))return;I.fcmOptions={};const Re=null!==(z=null===(x=C.fcmOptions)||void 0===x?void 0:x.link)&&void 0!==z?z:null===(Y=C.notification)||void 0===Y?void 0:Y.click_action;Re&&(I.fcmOptions.link=Re);const Ve=null===(de=C.fcmOptions)||void 0===de?void 0:de.analytics_label;Ve&&(I.fcmOptions.analyticsLabel=Ve)}(C,I),C}function Gi(I){return"object"==typeof I&&!!I&&eo in I}function ti(I,C){const T=[];for(let x=0;x<I.length;x++)T.push(I.charAt(x)),x<C.length&&T.push(C.charAt(x));return T.join("")}function so(I){return Jt.create("missing-app-config-values",{valueName:I})}ti("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ti("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class zd{constructor(C,T,x){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const z=function Gd(I){if(!I||!I.options)throw so("App Configuration Object");if(!I.name)throw so("App Name");const C=["projectId","apiKey","appId","messagingSenderId"],{options:T}=I;for(const x of C)if(!T[x])throw so(x);return{appName:I.name,projectId:T.projectId,apiKey:T.apiKey,appId:T.appId,senderId:T.messagingSenderId}}(C);this.firebaseDependencies={app:C,appConfig:z,installations:T,analyticsProvider:x}}_delete(){return Promise.resolve()}}function il(I){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,O.Z)(function*(I){var C;try{I.swRegistration=yield navigator.serviceWorker.register(Ur,{scope:qr}),I.swRegistration.update().catch(()=>{})}catch(T){throw Jt.create("failed-service-worker-registration",{browserErrorMessage:null===(C=T)||void 0===C?void 0:C.message})}})).apply(this,arguments)}function oo(I,C){return sl.apply(this,arguments)}function sl(){return(sl=(0,O.Z)(function*(I,C){if(!C&&!I.swRegistration&&(yield il(I)),C||!I.swRegistration){if(!(C instanceof ServiceWorkerRegistration))throw Jt.create("invalid-sw-registration");I.swRegistration=C}})).apply(this,arguments)}function ao(I,C){return ol.apply(this,arguments)}function ol(){return(ol=(0,O.Z)(function*(I,C){C?I.vapidKey=C:I.vapidKey||(I.vapidKey=Yr)})).apply(this,arguments)}function Xo(){return(Xo=(0,O.Z)(function*(I,C){if(!navigator)throw Jt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Jt.create("permission-blocked");return yield ao(I,C?.vapidKey),yield oo(I,C?.serviceWorkerRegistration),Xa(I)})).apply(this,arguments)}function al(I,C,T){return ll.apply(this,arguments)}function ll(){return(ll=(0,O.Z)(function*(I,C,T){const x=ul(C);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(x,{message_id:T[eo],message_name:T[Ho],message_time:T[qa],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ul(I){switch(I){case Jr.NOTIFICATION_CLICKED:return"notification_open";case Jr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function zi(){return(zi=(0,O.Z)(function*(I,C){const T=C.data;if(!T.isFirebaseMessaging)return;I.onMessageHandler&&T.messageType===Jr.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(io(T)):I.onMessageHandler.next(io(T)));const x=T.data;Gi(x)&&"1"===x[vc]&&(yield al(I,T.messageType,x))})).apply(this,arguments)}const Ki="@firebase/messaging",Cn=I=>{const C=new zd(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",T=>function _u(I,C){return zi.apply(this,arguments)}(C,T)),C},ar=I=>{const C=I.getProvider("messaging").getImmediate();return{getToken:x=>function Jo(I,C){return Xo.apply(this,arguments)}(C,x)}};function cl(){return dl.apply(this,arguments)}function dl(){return(dl=(0,O.Z)(function*(){try{yield(0,re.eu)()}catch{return!1}return typeof window<"u"&&(0,re.hl)()&&(0,re.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Kt(){(0,oe._registerComponent)(new ce.wA("messaging",Cn,"PUBLIC")),(0,oe._registerComponent)(new ce.wA("messaging-internal",ar,"PRIVATE")),(0,oe.registerVersion)(Ki,"0.10.0"),(0,oe.registerVersion)(Ki,"0.10.0","esm2017")}();const Cs="analytics",Eu="firebase_id",qi="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ra="https://www.googletagmanager.com/gtag/js",rn=new fe.Yd("@firebase/analytics");function ia(I){return Promise.all(I.map(C=>C.catch(T=>T)))}function sa(I,C){const T=document.createElement("script");T.src=`${ra}?l=${I}&id=${C}`,T.async=!0,document.head.appendChild(T)}function wc(I,C,T,x,z,Y){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,O.Z)(function*(I,C,T,x,z,Y){const de=x[z];try{if(de)yield C[de];else{const Ve=(yield ia(T)).find(Qe=>Qe.measurementId===z);Ve&&(yield C[Ve.appId])}}catch(Re){rn.error(Re)}I("config",z,Y)})).apply(this,arguments)}function ws(I,C,T,x,z){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,O.Z)(function*(I,C,T,x,z){try{let Y=[];if(z&&z.send_to){let de=z.send_to;Array.isArray(de)||(de=[de]);const Re=yield ia(T);for(const Ve of de){const Qe=Re.find(Ze=>Ze.measurementId===Ve),ot=Qe&&C[Qe.appId];if(!ot){Y=[];break}Y.push(ot)}}0===Y.length&&(Y=Object.values(C)),yield Promise.all(Y),I("event",x,z||{})}catch(Y){rn.error(Y)}})).apply(this,arguments)}function Cu(I){const C=window.document.getElementsByTagName("script");for(const T of Object.values(C))if(T.src&&T.src.includes(ra)&&T.src.includes(I))return T;return null}const Pn=new re.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),fo=new class Hr{constructor(C={},T=1e3){this.throttleMetadata=C,this.intervalMillis=T}getThrottleMetadata(C){return this.throttleMetadata[C]}setThrottleMetadata(C,T){this.throttleMetadata[C]=T}deleteThrottleMetadata(C){delete this.throttleMetadata[C]}};function wu(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function ho(I){return hl.apply(this,arguments)}function hl(){return(hl=(0,O.Z)(function*(I){var C;const{appId:T,apiKey:x}=I,z={method:"GET",headers:wu(x)},Y=qi.replace("{app-id}",T),de=yield fetch(Y,z);if(200!==de.status&&304!==de.status){let Re="";try{const Ve=yield de.json();null!==(C=Ve.error)&&void 0!==C&&C.message&&(Re=Ve.error.message)}catch{}throw Pn.create("config-fetch-failed",{httpStatus:de.status,responseMessage:Re})}return de.json()})).apply(this,arguments)}function ln(I){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,O.Z)(function*(I,C=fo,T){const{appId:x,apiKey:z,measurementId:Y}=I.options;if(!x)throw Pn.create("no-app-id");if(!z){if(Y)return{measurementId:Y,appId:x};throw Pn.create("no-api-key")}const de=C.getThrottleMetadata(x)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Re=new ua;return setTimeout((0,O.Z)(function*(){Re.abort()}),void 0!==T?T:6e4),aa({appId:x,apiKey:z,measurementId:Y},de,Re,C)})).apply(this,arguments)}function aa(I,C,T){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,O.Z)(function*(I,{throttleEndTimeMillis:C,backoffCount:T},x,z=fo){var Y,de;const{appId:Re,measurementId:Ve}=I;try{yield po(x,C)}catch(Qe){if(Ve)return rn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ve} provided in the "measurementId" field in the local Firebase config. [${null===(Y=Qe)||void 0===Y?void 0:Y.message}]`),{appId:Re,measurementId:Ve};throw Qe}try{const Qe=yield ho(I);return z.deleteThrottleMetadata(Re),Qe}catch(Qe){const ot=Qe;if(!la(ot)){if(z.deleteThrottleMetadata(Re),Ve)return rn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ve} provided in the "measurementId" field in the local Firebase config. [${ot?.message}]`),{appId:Re,measurementId:Ve};throw Qe}const Ze=503===Number(null===(de=ot?.customData)||void 0===de?void 0:de.httpStatus)?(0,re.$s)(T,z.intervalMillis,30):(0,re.$s)(T,z.intervalMillis),Yt={throttleEndTimeMillis:Date.now()+Ze,backoffCount:T+1};return z.setThrottleMetadata(Re,Yt),rn.debug(`Calling attemptFetch again in ${Ze} millis`),aa(I,Yt,x,z)}})).apply(this,arguments)}function po(I,C){return new Promise((T,x)=>{const z=Math.max(C-Date.now(),0),Y=setTimeout(T,z);I.addEventListener(()=>{clearTimeout(Y),x(Pn.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}function la(I){if(!(I instanceof re.ZR&&I.customData))return!1;const C=Number(I.customData.httpStatus);return 429===C||500===C||503===C||504===C}class ua{constructor(){this.listeners=[]}addEventListener(C){this.listeners.push(C)}abort(){this.listeners.forEach(C=>C())}}let Di,_o;function wi(){return(wi=(0,O.Z)(function*(I,C,T,x,z){if(z&&z.global)I("event",T,x);else{const Y=yield C;I("event",T,Object.assign(Object.assign({},x),{send_to:Y}))}})).apply(this,arguments)}function Xi(I){_o=I}function ml(I){Di=I}function ni(){return da.apply(this,arguments)}function da(){return(da=(0,O.Z)(function*(){var I;if(!(0,re.hl)())return rn.warn(Pn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,re.eu)()}catch(C){return rn.warn(Pn.create("indexeddb-unavailable",{errorInfo:null===(I=C)||void 0===I?void 0:I.toString()}).message),!1}return!0})).apply(this,arguments)}function Ts(){return(Ts=(0,O.Z)(function*(I,C,T,x,z,Y,de){var Re;const Ve=ln(I);Ve.then(wn=>{T[wn.measurementId]=wn.appId,I.options.measurementId&&wn.measurementId!==I.options.measurementId&&rn.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${wn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(wn=>rn.error(wn)),C.push(Ve);const Qe=ni().then(wn=>{if(wn)return x.getId()}),[ot,Ze]=yield Promise.all([Ve,Qe]);Cu(Y)||sa(Y,ot.measurementId),_o&&(z("consent","default",_o),Xi(void 0)),z("js",new Date);const Yt=null!==(Re=de?.config)&&void 0!==Re?Re:{};return Yt.origin="firebase",Yt.update=!0,null!=Ze&&(Yt[Eu]=Ze),z("config",ot.measurementId,Yt),Di&&(z("set",Di),ml(void 0)),ot.measurementId})).apply(this,arguments)}class fa{constructor(C){this.app=C}_delete(){return delete lr[this.app.options.appId],Promise.resolve()}}let lr={},Ti=[];const As={};let Ms,es,Ss="dataLayer",yo=!1;function Kh(I,C,T){!function Kd(){const I=[];if((0,re.ru)()&&I.push("This is a browser extension environment."),(0,re.zI)()||I.push("Cookies are not available."),I.length>0){const C=I.map((x,z)=>`(${z+1}) ${x}`).join(" "),T=Pn.create("invalid-analytics-context",{errorInfo:C});rn.warn(T.message)}}();const x=I.options.appId;if(!x)throw Pn.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw Pn.create("no-api-key");rn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=lr[x])throw Pn.create("already-exists",{id:x});if(!yo){!function Iu(I){let C=[];Array.isArray(window[I])?C=window[I]:window[I]=C}(Ss);const{wrappedGtag:Y,gtagCore:de}=function lo(I,C,T,x,z){let Y=function(...de){window[x].push(arguments)};return window[z]&&"function"==typeof window[z]&&(Y=window[z]),window[z]=function oa(I,C,T,x){function Y(){return(Y=(0,O.Z)(function*(de,Re,Ve){try{"event"===de?yield ws(I,C,T,Re,Ve):"config"===de?yield wc(I,C,T,x,Re,Ve):"consent"===de?I("consent","update",Ve):I("set",Re)}catch(Qe){rn.error(Qe)}})).apply(this,arguments)}return function z(de,Re,Ve){return Y.apply(this,arguments)}}(Y,I,C,T),{gtagCore:Y,wrappedGtag:window[z]}}(lr,Ti,As,Ss,"gtag");es=Y,Ms=de,yo=!0}return lr[x]=function bs(I,C,T,x,z,Y,de){return Ts.apply(this,arguments)}(I,Ti,As,C,Ms,Ss,T),new fa(I)}function qh(){return bc.apply(this,arguments)}function bc(){return(bc=(0,O.Z)(function*(){if((0,re.ru)()||!(0,re.zI)()||!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch{return!1}})).apply(this,arguments)}const Tc="@firebase/analytics";!function Un(){(0,oe._registerComponent)(new ce.wA(Cs,(C,{options:T})=>Kh(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),T),"PUBLIC")),(0,oe._registerComponent)(new ce.wA("analytics-internal",function I(C){try{const T=C.getProvider(Cs).getImmediate();return{logEvent:(x,z,Y)=>function vo(I,C,T,x){I=(0,re.m9)(I),function bu(I,C,T,x,z){return wi.apply(this,arguments)}(es,lr[I.app.options.appId],C,T,x).catch(z=>rn.error(z))}(T,x,z,Y)}}catch(T){throw Pn.create("interop-component-reg-failed",{reason:T})}},"PRIVATE")),(0,oe.registerVersion)(Tc,"0.8.4"),(0,oe.registerVersion)(Tc,"0.8.4","esm2017")}();var Yn=k(4408),Ai=k(7565);const Eo=new class Dn extends Ai.v{}(class Ns extends Yn.o{constructor(C,T){super(C,T),this.scheduler=C,this.work=T}schedule(C,T=0){return T>0?super.schedule(C,T):(this.delay=T,this.state=C,this.scheduler.flush(this),this)}execute(C,T){return T>0||this.closed?super.execute(C,T):this._execute(C,T)}requestAsyncId(C,T,x=0){return null!=x&&x>0||null==x&&this.delay>0?super.requestAsyncId(C,T,x):(C.flush(this),0)}});var Rr=k(4986),jn=k(576),Qn=k(4482),pa=k(5403),Jn=k(4671),Rs=k(9468),Su=k(5363);const yl=new h.GfV("7.4.1"),vl="__angularfire_symbol__analyticsIsSupportedValue",El="__angularfire_symbol__analyticsIsSupported",Hn="__angularfire_symbol__remoteConfigIsSupportedValue",ur="__angularfire_symbol__remoteConfigIsSupported",ga="__angularfire_symbol__messagingIsSupportedValue",Il="__angularfire_symbol__messagingIsSupported";function Os(I,C,T){if(C){if(1===C.length)return C[0];const Y=C.filter(de=>de.app===T);if(1===Y.length)return Y[0]}return T.container.getProvider(I).getImmediate({optional:!0})}globalThis[El]||(globalThis[El]=qh().then(I=>globalThis[vl]=I).catch(()=>globalThis[vl]=!1)),globalThis[Il]||(globalThis[Il]=cl().then(I=>globalThis[ga]=I).catch(()=>globalThis[ga]=!1)),globalThis[ur]||(globalThis[ur]=jo().then(I=>globalThis[Hn]=I).catch(()=>globalThis[Hn]=!1));const Do=(I,C)=>{const T=C?[C]:(0,J.C6)(),x=[];return T.forEach(z=>{z.container.getProvider(I).instances.forEach(de=>{x.includes(de)||x.push(de)})}),x};function ri(){}class xs{constructor(C,T=Eo){this.zone=C,this.delegate=T}now(){return this.delegate.now()}schedule(C,T,x){const z=this.zone;return this.delegate.schedule(function(de){z.runGuarded(()=>{C.apply(this,[de])})},T,x)}}class ma{constructor(C){this.zone=C,this.task=null}call(C,T){const x=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ri,{},ri,ri)),T.pipe(function Io(I,C,T){const x=(0,jn.m)(I)||C||T?{next:I,error:C,complete:T}:I;return x?(0,Qn.e)((z,Y)=>{var de;null===(de=x.subscribe)||void 0===de||de.call(x);let Re=!0;z.subscribe((0,pa.x)(Y,Ve=>{var Qe;null===(Qe=x.next)||void 0===Qe||Qe.call(x,Ve),Y.next(Ve)},()=>{var Ve;Re=!1,null===(Ve=x.complete)||void 0===Ve||Ve.call(x),Y.complete()},Ve=>{var Qe;Re=!1,null===(Qe=x.error)||void 0===Qe||Qe.call(x,Ve),Y.error(Ve)},()=>{var Ve,Qe;Re&&(null===(Ve=x.unsubscribe)||void 0===Ve||Ve.call(x)),null===(Qe=x.finalize)||void 0===Qe||Qe.call(x)}))}):Jn.y}({next:x,complete:x,error:x})).subscribe(C).add(x)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Mu=(()=>{class I{constructor(T){this.ngZone=T,this.outsideAngular=T.runOutsideAngular(()=>new xs(Zone.current)),this.insideAngular=T.run(()=>new xs(Zone.current,Rr.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(T){return new(T||I)(h.LFG(h.R0b))},I.\u0275prov=h.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function dr(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function wo(I){return dr(),function _a(I){return function(T){return(T=T.lift(new ma(I.ngZone))).pipe((0,Rs.R)(I.outsideAngular),(0,Su.Q)(I.insideAngular))}}(dr())(I)}},2090:(nt,we,k)=>{k.d(we,{$s:()=>ze,BH:()=>Ct,DV:()=>rr,Dv:()=>An,GJ:()=>hi,L:()=>ue,LL:()=>Tt,Pz:()=>At,Sg:()=>He,UG:()=>Te,UI:()=>gs,US:()=>ce,Wj:()=>ct,Wl:()=>Vt,Yr:()=>he,ZB:()=>B,ZR:()=>Gt,aH:()=>et,b$:()=>se,cI:()=>gt,dS:()=>Mt,eu:()=>xe,g5:()=>O,gK:()=>an,gQ:()=>Xt,h$:()=>fe,hl:()=>Oe,hu:()=>J,jU:()=>Ne,lb:()=>Kr,m9:()=>_t,ne:()=>un,p$:()=>H,pd:()=>Vr,r3:()=>Ar,ru:()=>ae,tV:()=>_e,uI:()=>Se,ug:()=>Sr,vZ:()=>$e,w1:()=>We,w9:()=>zn,xO:()=>yn,xb:()=>hr,z$:()=>je,zI:()=>L,zd:()=>pr});const J=function(V,F){if(!V)throw O(F)},O=function(V){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+V)},oe=function(V){const F=[];let G=0;for(let pe=0;pe<V.length;pe++){let Z=V.charCodeAt(pe);Z<128?F[G++]=Z:Z<2048?(F[G++]=Z>>6|192,F[G++]=63&Z|128):55296==(64512&Z)&&pe+1<V.length&&56320==(64512&V.charCodeAt(pe+1))?(Z=65536+((1023&Z)<<10)+(1023&V.charCodeAt(++pe)),F[G++]=Z>>18|240,F[G++]=Z>>12&63|128,F[G++]=Z>>6&63|128,F[G++]=63&Z|128):(F[G++]=Z>>12|224,F[G++]=Z>>6&63|128,F[G++]=63&Z|128)}return F},ce={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(V,F){if(!Array.isArray(V))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=F?this.byteToCharMapWebSafe_:this.byteToCharMap_,pe=[];for(let Z=0;Z<V.length;Z+=3){const Le=V[Z],Je=Z+1<V.length,Pt=Je?V[Z+1]:0,Bt=Z+2<V.length,wt=Bt?V[Z+2]:0;let It=(15&Pt)<<2|wt>>6,Sn=63&wt;Bt||(Sn=64,Je||(It=64)),pe.push(G[Le>>2],G[(3&Le)<<4|Pt>>4],G[It],G[Sn])}return pe.join("")},encodeString(V,F){return this.HAS_NATIVE_SUPPORT&&!F?btoa(V):this.encodeByteArray(oe(V),F)},decodeString(V,F){return this.HAS_NATIVE_SUPPORT&&!F?atob(V):function(V){const F=[];let G=0,pe=0;for(;G<V.length;){const Z=V[G++];if(Z<128)F[pe++]=String.fromCharCode(Z);else if(Z>191&&Z<224){const Le=V[G++];F[pe++]=String.fromCharCode((31&Z)<<6|63&Le)}else if(Z>239&&Z<365){const Bt=((7&Z)<<18|(63&V[G++])<<12|(63&V[G++])<<6|63&V[G++])-65536;F[pe++]=String.fromCharCode(55296+(Bt>>10)),F[pe++]=String.fromCharCode(56320+(1023&Bt))}else{const Le=V[G++],Je=V[G++];F[pe++]=String.fromCharCode((15&Z)<<12|(63&Le)<<6|63&Je)}}return F.join("")}(this.decodeStringToByteArray(V,F))},decodeStringToByteArray(V,F){this.init_();const G=F?this.charToByteMapWebSafe_:this.charToByteMap_,pe=[];for(let Z=0;Z<V.length;){const Le=G[V.charAt(Z++)],Pt=Z<V.length?G[V.charAt(Z)]:0;++Z;const wt=Z<V.length?G[V.charAt(Z)]:64;++Z;const ke=Z<V.length?G[V.charAt(Z)]:64;if(++Z,null==Le||null==Pt||null==wt||null==ke)throw Error();pe.push(Le<<2|Pt>>4),64!==wt&&(pe.push(Pt<<4&240|wt>>2),64!==ke&&pe.push(wt<<6&192|ke))}return pe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let V=0;V<this.ENCODED_VALS.length;V++)this.byteToCharMap_[V]=this.ENCODED_VALS.charAt(V),this.charToByteMap_[this.byteToCharMap_[V]]=V,this.byteToCharMapWebSafe_[V]=this.ENCODED_VALS_WEBSAFE.charAt(V),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[V]]=V,V>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(V)]=V,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(V)]=V)}}},fe=function(V){const F=oe(V);return ce.encodeByteArray(F,!0)},ue=function(V){return fe(V).replace(/\./g,"")},_e=function(V){try{return ce.decodeString(V,!0)}catch(F){console.error("base64Decode failed: ",F)}return null};function H(V){return B(void 0,V)}function B(V,F){if(!(F instanceof Object))return F;switch(F.constructor){case Date:return new Date(F.getTime());case Object:void 0===V&&(V={});break;case Array:V=[];break;default:return F}for(const G in F)!F.hasOwnProperty(G)||!X(G)||(V[G]=B(V[G],F[G]));return V}function X(V){return"__proto__"!==V}function je(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Se(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(je())}function Te(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ne(){return"object"==typeof self&&self.self===self}function ae(){const V="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof V&&void 0!==V.id}function se(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function We(){const V=je();return V.indexOf("MSIE ")>=0||V.indexOf("Trident/")>=0}function he(){return!1}function Oe(){return"object"==typeof indexedDB}function xe(){return new Promise((V,F)=>{try{let G=!0;const pe="validate-browser-context-for-indexeddb-analytics-module",Z=self.indexedDB.open(pe);Z.onsuccess=()=>{Z.result.close(),G||self.indexedDB.deleteDatabase(pe),V(!0)},Z.onupgradeneeded=()=>{G=!1},Z.onerror=()=>{var Le;F((null===(Le=Z.error)||void 0===Le?void 0:Le.message)||"")}}catch(G){F(G)}})}function L(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const ee=()=>{try{return function le(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const V=process.env.__FIREBASE_DEFAULTS__;return V?JSON.parse(V):void 0})()||(()=>{if(typeof document>"u")return;let V;try{V=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const F=V&&_e(V[1]);return F&&JSON.parse(F)})()}catch(V){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${V}`)}},et=()=>{var V;return null===(V=ee())||void 0===V?void 0:V.config},At=V=>{var F;return null===(F=ee())||void 0===F?void 0:F[`_${V}`]};class Ct{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((F,G)=>{this.resolve=F,this.reject=G})}wrapCallback(F){return(G,pe)=>{G?this.reject(G):this.resolve(pe),"function"==typeof F&&(this.promise.catch(()=>{}),1===F.length?F(G):F(G,pe))}}}function He(V,F){if(V.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const pe=F||"demo-project",Z=V.iat||0,Le=V.sub||V.user_id;if(!Le)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Je=Object.assign({iss:`https://securetoken.google.com/${pe}`,aud:pe,iat:Z,exp:Z+3600,auth_time:Z,sub:Le,user_id:Le,firebase:{sign_in_provider:"custom",identities:{}}},V);return[ue(JSON.stringify({alg:"none",type:"JWT"})),ue(JSON.stringify(Je)),""].join(".")}class Gt extends Error{constructor(F,G,pe){super(G),this.code=F,this.customData=pe,this.name="FirebaseError",Object.setPrototypeOf(this,Gt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tt.prototype.create)}}class Tt{constructor(F,G,pe){this.service=F,this.serviceName=G,this.errors=pe}create(F,...G){const pe=G[0]||{},Z=`${this.service}/${F}`,Le=this.errors[F],Je=Le?function St(V,F){return V.replace(Wn,(G,pe)=>{const Z=F[pe];return null!=Z?String(Z):`<${pe}?>`})}(Le,pe):"Error";return new Gt(Z,`${this.serviceName}: ${Je} (${Z}).`,pe)}}const Wn=/\{\$([^}]+)}/g;function gt(V){return JSON.parse(V)}function Vt(V){return JSON.stringify(V)}const fi=function(V){let F={},G={},pe={},Z="";try{const Le=V.split(".");F=gt(_e(Le[0])||""),G=gt(_e(Le[1])||""),Z=Le[2],pe=G.d||{},delete G.d}catch{}return{header:F,claims:G,data:pe,signature:Z}},zn=function(V){const G=fi(V).claims;return!!G&&"object"==typeof G&&G.hasOwnProperty("iat")},hi=function(V){const F=fi(V).claims;return"object"==typeof F&&!0===F.admin};function Ar(V,F){return Object.prototype.hasOwnProperty.call(V,F)}function rr(V,F){if(Object.prototype.hasOwnProperty.call(V,F))return V[F]}function hr(V){for(const F in V)if(Object.prototype.hasOwnProperty.call(V,F))return!1;return!0}function gs(V,F,G){const pe={};for(const Z in V)Object.prototype.hasOwnProperty.call(V,Z)&&(pe[Z]=F.call(G,V[Z],Z,V));return pe}function $e(V,F){if(V===F)return!0;const G=Object.keys(V),pe=Object.keys(F);for(const Z of G){if(!pe.includes(Z))return!1;const Le=V[Z],Je=F[Z];if(Ln(Le)&&Ln(Je)){if(!$e(Le,Je))return!1}else if(Le!==Je)return!1}for(const Z of pe)if(!G.includes(Z))return!1;return!0}function Ln(V){return null!==V&&"object"==typeof V}function yn(V){const F=[];for(const[G,pe]of Object.entries(V))Array.isArray(pe)?pe.forEach(Z=>{F.push(encodeURIComponent(G)+"="+encodeURIComponent(Z))}):F.push(encodeURIComponent(G)+"="+encodeURIComponent(pe));return F.length?"&"+F.join("&"):""}function pr(V){const F={};return V.replace(/^\?/,"").split("&").forEach(pe=>{if(pe){const[Z,Le]=pe.split("=");F[decodeURIComponent(Z)]=decodeURIComponent(Le)}}),F}function Vr(V){const F=V.indexOf("?");if(!F)return"";const G=V.indexOf("#",F);return V.substring(F,G>0?G:void 0)}class Xt{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let F=1;F<this.blockSize;++F)this.pad_[F]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(F,G){G||(G=0);const pe=this.W_;if("string"==typeof F)for(let ke=0;ke<16;ke++)pe[ke]=F.charCodeAt(G)<<24|F.charCodeAt(G+1)<<16|F.charCodeAt(G+2)<<8|F.charCodeAt(G+3),G+=4;else for(let ke=0;ke<16;ke++)pe[ke]=F[G]<<24|F[G+1]<<16|F[G+2]<<8|F[G+3],G+=4;for(let ke=16;ke<80;ke++){const It=pe[ke-3]^pe[ke-8]^pe[ke-14]^pe[ke-16];pe[ke]=4294967295&(It<<1|It>>>31)}let wt,Pe,Z=this.chain_[0],Le=this.chain_[1],Je=this.chain_[2],Pt=this.chain_[3],Bt=this.chain_[4];for(let ke=0;ke<80;ke++){ke<40?ke<20?(wt=Pt^Le&(Je^Pt),Pe=1518500249):(wt=Le^Je^Pt,Pe=1859775393):ke<60?(wt=Le&Je|Pt&(Le|Je),Pe=2400959708):(wt=Le^Je^Pt,Pe=3395469782);const It=(Z<<5|Z>>>27)+wt+Bt+Pe+pe[ke]&4294967295;Bt=Pt,Pt=Je,Je=4294967295&(Le<<30|Le>>>2),Le=Z,Z=It}this.chain_[0]=this.chain_[0]+Z&4294967295,this.chain_[1]=this.chain_[1]+Le&4294967295,this.chain_[2]=this.chain_[2]+Je&4294967295,this.chain_[3]=this.chain_[3]+Pt&4294967295,this.chain_[4]=this.chain_[4]+Bt&4294967295}update(F,G){if(null==F)return;void 0===G&&(G=F.length);const pe=G-this.blockSize;let Z=0;const Le=this.buf_;let Je=this.inbuf_;for(;Z<G;){if(0===Je)for(;Z<=pe;)this.compress_(F,Z),Z+=this.blockSize;if("string"==typeof F){for(;Z<G;)if(Le[Je]=F.charCodeAt(Z),++Je,++Z,Je===this.blockSize){this.compress_(Le),Je=0;break}}else for(;Z<G;)if(Le[Je]=F[Z],++Je,++Z,Je===this.blockSize){this.compress_(Le),Je=0;break}}this.inbuf_=Je,this.total_+=G}digest(){const F=[];let G=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let Z=this.blockSize-1;Z>=56;Z--)this.buf_[Z]=255&G,G/=256;this.compress_(this.buf_);let pe=0;for(let Z=0;Z<5;Z++)for(let Le=24;Le>=0;Le-=8)F[pe]=this.chain_[Z]>>Le&255,++pe;return F}}function un(V,F){const G=new jt(V,F);return G.subscribe.bind(G)}class jt{constructor(F,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{F(this)}).catch(pe=>{this.error(pe)})}next(F){this.forEachObserver(G=>{G.next(F)})}error(F){this.forEachObserver(G=>{G.error(F)}),this.close(F)}complete(){this.forEachObserver(F=>{F.complete()}),this.close()}subscribe(F,G,pe){let Z;if(void 0===F&&void 0===G&&void 0===pe)throw new Error("Missing Observer.");Z=function qe(V,F){if("object"!=typeof V||null===V)return!1;for(const G of F)if(G in V&&"function"==typeof V[G])return!0;return!1}(F,["next","error","complete"])?F:{next:F,error:G,complete:pe},void 0===Z.next&&(Z.next=kt),void 0===Z.error&&(Z.error=kt),void 0===Z.complete&&(Z.complete=kt);const Le=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Z.error(this.finalError):Z.complete()}catch{}}),this.observers.push(Z),Le}unsubscribeOne(F){void 0===this.observers||void 0===this.observers[F]||(delete this.observers[F],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(F){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,F)}sendOne(F,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[F])try{G(this.observers[F])}catch(pe){typeof console<"u"&&console.error&&console.error(pe)}})}close(F){this.finalized||(this.finalized=!0,void 0!==F&&(this.finalError=F),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kt(){}const An=function(V,F,G,pe){let Z;if(pe<F?Z="at least "+F:pe>G&&(Z=0===G?"none":"no more than "+G),Z)throw new Error(V+" failed: Was called with "+pe+(1===pe?" argument.":" arguments.")+" Expects "+Z+".")};function an(V,F){return`${V} failed: ${F} argument `}function ct(V,F,G,pe){if((!pe||G)&&"function"!=typeof G)throw new Error(an(V,F)+"must be a valid function.")}function Kr(V,F,G,pe){if((!pe||G)&&("object"!=typeof G||null===G))throw new Error(an(V,F)+"must be a valid context object.")}const Mt=function(V){const F=[];let G=0;for(let pe=0;pe<V.length;pe++){let Z=V.charCodeAt(pe);if(Z>=55296&&Z<=56319){const Le=Z-55296;pe++,J(pe<V.length,"Surrogate pair missing trail surrogate."),Z=65536+(Le<<10)+(V.charCodeAt(pe)-56320)}Z<128?F[G++]=Z:Z<2048?(F[G++]=Z>>6|192,F[G++]=63&Z|128):Z<65536?(F[G++]=Z>>12|224,F[G++]=Z>>6&63|128,F[G++]=63&Z|128):(F[G++]=Z>>18|240,F[G++]=Z>>12&63|128,F[G++]=Z>>6&63|128,F[G++]=63&Z|128)}return F},Sr=function(V){let F=0;for(let G=0;G<V.length;G++){const pe=V.charCodeAt(G);pe<128?F++:pe<2048?F+=2:pe>=55296&&pe<=56319?(F+=4,G++):F+=3}return F};function ze(V,F=1e3,G=2){const pe=F*Math.pow(G,V),Z=Math.round(.5*pe*(Math.random()-.5)*2);return Math.min(144e5,pe+Z)}function _t(V){return V&&V._delegate?V._delegate:V}},4214:(nt,we,k)=>{var h=k(4650);let J=null;function O(){return J}const fe=new h.OlP("DocumentToken");let Ot=(()=>{class r{constructor(e,o,u,p){this._iterableDiffers=e,this._keyValueDiffers=o,this._ngEl=u,this._renderer=p,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,h.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(o=>this._toggleClass(o.key,o.currentValue)),e.forEachChangedItem(o=>this._toggleClass(o.key,o.currentValue)),e.forEachRemovedItem(o=>{o.previousValue&&this._toggleClass(o.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(o=>{if("string"!=typeof o.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,h.AaK)(o.item)}`);this._toggleClass(o.item,!0)}),e.forEachRemovedItem(o=>this._toggleClass(o.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(o=>this._toggleClass(o,!0)):Object.keys(e).forEach(o=>this._toggleClass(o,!!e[o])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(o=>this._toggleClass(o,!1)):Object.keys(e).forEach(o=>this._toggleClass(o,!1)))}_toggleClass(e,o){(e=e.trim())&&e.split(/\s+/g).forEach(u=>{o?this._renderer.addClass(this._ngEl.nativeElement,u):this._renderer.removeClass(this._ngEl.nativeElement,u)})}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.ZZ4),h.Y36(h.aQg),h.Y36(h.SBq),h.Y36(h.Qsj))},r.\u0275dir=h.lG2({type:r,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),r})(),fn=(()=>{class r{constructor(e,o){this._viewContainer=e,this._context=new Wa,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Mn("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Mn("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,o){return!0}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.s_b),h.Y36(h.Rgc))},r.\u0275dir=h.lG2({type:r,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),r})();class Wa{constructor(){this.$implicit=null,this.ngIf=null}}function Mn(r,n){if(n&&!n.createEmbeddedView)throw new Error(`${r} must be a TemplateRef, but received '${(0,h.AaK)(n)}'.`)}let Uo=(()=>{class r{constructor(e,o,u){this._ngEl=e,this._differs=o,this._renderer=u,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,o){const[u,p]=e.split("."),y=-1===u.indexOf("-")?void 0:h.JOm.DashCase;null!=o?this._renderer.setStyle(this._ngEl.nativeElement,u,p?`${o}${p}`:o,y):this._renderer.removeStyle(this._ngEl.nativeElement,u,y)}_applyChanges(e){e.forEachRemovedItem(o=>this._setStyle(o.key,null)),e.forEachAddedItem(o=>this._setStyle(o.key,o.currentValue)),e.forEachChangedItem(o=>this._setStyle(o.key,o.currentValue))}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.SBq),h.Y36(h.aQg),h.Y36(h.Qsj))},r.\u0275dir=h.lG2({type:r,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),r})();const vi=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let _c=(()=>{class r{transform(e){if(null==e)return null;if("string"!=typeof e)throw function In(r,n){return new h.vHH(2100,!1)}();return e.replace(vi,o=>o[0].toUpperCase()+o.slice(1).toLowerCase())}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275pipe=h.Yjl({name:"titlecase",type:r,pure:!0,standalone:!0}),r})(),Qr=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({}),r})();class zi extends class _u extends class ce{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function re(r){J||(J=r)}(new zi)}onAndCancel(n,e,o){return n.addEventListener(e,o,!1),()=>{n.removeEventListener(e,o,!1)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=function ea(){return Ki=Ki||document.querySelector("base"),Ki?Ki.getAttribute("href"):null}();return null==e?null:function ar(r){Cn=Cn||document.createElement("a"),Cn.setAttribute("href",r);const n=Cn.pathname;return"/"===n.charAt(0)?n:`/${n}`}(e)}resetBaseElement(){Ki=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return function Vo(r,n){n=encodeURIComponent(n);for(const e of r.split(";")){const o=e.indexOf("="),[u,p]=-1==o?[e,""]:[e.slice(0,o),e.slice(o+1)];if(u.trim()===n)return decodeURIComponent(p)}return null}(document.cookie,n)}}let Cn,Ki=null;const Kt=new h.OlP("TRANSITION_ID"),dl=[{provide:h.ip1,useFactory:function cl(r,n,e){return()=>{e.get(h.CZH).donePromise.then(()=>{const o=O(),u=n.querySelectorAll(`style[ng-transition="${r}"]`);for(let p=0;p<u.length;p++)o.remove(u[p])})}},deps:[Kt,fe,h.zs3],multi:!0}];let fl=(()=>{class r{build(){return new XMLHttpRequest}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac}),r})();const ta=new h.OlP("EventManagerPlugins");let yu=(()=>{class r{constructor(e,o){this._zone=o,this._eventNameToPlugin=new Map,e.forEach(u=>u.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,o,u){return this._findPluginFor(o).addEventListener(e,o,u)}addGlobalEventListener(e,o,u){return this._findPluginFor(o).addGlobalEventListener(e,o,u)}getZone(){return this._zone}_findPluginFor(e){const o=this._eventNameToPlugin.get(e);if(o)return o;const u=this._plugins;for(let p=0;p<u.length;p++){const y=u[p];if(y.supports(e))return this._eventNameToPlugin.set(e,y),y}throw new Error(`No event manager plugin found for event ${e}`)}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(ta),h.LFG(h.R0b))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac}),r})();class na{constructor(n){this._doc=n}addGlobalEventListener(n,e,o){const u=O().getGlobalEventTarget(this._doc,n);if(!u)throw new Error(`Unsupported event target ${u} for event ${e}`);return this.addEventListener(u,e,o)}}let Zi=(()=>{class r{constructor(){this._stylesSet=new Set}addStyles(e){const o=new Set;e.forEach(u=>{this._stylesSet.has(u)||(this._stylesSet.add(u),o.add(u))}),this.onStylesAdded(o)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac}),r})(),Is=(()=>{class r extends Zi{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,o,u){e.forEach(p=>{const y=this._doc.createElement("style");y.textContent=p,u.push(o.appendChild(y))})}addHost(e){const o=[];this._addStylesToHost(this._stylesSet,e,o),this._hostNodes.set(e,o)}removeHost(e){const o=this._hostNodes.get(e);o&&o.forEach(vu),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((o,u)=>{this._addStylesToHost(e,u,o)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(vu))}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(fe))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac}),r})();function vu(r){O().remove(r)}const Cs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Eu=/%COMP%/g;function sa(r,n,e){for(let o=0;o<n.length;o++){let u=n[o];Array.isArray(u)?sa(r,u,e):(u=u.replace(Eu,r),e.push(u))}return e}function Iu(r){return n=>{if("__ngUnwrap__"===n)return r;!1===r(n)&&(n.preventDefault(),n.returnValue=!1)}}let Ds=(()=>{class r{constructor(e,o,u){this.eventManager=e,this.sharedStylesHost=o,this.appId=u,this.rendererByCompId=new Map,this.defaultRenderer=new ws(e)}createRenderer(e,o){if(!e||!o)return this.defaultRenderer;switch(o.encapsulation){case h.ifc.Emulated:{let u=this.rendererByCompId.get(o.id);return u||(u=new Cu(this.eventManager,this.sharedStylesHost,o,this.appId),this.rendererByCompId.set(o.id,u)),u.applyToHost(e),u}case 1:case h.ifc.ShadowDom:return new Du(this.eventManager,this.sharedStylesHost,e,o);default:if(!this.rendererByCompId.has(o.id)){const u=sa(o.id,o.styles,[]);this.sharedStylesHost.addStyles(u),this.rendererByCompId.set(o.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(yu),h.LFG(Is),h.LFG(h.AFp))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac}),r})();class ws{constructor(n){this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,e){return e?document.createElementNS(Cs[e]||e,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,e){(lo(n)?n.content:n).appendChild(e)}insertBefore(n,e,o){n&&(lo(n)?n.content:n).insertBefore(e,o)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let o="string"==typeof n?document.querySelector(n):n;if(!o)throw new Error(`The selector "${n}" did not match any elements`);return e||(o.textContent=""),o}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,o,u){if(u){e=u+":"+e;const p=Cs[u];p?n.setAttributeNS(p,e,o):n.setAttribute(e,o)}else n.setAttribute(e,o)}removeAttribute(n,e,o){if(o){const u=Cs[o];u?n.removeAttributeNS(u,e):n.removeAttribute(`${o}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,o,u){u&(h.JOm.DashCase|h.JOm.Important)?n.style.setProperty(e,o,u&h.JOm.Important?"important":""):n.style[e]=o}removeStyle(n,e,o){o&h.JOm.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,o){n[e]=o}setValue(n,e){n.nodeValue=e}listen(n,e,o){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,e,Iu(o)):this.eventManager.addEventListener(n,e,Iu(o))}}function lo(r){return"TEMPLATE"===r.tagName&&void 0!==r.content}class Cu extends ws{constructor(n,e,o,u){super(n),this.component=o;const p=sa(u+"-"+o.id,o.styles,[]);e.addStyles(p),this.contentAttr=function rn(r){return"_ngcontent-%COMP%".replace(Eu,r)}(u+"-"+o.id),this.hostAttr=function ia(r){return"_nghost-%COMP%".replace(Eu,r)}(u+"-"+o.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,e){const o=super.createElement(n,e);return super.setAttribute(o,this.contentAttr,""),o}}class Du extends ws{constructor(n,e,o,u){super(n),this.sharedStylesHost=e,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const p=sa(u.id,u.styles,[]);for(let y=0;y<p.length;y++){const D=document.createElement("style");D.textContent=p[y],this.shadowRoot.appendChild(D)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,o){return super.insertBefore(this.nodeOrShadowRoot(n),e,o)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let Pn=(()=>{class r extends na{constructor(e){super(e)}supports(e){return!0}addEventListener(e,o,u){return e.addEventListener(o,u,!1),()=>this.removeEventListener(e,o,u)}removeEventListener(e,o,u){return e.removeEventListener(o,u)}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(fe))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac}),r})();const uo=["alt","control","meta","shift"],co={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Hr={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey};let fo=(()=>{class r extends na{constructor(e){super(e)}supports(e){return null!=r.parseEventName(e)}addEventListener(e,o,u){const p=r.parseEventName(o),y=r.eventCallback(p.fullKey,u,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(e,p.domEventName,y))}static parseEventName(e){const o=e.toLowerCase().split("."),u=o.shift();if(0===o.length||"keydown"!==u&&"keyup"!==u)return null;const p=r._normalizeKey(o.pop());let y="",D=o.indexOf("code");if(D>-1&&(o.splice(D,1),y="code."),uo.forEach(P=>{const W=o.indexOf(P);W>-1&&(o.splice(W,1),y+=P+".")}),y+=p,0!=o.length||0===p.length)return null;const A={};return A.domEventName=u,A.fullKey=y,A}static matchEventFullKeyCode(e,o){let u=co[e.key]||e.key,p="";return o.indexOf("code.")>-1&&(u=e.code,p="code."),!(null==u||!u)&&(u=u.toLowerCase()," "===u?u="space":"."===u&&(u="dot"),uo.forEach(y=>{y!==u&&(0,Hr[y])(e)&&(p+=y+".")}),p+=u,p===o)}static eventCallback(e,o,u){return p=>{r.matchEventFullKeyCode(p,e)&&u.runGuarded(()=>o(p))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(fe))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac}),r})();const ua=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:"browser"},{provide:h.g9A,useValue:function aa(){zi.makeCurrent()},multi:!0},{provide:fe,useFactory:function po(){return(0,h.RDi)(document),document},deps:[]}]),Di=new h.OlP(""),bu=[{provide:h.rWj,useClass:class Dc{addToWindow(n){h.dqk.getAngularTestability=(o,u=!0)=>{const p=n.findTestabilityInTree(o,u);if(null==p)throw new Error("Could not find testability for element.");return p},h.dqk.getAllAngularTestabilities=()=>n.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>n.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(o=>{const u=h.dqk.getAllAngularTestabilities();let p=u.length,y=!1;const D=function(A){y=y||A,p--,0==p&&o(y)};u.forEach(function(A){A.whenStable(D)})})}findTestabilityInTree(n,e,o){return null==e?null:n.getTestability(e)??(o?O().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null)}},deps:[]},{provide:h.lri,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]}],wi=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function Qi(){return new h.qLn},deps:[]},{provide:ta,useClass:Pn,multi:!0,deps:[fe,h.R0b,h.Lbi]},{provide:ta,useClass:fo,multi:!0,deps:[fe]},{provide:Ds,useClass:Ds,deps:[yu,Is,h.AFp]},{provide:h.FYo,useExisting:Ds},{provide:Zi,useExisting:Is},{provide:Is,useClass:Is,deps:[fe]},{provide:yu,useClass:yu,deps:[ta,h.R0b]},{provide:class vs{},useClass:fl,deps:[]},[]];let pl=(()=>{class r{constructor(e){}static withServerTransition(e){return{ngModule:r,providers:[{provide:h.AFp,useValue:e.appId},{provide:Kt,useExisting:h.AFp},dl]}}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(Di,12))},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({providers:[...wi,...bu],imports:[Qr,h.hGG]}),r})();typeof window<"u"&&window;var vo=k(7579);class Ps extends vo.x{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){const{hasError:n,thrownError:e,_value:o}=this;if(n)throw e;return this._throwIfClosed(),o}next(n){super.next(this._value=n)}}var Tc=k(4986),ts=k(8306),Un=k(7669),Yn=k(8996);function Ns(...r){const n=(0,Un.yG)(r);return(0,Yn.D)(r,n)}var Ai=k(831),Dn=k(4004),Eo=k(3099),Au=k(8421),Rr=k(4482),jn=k(5403);function Qn(r,n){return(0,Rr.e)((e,o)=>{let u=null,p=0,y=!1;const D=()=>y&&!u&&o.complete();e.subscribe((0,jn.x)(o,A=>{u?.unsubscribe();let P=0;const W=p++;(0,Au.Xf)(r(A,W)).subscribe(u=(0,jn.x)(o,K=>o.next(n?n(A,K,W,P++):K),()=>{u=null,D()}))},()=>{y=!0,D()}))})}function pa(r,n,e,o,u){return(p,y)=>{let D=e,A=n,P=0;p.subscribe((0,jn.x)(y,W=>{const K=P++;A=D?r(A,W,K):(D=!0,W),o&&y.next(A)},u&&(()=>{D&&y.next(A),y.complete()})))}}function Jn(r,n){return(0,Rr.e)(pa(r,n,arguments.length>=2,!0))}var Io=k(4671);function Su(r,n){return r===n}var yl=k(5032),Hn=k(2680),ur=k(2011),Il=(k(1277),k(3942)),cr=k(4859),Or=k(5861),Co=k(9681),R=k(2090),Os=k(1877);const Do="@firebase/database",ri="0.13.10";let xs="";function ma(r){xs=r}class Mu{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,e){null==e?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),(0,R.Wl)(e))}get(n){const e=this.domStorage_.getItem(this.prefixedName_(n));return null==e?null:(0,R.cI)(e)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}class dr{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,e){null==e?delete this.cache_[n]:this.cache_[n]=e}get(n){return(0,R.r3)(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}const Si=function(r){try{if(typeof window<"u"&&typeof window[r]<"u"){const n=window[r];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new Mu(n)}}catch{}return new dr},Xn=Si("localStorage"),sn=Si("sessionStorage"),ks=new Os.Yd("@firebase/database"),wo=function(){let r=1;return function(){return r++}}(),_a=function(r){const n=(0,R.dS)(r),e=new R.gQ;e.update(n);const o=e.digest();return R.US.encodeByteArray(o)},ii=function(...r){let n="";for(let e=0;e<r.length;e++){const o=r[e];Array.isArray(o)||o&&"object"==typeof o&&"number"==typeof o.length?n+=ii.apply(null,o):n+="object"==typeof o?(0,R.Wl)(o):o,n+=" "}return n};let Mi=null,I=!0;const C=function(r,n){(0,R.hu)(!n||!0===r||!1===r,"Can't turn on custom loggers persistently."),!0===r?(ks.logLevel=Os.in.VERBOSE,Mi=ks.log.bind(ks),n&&sn.set("logging_enabled",!0)):"function"==typeof r?Mi=r:(Mi=null,sn.remove("logging_enabled"))},T=function(...r){if(!0===I&&(I=!1,null===Mi&&!0===sn.get("logging_enabled")&&C(!0)),Mi){const n=ii.apply(null,r);Mi(n)}},x=function(r){return function(...n){T(r,...n)}},z=function(...r){const n="FIREBASE INTERNAL ERROR: "+ii(...r);ks.error(n)},Y=function(...r){const n=`FIREBASE FATAL ERROR: ${ii(...r)}`;throw ks.error(n),new Error(n)},de=function(...r){const n="FIREBASE WARNING: "+ii(...r);ks.warn(n)},Ve=function(r){return"number"==typeof r&&(r!=r||r===Number.POSITIVE_INFINITY||r===Number.NEGATIVE_INFINITY)},ot="[MIN_NAME]",Ze="[MAX_NAME]",Yt=function(r,n){if(r===n)return 0;if(r===ot||n===Ze)return-1;if(n===ot||r===Ze)return 1;{const e=Pu(r),o=Pu(n);return null!==e?null!==o?e-o==0?r.length-n.length:e-o:-1:null!==o?1:r<n?-1:1}},wn=function(r,n){return r===n?0:r<n?-1:1},fr=function(r,n){if(n&&r in n)return n[r];throw new Error("Missing required key ("+r+") in object: "+(0,R.Wl)(n))},si=function(r){if("object"!=typeof r||null===r)return(0,R.Wl)(r);const n=[];for(const o in r)n.push(o);n.sort();let e="{";for(let o=0;o<n.length;o++)0!==o&&(e+=","),e+=(0,R.Wl)(n[o]),e+=":",e+=si(r[n[o]]);return e+="}",e},Fs=function(r,n){const e=r.length;if(e<=n)return[r];const o=[];for(let u=0;u<e;u+=n)o.push(r.substring(u,u+n>e?e:u+n));return o};function hn(r,n){for(const e in r)r.hasOwnProperty(e)&&n(e,r[e])}const ya=function(r){(0,R.hu)(!Ve(r),"Invalid JSON number");const o=1023;let u,p,y,D,A;0===r?(p=0,y=0,u=1/r==-1/0?1:0):(u=r<0,(r=Math.abs(r))>=Math.pow(2,1-o)?(D=Math.min(Math.floor(Math.log(r)/Math.LN2),o),p=D+o,y=Math.round(r*Math.pow(2,52-D)-Math.pow(2,52))):(p=0,y=Math.round(r/Math.pow(2,-1074))));const P=[];for(A=52;A;A-=1)P.push(y%2?1:0),y=Math.floor(y/2);for(A=11;A;A-=1)P.push(p%2?1:0),p=Math.floor(p/2);P.push(u?1:0),P.reverse();const W=P.join("");let K="";for(A=0;A<64;A+=8){let ne=parseInt(W.substr(A,8),2).toString(16);1===ne.length&&(ne="0"+ne),K+=ne}return K.toLowerCase()},Cl=new RegExp("^-?(0*)\\d{1,10}$"),Dl=-2147483648,bo=2147483647,Pu=function(r){if(Cl.test(r)){const n=Number(r);if(n>=Dl&&n<=bo)return n}return null},To=function(r){try{r()}catch(n){setTimeout(()=>{throw de("Exception was thrown by user callback.",n.stack||""),n},Math.floor(0))}},va=function(r,n){const e=setTimeout(r,n);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class Am{constructor(n,e){this.appName_=n,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(o=>this.appCheck=o)}getToken(n){return this.appCheck?this.appCheck.getToken(n):new Promise((e,o)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(e,o):e(null)},0)})}addTokenChangeListener(n){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(o=>o.addTokenListener(n))}notifyForInvalidToken(){de(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Ac{constructor(n,e,o){this.appName_=n,this.firebaseOptions_=e,this.authProvider_=o,this.auth_=null,this.auth_=o.getImmediate({optional:!0}),this.auth_||o.onInit(u=>this.auth_=u)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(e=>e&&"auth/token-not-initialized"===e.code?(T("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,o)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(e,o):e(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(e=>e.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(e=>e.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';n+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',de(n)}}let wl=(()=>{class r{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return r.OWNER="owner",r})();const Yd=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Sc="websocket",Mc="long_polling";class Ru{constructor(n,e,o,u,p=!1,y="",D=!1){this.secure=e,this.namespace=o,this.webSocketOnly=u,this.nodeAdmin=p,this.persistenceKey=y,this.includeNamespaceInQueryParams=D,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Xn.get("host:"+n)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&Xn.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Qd(r,n,e){let o;if((0,R.hu)("string"==typeof n,"typeof type must == string"),(0,R.hu)("object"==typeof e,"typeof params must == object"),n===Sc)o=(r.secure?"wss://":"ws://")+r.internalHost+"/.ws?";else{if(n!==Mc)throw new Error("Unknown connection type: "+n);o=(r.secure?"https://":"http://")+r.internalHost+"/.lp?"}(function Ou(r){return r.host!==r.internalHost||r.isCustomHost()||r.includeNamespaceInQueryParams})(r)&&(e.ns=r.namespace);const u=[];return hn(e,(p,y)=>{u.push(p+"="+y)}),o+u.join("&")}class Pc{constructor(){this.counters_={}}incrementCounter(n,e=1){(0,R.r3)(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=e}get(){return(0,R.p$)(this.counters_)}}const Nc={},xu={};function Rc(r){const n=r.toString();return Nc[n]||(Nc[n]=new Pc),Nc[n]}class Al{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,e){this.closeAfterResponse=n,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,e){for(this.pendingResponses[n]=e;this.pendingResponses[this.currentResponseNum];){const o=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let u=0;u<o.length;++u)o[u]&&To(()=>{this.onMessage_(o[u])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Po{constructor(n,e,o,u,p,y,D){this.connId=n,this.repoInfo=e,this.applicationId=o,this.appCheckToken=u,this.authToken=p,this.transportSessionId=y,this.lastSessionId=D,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=x(n),this.stats_=Rc(e),this.urlFn=A=>(this.appCheckToken&&(A.ac=this.appCheckToken),Qd(e,Mc,A))}open(n,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Al(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(r){if((0,R.Yr)()||"complete"===document.readyState)r();else{let n=!1;const e=function(){document.body?n||(n=!0,r()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Fu((...p)=>{const[y,D,A,P,W]=p;if(this.incrementIncomingBytes_(p),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===y)this.id=D,this.password=A;else{if("close"!==y)throw new Error("Unrecognized command received: "+y);D?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(D,()=>{this.onClosed_()})):this.onClosed_()}},(...p)=>{const[y,D]=p;this.incrementIncomingBytes_(p),this.myPacketOrderer.handleResponse(y,D)},()=>{this.onClosed_()},this.urlFn);const o={start:"t"};o.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(o.cb=this.scriptTagHolder.uniqueCallbackIdentifier),o.v="5",this.transportSessionId&&(o.s=this.transportSessionId),this.lastSessionId&&(o.ls=this.lastSessionId),this.applicationId&&(o.p=this.applicationId),this.appCheckToken&&(o.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&Yd.test(location.hostname)&&(o.r="f");const u=this.urlFn(o);this.log_("Connecting via long-poll to "+u),this.scriptTagHolder.addTag(u,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Po.forceAllow_=!0}static forceDisallow(){Po.forceDisallow_=!0}static isAvailable(){return!((0,R.Yr)()||!Po.forceAllow_&&(Po.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const e=(0,R.Wl)(n);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const o=(0,R.h$)(e),u=Fs(o,1840);for(let p=0;p<u.length;p++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,u.length,u[p]),this.curSegmentNum++}addDisconnectPingFrame(n,e){if((0,R.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const o={dframe:"t"};o.id=n,o.pw=e,this.myDisconnFrame.src=this.urlFn(o),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const e=(0,R.Wl)(n).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class Fu{constructor(n,e,o,u){if(this.onDisconnect=o,this.urlFn=u,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,R.Yr)())this.commandCB=n,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=wo(),window["pLPCommand"+this.uniqueCallbackIdentifier]=n,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=Fu.createIFrame_();let p="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(p='<script>document.domain="'+document.domain+'";<\/script>');const y="<html><body>"+p+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(y),this.myIFrame.doc.close()}catch(D){T("frame writing exception"),D.stack&&T(D.stack),T(D)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(n);try{n.contentWindow.document||T("No IE domain setting required")}catch{const o=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+o+"';document.close();})())"}return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,e){for(this.myID=n,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n.id=this.myID,n.pw=this.myPW,n.ser=this.currentSerial;let e=this.urlFn(n),o="",u=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+o.length<=1870;){const y=this.pendingSegs.shift();o=o+"&seg"+u+"="+y.seg+"&ts"+u+"="+y.ts+"&d"+u+"="+y.d,u++}return e+=o,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(n,e,o){this.pendingSegs.push({seg:n,ts:e,d:o}),this.alive&&this.newRequest_()}addLongPollTag_(n,e){this.outstandingRequests.add(e);const o=()=>{this.outstandingRequests.delete(e),this.newRequest_()},u=setTimeout(o,Math.floor(25e3));this.addTag(n,()=>{clearTimeout(u),o()})}addTag(n,e){(0,R.Yr)()?this.doNodeLongPoll(n,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const o=this.myIFrame.doc.createElement("script");o.type="text/javascript",o.async=!0,o.src=n,o.onload=o.onreadystatechange=function(){const u=o.readyState;(!u||"loaded"===u||"complete"===u)&&(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),e())},o.onerror=()=>{T("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(o)}catch{}},Math.floor(1))}}let Us=null;typeof MozWebSocket<"u"?Us=MozWebSocket:typeof WebSocket<"u"&&(Us=WebSocket);let Sl=(()=>{class r{constructor(e,o,u,p,y,D,A){this.connId=e,this.applicationId=u,this.appCheckToken=p,this.authToken=y,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=x(this.connId),this.stats_=Rc(o),this.connURL=r.connectionURL_(o,D,A,p,u),this.nodeAdmin=o.nodeAdmin}static connectionURL_(e,o,u,p,y){const D={v:"5"};return!(0,R.Yr)()&&typeof location<"u"&&location.hostname&&Yd.test(location.hostname)&&(D.r="f"),o&&(D.s=o),u&&(D.ls=u),p&&(D.ac=p),y&&(D.p=y),Qd(e,Sc,D)}open(e,o){this.onDisconnect=o,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Xn.set("previous_websocket_failure",!0);try{let u;if((0,R.Yr)()){u={headers:{"User-Agent":`Firebase/5/${xs}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(u.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(u.headers["X-Firebase-AppCheck"]=this.appCheckToken);const y=process.env,D=0===this.connURL.indexOf("wss://")?y.HTTPS_PROXY||y.https_proxy:y.HTTP_PROXY||y.http_proxy;D&&(u.proxy={origin:D})}this.mySock=new Us(this.connURL,[],u)}catch(u){this.log_("Error instantiating WebSocket.");const p=u.message||u.data;return p&&this.log_(p),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=u=>{this.handleIncomingFrame(u)},this.mySock.onerror=u=>{this.log_("WebSocket error.  Closing connection.");const p=u.message||u.data;p&&this.log_(p),this.onClosed_()}}start(){}static forceDisallow(){r.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const u=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);u&&u.length>1&&parseFloat(u[1])<4.4&&(e=!0)}return!e&&null!==Us&&!r.forceDisallow_}static previouslyFailed(){return Xn.isInMemoryStorage||!0===Xn.get("previous_websocket_failure")}markConnectionHealthy(){Xn.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const o=this.frames.join("");this.frames=null;const u=(0,R.cI)(o);this.onMessage(u)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,R.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const o=Number(e);if(!isNaN(o))return this.handleNewFrameCount_(o),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const o=e.data;if(this.bytesReceived+=o.length,this.stats_.incrementCounter("bytes_received",o.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(o);else{const u=this.extractFrameCount_(o);null!==u&&this.appendFrame_(u)}}send(e){this.resetKeepAlive();const o=(0,R.Wl)(e);this.bytesSent+=o.length,this.stats_.incrementCounter("bytes_sent",o.length);const u=Fs(o,16384);u.length>1&&this.sendString_(String(u.length));for(let p=0;p<u.length;p++)this.sendString_(u[p])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(o){this.log_("Exception thrown from WebSocket.send():",o.message||o.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return r.responsesRequiredToBeHealthy=2,r.healthyTimeout=3e4,r})(),rp=(()=>{class r{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Po,Sl]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const o=Sl&&Sl.isAvailable();let u=o&&!Sl.previouslyFailed();if(e.webSocketOnly&&(o||de("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),u=!0),u)this.transports_=[Sl];else{const p=this.transports_=[];for(const y of r.ALL_TRANSPORTS)y&&y.isAvailable()&&p.push(y);r.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return r.globalTransportInitialized_=!1,r})();class Vc{constructor(n,e,o,u,p,y,D,A,P,W){this.id=n,this.repoInfo_=e,this.applicationId_=o,this.appCheckToken_=u,this.authToken_=p,this.onMessage_=y,this.onReady_=D,this.onDisconnect_=A,this.onKill_=P,this.lastSessionId=W,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=x("c:"+this.id+":"),this.transportManager_=new rp(e),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),o=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,o)},Math.floor(0));const u=n.healthyTimeout||0;u>0&&(this.healthyTimeout_=va(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(u)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return e=>{n===this.conn_?this.onConnectionLost_(e):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return e=>{2!==this.state_&&(n===this.rx_?this.onPrimaryMessageReceived_(e):n===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(n){this.sendData_({t:"d",d:n})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if("t"in n){const e=n.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const e=fr("t",n),o=fr("d",n);if("c"===e)this.onSecondaryControl_(o);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(o)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const e=fr("t",n),o=fr("d",n);"c"===e?this.onControl_(o):"d"===e&&this.onDataMessage_(o)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const e=fr("t",n);if("d"in n){const o=n.d;if("h"===e)this.onHandshake_(o);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let u=0;u<this.pendingDataMessages.length;++u)this.onDataMessage_(this.pendingDataMessages[u]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(o):"r"===e?this.onReset_(o):"e"===e?z("Server Error: "+o):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):z("Unknown control packet command: "+e)}}onHandshake_(n){const e=n.ts,o=n.v,u=n.h;this.sessionId=n.s,this.repoInfo_.host=u,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==o&&de("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),o=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,o),va(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,e){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):va(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,n||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Xn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(n)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Bc{put(n,e,o,u){}merge(n,e,o,u){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,e,o){}onDisconnectMerge(n,e,o){}onDisconnectCancel(n,e){}reportStats(n){}}class af{constructor(n){this.allowedEvents_=n,this.listeners_={},(0,R.hu)(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...e){if(Array.isArray(this.listeners_[n])){const o=[...this.listeners_[n]];for(let u=0;u<o.length;u++)o[u].callback.apply(o[u].context,e)}}on(n,e,o){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:e,context:o});const u=this.getInitialEvent(n);u&&e.apply(o,u)}off(n,e,o){this.validateEventType_(n);const u=this.listeners_[n]||[];for(let p=0;p<u.length;p++)if(u[p].callback===e&&(!o||o===u[p].context))return void u.splice(p,1)}validateEventType_(n){(0,R.hu)(this.allowedEvents_.find(e=>e===n),"Unknown event: "+n)}}class Bu extends af{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,R.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Bu}getInitialEvent(n){return(0,R.hu)("online"===n,"Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}class Nt{constructor(n,e){if(void 0===e){this.pieces_=n.split("/");let o=0;for(let u=0;u<this.pieces_.length;u++)this.pieces_[u].length>0&&(this.pieces_[o]=this.pieces_[u],o++);this.pieces_.length=o,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=e}toString(){let n="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(n+="/"+this.pieces_[e]);return n||"/"}}function Ft(){return new Nt("")}function mt(r){return r.pieceNum_>=r.pieces_.length?null:r.pieces_[r.pieceNum_]}function rs(r){return r.pieces_.length-r.pieceNum_}function Ut(r){let n=r.pieceNum_;return n<r.pieces_.length&&n++,new Nt(r.pieces_,n)}function Uu(r){return r.pieceNum_<r.pieces_.length?r.pieces_[r.pieces_.length-1]:null}function Ia(r,n=0){return r.pieces_.slice(r.pieceNum_+n)}function Rl(r){if(r.pieceNum_>=r.pieces_.length)return null;const n=[];for(let e=r.pieceNum_;e<r.pieces_.length-1;e++)n.push(r.pieces_[e]);return new Nt(n,0)}function $t(r,n){const e=[];for(let o=r.pieceNum_;o<r.pieces_.length;o++)e.push(r.pieces_[o]);if(n instanceof Nt)for(let o=n.pieceNum_;o<n.pieces_.length;o++)e.push(n.pieces_[o]);else{const o=n.split("/");for(let u=0;u<o.length;u++)o[u].length>0&&e.push(o[u])}return new Nt(e,0)}function vt(r){return r.pieceNum_>=r.pieces_.length}function yr(r,n){const e=mt(r),o=mt(n);if(null===e)return n;if(e===o)return yr(Ut(r),Ut(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+r+")")}function Uc(r,n){const e=Ia(r,0),o=Ia(n,0);for(let u=0;u<e.length&&u<o.length;u++){const p=Yt(e[u],o[u]);if(0!==p)return p}return e.length===o.length?0:e.length<o.length?-1:1}function Ol(r,n){if(rs(r)!==rs(n))return!1;for(let e=r.pieceNum_,o=n.pieceNum_;e<=r.pieces_.length;e++,o++)if(r.pieces_[e]!==n.pieces_[o])return!1;return!0}function Qt(r,n){let e=r.pieceNum_,o=n.pieceNum_;if(rs(r)>rs(n))return!1;for(;e<r.pieces_.length;){if(r.pieces_[e]!==n.pieces_[o])return!1;++e,++o}return!0}class Ca{constructor(n,e){this.errorPrefix_=e,this.parts_=Ia(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let o=0;o<this.parts_.length;o++)this.byteLength_+=(0,R.ug)(this.parts_[o]);Da(this)}}function Da(r){if(r.byteLength_>768)throw new Error(r.errorPrefix_+"has a key path longer than 768 bytes ("+r.byteLength_+").");if(r.parts_.length>32)throw new Error(r.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+$r(r))}function $r(r){return 0===r.parts_.length?"":"in property '"+r.parts_.join(".")+"'"}class jc extends af{constructor(){let n,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const o=!document[n];o!==this.visible_&&(this.visible_=o,this.trigger("visible",o))},!1)}static getInstance(){return new jc}getInitialEvent(n){return(0,R.hu)("visible"===n,"Unknown event type: "+n),[this.visible_]}}const Hs=1e3;let ba,is=(()=>{class r extends Bc{constructor(e,o,u,p,y,D,A,P){if(super(),this.repoInfo_=e,this.applicationId_=o,this.onDataUpdate_=u,this.onConnectStatus_=p,this.onServerInfoUpdate_=y,this.authTokenProvider_=D,this.appCheckTokenProvider_=A,this.authOverride_=P,this.id=r.nextPersistentConnectionId_++,this.log_=x("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Hs,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,P&&!(0,R.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");jc.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Bu.getInstance().on("online",this.onOnline_,this)}sendRequest(e,o,u){const p=++this.requestNumber_,y={r:p,a:e,b:o};this.log_((0,R.Wl)(y)),(0,R.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(y),u&&(this.requestCBHash_[p]=u)}get(e){this.initConnection_();const o=new R.BH,u={p:e._path.toString(),q:e._queryObject};return this.outstandingGets_.push({action:"g",request:u,onComplete:D=>{const A=D.d;"ok"===D.s?o.resolve(A):o.reject(A)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),o.promise}listen(e,o,u,p){this.initConnection_();const y=e._queryIdentifier,D=e._path.toString();this.log_("Listen called for "+D+" "+y),this.listens.has(D)||this.listens.set(D,new Map),(0,R.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,R.hu)(!this.listens.get(D).has(y),"listen() called twice for same path/queryId.");const A={onComplete:p,hashFn:o,query:e,tag:u};this.listens.get(D).set(y,A),this.connected_&&this.sendListen_(A)}sendGet_(e){const o=this.outstandingGets_[e];this.sendRequest("g",o.request,u=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),o.onComplete&&o.onComplete(u)})}sendListen_(e){const o=e.query,u=o._path.toString(),p=o._queryIdentifier;this.log_("Listen on "+u+" for "+p);const y={p:u};e.tag&&(y.q=o._queryObject,y.t=e.tag),y.h=e.hashFn(),this.sendRequest("q",y,A=>{const P=A.d,W=A.s;r.warnOnListenWarnings_(P,o),(this.listens.get(u)&&this.listens.get(u).get(p))===e&&(this.log_("listen response",A),"ok"!==W&&this.removeListen_(u,p),e.onComplete&&e.onComplete(W,P))})}static warnOnListenWarnings_(e,o){if(e&&"object"==typeof e&&(0,R.r3)(e,"w")){const u=(0,R.DV)(e,"w");if(Array.isArray(u)&&~u.indexOf("no_index")){const p='".indexOn": "'+o._queryParams.getIndex().toString()+'"',y=o._path.toString();de(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${p} at ${y} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,R.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,o=(0,R.w9)(e)?"auth":"gauth",u={cred:e};null===this.authOverride_?u.noauth=!0:"object"==typeof this.authOverride_&&(u.authvar=this.authOverride_),this.sendRequest(o,u,p=>{const y=p.s,D=p.d||"error";this.authToken_===e&&("ok"===y?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(y,D))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const o=e.s,u=e.d||"error";"ok"===o?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(o,u)})}unlisten(e,o){const u=e._path.toString(),p=e._queryIdentifier;this.log_("Unlisten called for "+u+" "+p),(0,R.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(u,p)&&this.connected_&&this.sendUnlisten_(u,p,e._queryObject,o)}sendUnlisten_(e,o,u,p){this.log_("Unlisten on "+e+" for "+o);const y={p:e};p&&(y.q=u,y.t=p),this.sendRequest("n",y)}onDisconnectPut(e,o,u){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,o,u):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:o,onComplete:u})}onDisconnectMerge(e,o,u){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,o,u):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:o,onComplete:u})}onDisconnectCancel(e,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:o})}sendOnDisconnect_(e,o,u,p){const y={p:o,d:u};this.log_("onDisconnect "+e,y),this.sendRequest(e,y,D=>{p&&setTimeout(()=>{p(D.s,D.d)},Math.floor(0))})}put(e,o,u,p){this.putInternal("p",e,o,u,p)}merge(e,o,u,p){this.putInternal("m",e,o,u,p)}putInternal(e,o,u,p,y){this.initConnection_();const D={p:o,d:u};void 0!==y&&(D.h=y),this.outstandingPuts_.push({action:e,request:D,onComplete:p}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+o)}sendPut_(e){const o=this.outstandingPuts_[e].action,u=this.outstandingPuts_[e].request,p=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(o,u,y=>{this.log_(o+" response",y),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),p&&p(y.s,y.d)})}reportStats(e){if(this.connected_){const o={c:e};this.log_("reportStats",o),this.sendRequest("s",o,u=>{"ok"!==u.s&&this.log_("reportStats","Error sending stats: "+u.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,R.Wl)(e));const o=e.r,u=this.requestCBHash_[o];u&&(delete this.requestCBHash_[o],u(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,o){this.log_("handleServerMessage",e,o),"d"===e?this.onDataUpdate_(o.p,o.d,!1,o.t):"m"===e?this.onDataUpdate_(o.p,o.d,!0,o.t):"c"===e?this.onListenRevoked_(o.p,o.q):"ac"===e?this.onAuthRevoked_(o.s,o.d):"apc"===e?this.onAppCheckRevoked_(o.s,o.d):"sd"===e?this.onSecurityDebugPacket_(o):z("Unrecognized action received from server: "+(0,R.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,o){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=o,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,R.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Hs,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Hs,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Hs),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let o=Math.max(0,this.reconnectDelay_-e);o=Math.random()*o,this.log_("Trying to reconnect in "+o+"ms"),this.scheduleConnect_(o),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Or.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const o=e.onDataMessage_.bind(e),u=e.onReady_.bind(e),p=e.onRealtimeDisconnect_.bind(e),y=e.id+":"+r.nextConnectionId_++,D=e.lastSessionId;let A=!1,P=null;const W=function(){P?P.close():(A=!0,p())};e.realtime_={close:W,sendRequest:function(Ce){(0,R.hu)(P,"sendRequest call when we're not connected not allowed."),P.sendRequest(Ce)}};const ne=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[Ce,Ue]=yield Promise.all([e.authTokenProvider_.getToken(ne),e.appCheckTokenProvider_.getToken(ne)]);A?T("getToken() completed but was canceled"):(T("getToken() completed. Creating connection."),e.authToken_=Ce&&Ce.accessToken,e.appCheckToken_=Ue&&Ue.token,P=new Vc(y,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,o,u,p,pt=>{de(pt+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},D))}catch(Ce){e.log_("Failed to get token: "+Ce),A||(e.repoInfo_.nodeAdmin&&de(Ce),W())}}})()}interrupt(e){T("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){T("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,R.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Hs,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const o=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:o})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const o=this.outstandingPuts_[e];o&&"h"in o.request&&o.queued&&(o.onComplete&&o.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,o){let u;u=o?o.map(y=>si(y)).join("$"):"default";const p=this.removeListen_(e,u);p&&p.onComplete&&p.onComplete("permission_denied")}removeListen_(e,o){const u=new Nt(e).toString();let p;if(this.listens.has(u)){const y=this.listens.get(u);p=y.get(o),y.delete(o),0===y.size&&this.listens.delete(u)}else p=void 0;return p}onAuthRevoked_(e,o){T("Auth token revoked: "+e+"/"+o),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,o){T("App check token revoked: "+e+"/"+o),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const o of e.values())this.sendListen_(o);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let o="js";(0,R.Yr)()&&(o=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+o+"."+xs.replace(/\./g,"-")]=1,(0,R.uI)()?e["framework.cordova"]=1:(0,R.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Bu.getInstance().currentlyOnline();return(0,R.xb)(this.interruptReasons_)&&e}}return r.nextPersistentConnectionId_=0,r.nextConnectionId_=0,r})();class tt{constructor(n,e){this.name=n,this.node=e}static Wrap(n,e){return new tt(n,e)}}class wa{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,e){const o=new tt(ot,n),u=new tt(ot,e);return 0!==this.compare(o,u)}minPost(){return tt.MIN}}class ff extends wa{static get __EMPTY_NODE(){return ba}static set __EMPTY_NODE(n){ba=n}compare(n,e){return Yt(n.name,e.name)}isDefinedOn(n){throw(0,R.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,e){return!1}minPost(){return tt.MIN}maxPost(){return new tt(Ze,ba)}makePost(n,e){return(0,R.hu)("string"==typeof n,"KeyIndex indexValue must always be a string."),new tt(n,ba)}toString(){return".key"}}const xn=new ff;class Ri{constructor(n,e,o,u,p=null){this.isReverse_=u,this.resultGenerator_=p,this.nodeStack_=[];let y=1;for(;!n.isEmpty();)if(y=e?o(n.key,e):1,u&&(y*=-1),y<0)n=this.isReverse_?n.left:n.right;else{if(0===y){this.nodeStack_.push(n);break}this.nodeStack_.push(n),n=this.isReverse_?n.right:n.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,n=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}let Gc,Wr=(()=>{class r{constructor(e,o,u,p,y){this.key=e,this.value=o,this.color=u??r.RED,this.left=p??Er.EMPTY_NODE,this.right=y??Er.EMPTY_NODE}copy(e,o,u,p,y){return new r(e??this.key,o??this.value,u??this.color,p??this.left,y??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,o,u){let p=this;const y=u(e,p.key);return p=y<0?p.copy(null,null,null,p.left.insert(e,o,u),null):0===y?p.copy(null,o,null,null,null):p.copy(null,null,null,null,p.right.insert(e,o,u)),p.fixUp_()}removeMin_(){if(this.left.isEmpty())return Er.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,o){let u,p;if(u=this,o(e,u.key)<0)!u.left.isEmpty()&&!u.left.isRed_()&&!u.left.left.isRed_()&&(u=u.moveRedLeft_()),u=u.copy(null,null,null,u.left.remove(e,o),null);else{if(u.left.isRed_()&&(u=u.rotateRight_()),!u.right.isEmpty()&&!u.right.isRed_()&&!u.right.left.isRed_()&&(u=u.moveRedRight_()),0===o(e,u.key)){if(u.right.isEmpty())return Er.EMPTY_NODE;p=u.right.min_(),u=u.copy(p.key,p.value,null,null,u.right.removeMin_())}u=u.copy(null,null,null,null,u.right.remove(e,o))}return u.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,r.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,r.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),o=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,o)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return r.RED=!0,r.BLACK=!1,r})();class Er{constructor(n,e=Er.EMPTY_NODE){this.comparator_=n,this.root_=e}insert(n,e){return new Er(this.comparator_,this.root_.insert(n,e,this.comparator_).copy(null,null,Wr.BLACK,null,null))}remove(n){return new Er(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,Wr.BLACK,null,null))}get(n){let e,o=this.root_;for(;!o.isEmpty();){if(e=this.comparator_(n,o.key),0===e)return o.value;e<0?o=o.left:e>0&&(o=o.right)}return null}getPredecessorKey(n){let e,o=this.root_,u=null;for(;!o.isEmpty();){if(e=this.comparator_(n,o.key),0===e){if(o.left.isEmpty())return u?u.key:null;for(o=o.left;!o.right.isEmpty();)o=o.right;return o.key}e<0?o=o.left:e>0&&(u=o,o=o.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new Ri(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,e){return new Ri(this.root_,n,this.comparator_,!1,e)}getReverseIteratorFrom(n,e){return new Ri(this.root_,n,this.comparator_,!0,e)}getReverseIterator(n){return new Ri(this.root_,null,this.comparator_,!0,n)}}function Hu(r,n){return Yt(r.name,n.name)}function hf(r,n){return Yt(r,n)}Er.EMPTY_NODE=new class Wc{copy(n,e,o,u,p){return this}insert(n,e,o){return new Wr(n,e,null)}remove(n,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const pf=function(r){return"number"==typeof r?"number:"+ya(r):"string:"+r},g=function(r){if(r.isLeafNode()){const n=r.val();(0,R.hu)("string"==typeof n||"number"==typeof n||"object"==typeof n&&(0,R.r3)(n,".sv"),"Priority must be a string or number.")}else(0,R.hu)(r===Gc||r.isEmpty(),"priority of unexpected type.");(0,R.hu)(r===Gc||r.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let c,_,b,f=(()=>{class r{constructor(e,o=r.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=o,this.lazyHash_=null,(0,R.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),g(this.priorityNode_)}static set __childrenNodeConstructor(e){c=e}static get __childrenNodeConstructor(){return c}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new r(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:r.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return vt(e)?this:".priority"===mt(e)?this.priorityNode_:r.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,o){return null}updateImmediateChild(e,o){return".priority"===e?this.updatePriority(o):o.isEmpty()&&".priority"!==e?this:r.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,o).updatePriority(this.priorityNode_)}updateChild(e,o){const u=mt(e);return null===u?o:o.isEmpty()&&".priority"!==u?this:((0,R.hu)(".priority"!==u||1===rs(e),".priority must be the last token in a path"),this.updateImmediateChild(u,r.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ut(e),o)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,o){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+pf(this.priorityNode_.val())+":");const o=typeof this.value_;e+=o+":",e+="number"===o?ya(this.value_):this.value_,this.lazyHash_=_a(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===r.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof r.__childrenNodeConstructor?-1:((0,R.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const o=typeof e.value_,u=typeof this.value_,p=r.VALUE_TYPE_ORDER.indexOf(o),y=r.VALUE_TYPE_ORDER.indexOf(u);return(0,R.hu)(p>=0,"Unknown leaf type: "+o),(0,R.hu)(y>=0,"Unknown leaf type: "+u),p===y?"object"===u?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:y-p}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const o=e;return this.value_===o.value_&&this.priorityNode_.equals(o.priorityNode_)}return!1}}return r.VALUE_TYPE_ORDER=["object","boolean","number","string"],r})();const ye=new class ie extends wa{compare(n,e){const o=n.node.getPriority(),u=e.node.getPriority(),p=o.compareTo(u);return 0===p?Yt(n.name,e.name):p}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,e){return!n.getPriority().equals(e.getPriority())}minPost(){return tt.MIN}maxPost(){return new tt(Ze,new f("[PRIORITY-POST]",b))}makePost(n,e){const o=_(n);return new tt(e,new f("[PRIORITY-POST]",o))}toString(){return".priority"}},Ge=Math.log(2);class it{constructor(n){this.count=parseInt(Math.log(n+1)/Ge,10),this.current_=this.count-1;const u=(p=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=n+1&u}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const Xe=function(r,n,e,o){r.sort(n);const u=function(A,P){const W=P-A;let K,ne;if(0===W)return null;if(1===W)return K=r[A],ne=e?e(K):K,new Wr(ne,K.node,Wr.BLACK,null,null);{const Ce=parseInt(W/2,10)+A,Ue=u(A,Ce),pt=u(Ce+1,P);return K=r[Ce],ne=e?e(K):K,new Wr(ne,K.node,Wr.BLACK,Ue,pt)}},D=function(A){let P=null,W=null,K=r.length;const ne=function(Ue,pt){const xt=K-Ue,mn=K;K-=Ue;const bn=u(xt+1,mn),br=r[xt],_n=e?e(br):br;Ce(new Wr(_n,br.node,pt,null,bn))},Ce=function(Ue){P?(P.left=Ue,P=Ue):(W=Ue,P=Ue)};for(let Ue=0;Ue<A.count;++Ue){const pt=A.nextBitIsOne(),xt=Math.pow(2,A.count-(Ue+1));pt?ne(xt,Wr.BLACK):(ne(xt,Wr.BLACK),ne(xt,Wr.RED))}return W}(new it(r.length));return new Er(o||n,D)};let gn;const kn={};class oi{constructor(n,e){this.indexes_=n,this.indexSet_=e}static get Default(){return(0,R.hu)(kn&&ye,"ChildrenNode.ts has not been loaded"),gn=gn||new oi({".priority":kn},{".priority":ye}),gn}get(n){const e=(0,R.DV)(this.indexes_,n);if(!e)throw new Error("No index defined for "+n);return e instanceof Er?e:null}hasIndex(n){return(0,R.r3)(this.indexSet_,n.toString())}addIndex(n,e){(0,R.hu)(n!==xn,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const o=[];let u=!1;const p=e.getIterator(tt.Wrap);let D,y=p.getNext();for(;y;)u=u||n.isDefinedOn(y.node),o.push(y),y=p.getNext();D=u?Xe(o,n.getCompare()):kn;const A=n.toString(),P=Object.assign({},this.indexSet_);P[A]=n;const W=Object.assign({},this.indexes_);return W[A]=D,new oi(W,P)}addToIndexes(n,e){const o=(0,R.UI)(this.indexes_,(u,p)=>{const y=(0,R.DV)(this.indexSet_,p);if((0,R.hu)(y,"Missing index implementation for "+p),u===kn){if(y.isDefinedOn(n.node)){const D=[],A=e.getIterator(tt.Wrap);let P=A.getNext();for(;P;)P.name!==n.name&&D.push(P),P=A.getNext();return D.push(n),Xe(D,y.getCompare())}return kn}{const D=e.get(n.name);let A=u;return D&&(A=A.remove(new tt(n.name,D))),A.insert(n,n.node)}});return new oi(o,this.indexSet_)}removeFromIndexes(n,e){const o=(0,R.UI)(this.indexes_,u=>{if(u===kn)return u;{const p=e.get(n.name);return p?u.remove(new tt(n.name,p)):u}});return new oi(o,this.indexSet_)}}let xl,ft=(()=>{class r{constructor(e,o,u){this.children_=e,this.priorityNode_=o,this.indexMap_=u,this.lazyHash_=null,this.priorityNode_&&g(this.priorityNode_),this.children_.isEmpty()&&(0,R.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return xl||(xl=new r(new Er(hf),null,oi.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||xl}updatePriority(e){return this.children_.isEmpty()?this:new r(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const o=this.children_.get(e);return null===o?xl:o}}getChild(e){const o=mt(e);return null===o?this:this.getImmediateChild(o).getChild(Ut(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,o){if((0,R.hu)(o,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(o);{const u=new tt(e,o);let p,y;o.isEmpty()?(p=this.children_.remove(e),y=this.indexMap_.removeFromIndexes(u,this.children_)):(p=this.children_.insert(e,o),y=this.indexMap_.addToIndexes(u,this.children_));const D=p.isEmpty()?xl:this.priorityNode_;return new r(p,D,y)}}updateChild(e,o){const u=mt(e);if(null===u)return o;{(0,R.hu)(".priority"!==mt(e)||1===rs(e),".priority must be the last token in a path");const p=this.getImmediateChild(u).updateChild(Ut(e),o);return this.updateImmediateChild(u,p)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const o={};let u=0,p=0,y=!0;if(this.forEachChild(ye,(D,A)=>{o[D]=A.val(e),u++,y&&r.INTEGER_REGEXP_.test(D)?p=Math.max(p,Number(D)):y=!1}),!e&&y&&p<2*u){const D=[];for(const A in o)D[A]=o[A];return D}return e&&!this.getPriority().isEmpty()&&(o[".priority"]=this.getPriority().val()),o}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+pf(this.getPriority().val())+":"),this.forEachChild(ye,(o,u)=>{const p=u.hash();""!==p&&(e+=":"+o+":"+p)}),this.lazyHash_=""===e?"":_a(e)}return this.lazyHash_}getPredecessorChildName(e,o,u){const p=this.resolveIndex_(u);if(p){const y=p.getPredecessorKey(new tt(e,o));return y?y.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const o=this.resolveIndex_(e);if(o){const u=o.minKey();return u&&u.name}return this.children_.minKey()}getFirstChild(e){const o=this.getFirstChildName(e);return o?new tt(o,this.children_.get(o)):null}getLastChildName(e){const o=this.resolveIndex_(e);if(o){const u=o.maxKey();return u&&u.name}return this.children_.maxKey()}getLastChild(e){const o=this.getLastChildName(e);return o?new tt(o,this.children_.get(o)):null}forEachChild(e,o){const u=this.resolveIndex_(e);return u?u.inorderTraversal(p=>o(p.name,p.node)):this.children_.inorderTraversal(o)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,o){const u=this.resolveIndex_(o);if(u)return u.getIteratorFrom(e,p=>p);{const p=this.children_.getIteratorFrom(e.name,tt.Wrap);let y=p.peek();for(;null!=y&&o.compare(y,e)<0;)p.getNext(),y=p.peek();return p}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,o){const u=this.resolveIndex_(o);if(u)return u.getReverseIteratorFrom(e,p=>p);{const p=this.children_.getReverseIteratorFrom(e.name,tt.Wrap);let y=p.peek();for(;null!=y&&o.compare(y,e)>0;)p.getNext(),y=p.peek();return p}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===kl?-1:0}withIndex(e){if(e===xn||this.indexMap_.hasIndex(e))return this;{const o=this.indexMap_.addIndex(e,this.children_);return new r(this.children_,this.priorityNode_,o)}}isIndexed(e){return e===xn||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const o=e;if(this.getPriority().equals(o.getPriority())){if(this.children_.count()===o.children_.count()){const u=this.getIterator(ye),p=o.getIterator(ye);let y=u.getNext(),D=p.getNext();for(;y&&D;){if(y.name!==D.name||!y.node.equals(D.node))return!1;y=u.getNext(),D=p.getNext()}return null===y&&null===D}return!1}return!1}}resolveIndex_(e){return e===xn?null:this.indexMap_.get(e.toString())}}return r.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,r})();const kl=new class lp extends ft{constructor(){super(new Er(hf),ft.EMPTY_NODE,oi.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return ft.EMPTY_NODE}isEmpty(){return!1}};function on(r,n=null){if(null===r)return ft.EMPTY_NODE;if("object"==typeof r&&".priority"in r&&(n=r[".priority"]),(0,R.hu)(null===n||"string"==typeof n||"number"==typeof n||"object"==typeof n&&".sv"in n,"Invalid priority type found: "+typeof n),"object"==typeof r&&".value"in r&&null!==r[".value"]&&(r=r[".value"]),"object"!=typeof r||".sv"in r)return new f(r,on(n));if(r instanceof Array){let e=ft.EMPTY_NODE;return hn(r,(o,u)=>{if((0,R.r3)(r,o)&&"."!==o.substring(0,1)){const p=on(u);(p.isLeafNode()||!p.isEmpty())&&(e=e.updateImmediateChild(o,p))}}),e.updatePriority(on(n))}{const e=[];let o=!1;if(hn(r,(y,D)=>{if("."!==y.substring(0,1)){const A=on(D);A.isEmpty()||(o=o||!A.getPriority().isEmpty(),e.push(new tt(y,A)))}}),0===e.length)return ft.EMPTY_NODE;const p=Xe(e,Hu,y=>y.name,hf);if(o){const y=Xe(e,ye.getCompare());return new ft(p,on(n),new oi({".priority":y},{".priority":ye}))}return new ft(p,on(n),oi.Default)}}Object.defineProperties(tt,{MIN:{value:new tt(ot,ft.EMPTY_NODE)},MAX:{value:new tt(Ze,kl)}}),ff.__EMPTY_NODE=ft.EMPTY_NODE,f.__childrenNodeConstructor=ft,function $u(r){Gc=r}(kl),function j(r){b=r}(kl),function M(r){_=r}(on);class zc extends wa{constructor(n){super(),this.indexPath_=n,(0,R.hu)(!vt(n)&&".priority"!==mt(n),"Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,e){const o=this.extractChild(n.node),u=this.extractChild(e.node),p=o.compareTo(u);return 0===p?Yt(n.name,e.name):p}makePost(n,e){const o=on(n),u=ft.EMPTY_NODE.updateChild(this.indexPath_,o);return new tt(e,u)}maxPost(){const n=ft.EMPTY_NODE.updateChild(this.indexPath_,kl);return new tt(Ze,n)}toString(){return Ia(this.indexPath_,0).join("/")}}const Fl=new class Kc extends wa{compare(n,e){const o=n.node.compareTo(e.node);return 0===o?Yt(n.name,e.name):o}isDefinedOn(n){return!0}indexedValueChanged(n,e){return!n.equals(e)}minPost(){return tt.MIN}maxPost(){return tt.MAX}makePost(n,e){const o=on(n);return new tt(e,o)}toString(){return".value"}},$s="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",cp=function(){let r=0;const n=[];return function(e){const o=e===r;let u;r=e;const p=new Array(8);for(u=7;u>=0;u--)p[u]=$s.charAt(e%64),e=Math.floor(e/64);(0,R.hu)(0===e,"Cannot push at time == 0");let y=p.join("");if(o){for(u=11;u>=0&&63===n[u];u--)n[u]=0;n[u]++}else for(u=0;u<12;u++)n[u]=Math.floor(64*Math.random());for(u=0;u<12;u++)y+=$s.charAt(n[u]);return(0,R.hu)(20===y.length,"nextPushId: Length should be 20."),y}}(),Rm=function(r){if(r===""+bo)return"-";const n=Pu(r);if(null!=n)return""+(n+1);const e=new Array(r.length);for(let y=0;y<e.length;y++)e[y]=r.charAt(y);if(e.length<786)return e.push("-"),e.join("");let o=e.length-1;for(;o>=0&&"z"===e[o];)o--;if(-1===o)return Ze;const p=$s.charAt($s.indexOf(e[o])+1);return e[o]=p,e.slice(0,o+1).join("")},mf=function(r){if(r===""+Dl)return ot;const n=Pu(r);if(null!=n)return""+(n-1);const e=new Array(r.length);for(let o=0;o<e.length;o++)e[o]=r.charAt(o);return"-"===e[e.length-1]?1===e.length?""+bo:(delete e[e.length-1],e.join("")):(e[e.length-1]=$s.charAt($s.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function Wu(r){return{type:"value",snapshotNode:r}}function Gu(r,n){return{type:"child_added",snapshotNode:n,childName:r}}function qc(r,n){return{type:"child_removed",snapshotNode:n,childName:r}}function Yc(r,n,e){return{type:"child_changed",snapshotNode:n,childName:r,oldSnap:e}}class dp{constructor(n){this.index_=n}updateChild(n,e,o,u,p,y){(0,R.hu)(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const D=n.getImmediateChild(e);return D.getChild(u).equals(o.getChild(u))&&D.isEmpty()===o.isEmpty()||(null!=y&&(o.isEmpty()?n.hasChild(e)?y.trackChildChange(qc(e,D)):(0,R.hu)(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):D.isEmpty()?y.trackChildChange(Gu(e,o)):y.trackChildChange(Yc(e,o,D))),n.isLeafNode()&&o.isEmpty())?n:n.updateImmediateChild(e,o).withIndex(this.index_)}updateFullNode(n,e,o){return null!=o&&(n.isLeafNode()||n.forEachChild(ye,(u,p)=>{e.hasChild(u)||o.trackChildChange(qc(u,p))}),e.isLeafNode()||e.forEachChild(ye,(u,p)=>{if(n.hasChild(u)){const y=n.getImmediateChild(u);y.equals(p)||o.trackChildChange(Yc(u,p,y))}else o.trackChildChange(Gu(u,p))})),e.withIndex(this.index_)}updatePriority(n,e){return n.isEmpty()?ft.EMPTY_NODE:n.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Qc{constructor(n){this.indexedFilter_=new dp(n.getIndex()),this.index_=n.getIndex(),this.startPost_=Qc.getStartPost_(n),this.endPost_=Qc.getEndPost_(n)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){return this.index_.compare(this.getStartPost(),n)<=0&&this.index_.compare(n,this.getEndPost())<=0}updateChild(n,e,o,u,p,y){return this.matches(new tt(e,o))||(o=ft.EMPTY_NODE),this.indexedFilter_.updateChild(n,e,o,u,p,y)}updateFullNode(n,e,o){e.isLeafNode()&&(e=ft.EMPTY_NODE);let u=e.withIndex(this.index_);u=u.updatePriority(ft.EMPTY_NODE);const p=this;return e.forEachChild(ye,(y,D)=>{p.matches(new tt(y,D))||(u=u.updateImmediateChild(y,ft.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,u,o)}updatePriority(n,e){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const e=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),e)}return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const e=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),e)}return n.getIndex().maxPost()}}class $v{constructor(n){this.rangedFilter_=new Qc(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft()}updateChild(n,e,o,u,p,y){return this.rangedFilter_.matches(new tt(e,o))||(o=ft.EMPTY_NODE),n.getImmediateChild(e).equals(o)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,e,o,u,p,y):this.fullLimitUpdateChild_(n,e,o,p,y)}updateFullNode(n,e,o){let u;if(e.isLeafNode()||e.isEmpty())u=ft.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let p;u=ft.EMPTY_NODE.withIndex(this.index_),p=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let y=0;for(;p.hasNext()&&y<this.limit_;){const D=p.getNext();let A;if(A=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),D)<=0:this.index_.compare(D,this.rangedFilter_.getEndPost())<=0,!A)break;u=u.updateImmediateChild(D.name,D.node),y++}}else{let p,y,D,A;if(u=e.withIndex(this.index_),u=u.updatePriority(ft.EMPTY_NODE),this.reverse_){A=u.getReverseIterator(this.index_),p=this.rangedFilter_.getEndPost(),y=this.rangedFilter_.getStartPost();const K=this.index_.getCompare();D=(ne,Ce)=>K(Ce,ne)}else A=u.getIterator(this.index_),p=this.rangedFilter_.getStartPost(),y=this.rangedFilter_.getEndPost(),D=this.index_.getCompare();let P=0,W=!1;for(;A.hasNext();){const K=A.getNext();!W&&D(p,K)<=0&&(W=!0),W&&P<this.limit_&&D(K,y)<=0?P++:u=u.updateImmediateChild(K.name,ft.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,u,o)}updatePriority(n,e){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,e,o,u,p){let y;if(this.reverse_){const K=this.index_.getCompare();y=(ne,Ce)=>K(Ce,ne)}else y=this.index_.getCompare();const D=n;(0,R.hu)(D.numChildren()===this.limit_,"");const A=new tt(e,o),P=this.reverse_?D.getFirstChild(this.index_):D.getLastChild(this.index_),W=this.rangedFilter_.matches(A);if(D.hasChild(e)){const K=D.getImmediateChild(e);let ne=u.getChildAfterChild(this.index_,P,this.reverse_);for(;null!=ne&&(ne.name===e||D.hasChild(ne.name));)ne=u.getChildAfterChild(this.index_,ne,this.reverse_);const Ce=null==ne?1:y(ne,A);if(W&&!o.isEmpty()&&Ce>=0)return p?.trackChildChange(Yc(e,o,K)),D.updateImmediateChild(e,o);{p?.trackChildChange(qc(e,K));const pt=D.updateImmediateChild(e,ft.EMPTY_NODE);return null!=ne&&this.rangedFilter_.matches(ne)?(p?.trackChildChange(Gu(ne.name,ne.node)),pt.updateImmediateChild(ne.name,ne.node)):pt}}return o.isEmpty()?n:W&&y(P,A)>=0?(null!=p&&(p.trackChildChange(qc(P.name,P.node)),p.trackChildChange(Gu(e,o))),D.updateImmediateChild(e,o).updateImmediateChild(P.name,ft.EMPTY_NODE)):n}}class _f{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ye}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,R.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,R.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ot}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,R.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,R.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ze}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,R.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ye}copy(){const n=new _f;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function hp(r,n,e){const o=r.copy();return o.startSet_=!0,void 0===n&&(n=null),o.indexStartValue_=n,null!=e?(o.startNameSet_=!0,o.indexStartName_=e):(o.startNameSet_=!1,o.indexStartName_=""),o}function pp(r,n,e){const o=r.copy();return o.endSet_=!0,void 0===n&&(n=null),o.indexEndValue_=n,void 0!==e?(o.endNameSet_=!0,o.indexEndName_=e):(o.endNameSet_=!1,o.indexEndName_=""),o}function er(r,n){const e=r.copy();return e.index_=n,e}function yf(r){const n={};if(r.isDefault())return n;let e;return r.index_===ye?e="$priority":r.index_===Fl?e="$value":r.index_===xn?e="$key":((0,R.hu)(r.index_ instanceof zc,"Unrecognized index type!"),e=r.index_.toString()),n.orderBy=(0,R.Wl)(e),r.startSet_&&(n.startAt=(0,R.Wl)(r.indexStartValue_),r.startNameSet_&&(n.startAt+=","+(0,R.Wl)(r.indexStartName_))),r.endSet_&&(n.endAt=(0,R.Wl)(r.indexEndValue_),r.endNameSet_&&(n.endAt+=","+(0,R.Wl)(r.indexEndName_))),r.limitSet_&&(r.isViewFromLeft()?n.limitToFirst=r.limit_:n.limitToLast=r.limit_),n}function gp(r){const n={};if(r.startSet_&&(n.sp=r.indexStartValue_,r.startNameSet_&&(n.sn=r.indexStartName_)),r.endSet_&&(n.ep=r.indexEndValue_,r.endNameSet_&&(n.en=r.indexEndName_)),r.limitSet_){n.l=r.limit_;let e=r.viewFrom_;""===e&&(e=r.isViewFromLeft()?"l":"r"),n.vf=e}return r.index_!==ye&&(n.i=r.index_.toString()),n}class zu extends Bc{constructor(n,e,o,u){super(),this.repoInfo_=n,this.onDataUpdate_=e,this.authTokenProvider_=o,this.appCheckTokenProvider_=u,this.log_=x("p:rest:"),this.listens_={}}reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,e){return void 0!==e?"tag$"+e:((0,R.hu)(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}listen(n,e,o,u){const p=n._path.toString();this.log_("Listen called for "+p+" "+n._queryIdentifier);const y=zu.getListenId_(n,o),D={};this.listens_[y]=D;const A=yf(n._queryParams);this.restRequest_(p+".json",A,(P,W)=>{let K=W;if(404===P&&(K=null,P=null),null===P&&this.onDataUpdate_(p,K,!1,o),(0,R.DV)(this.listens_,y)===D){let ne;ne=P?401===P?"permission_denied":"rest_error:"+P:"ok",u(ne,null)}})}unlisten(n,e){const o=zu.getListenId_(n,e);delete this.listens_[o]}get(n){const e=yf(n._queryParams),o=n._path.toString(),u=new R.BH;return this.restRequest_(o+".json",e,(p,y)=>{let D=y;404===p&&(D=null,p=null),null===p?(this.onDataUpdate_(o,D,!1,null),u.resolve(D)):u.reject(new Error(D))}),u.promise}refreshAuthToken(n){}restRequest_(n,e={},o){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([u,p])=>{u&&u.accessToken&&(e.auth=u.accessToken),p&&p.token&&(e.ac=p.token);const y=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+(0,R.xO)(e);this.log_("Sending REST request for "+y);const D=new XMLHttpRequest;D.onreadystatechange=()=>{if(o&&4===D.readyState){this.log_("REST Response for "+y+" received. status:",D.status,"response:",D.responseText);let A=null;if(D.status>=200&&D.status<300){try{A=(0,R.cI)(D.responseText)}catch{de("Failed to parse JSON response for "+y+": "+D.responseText)}o(null,A)}else 401!==D.status&&404!==D.status&&de("Got unsuccessful REST response for "+y+" Status: "+D.status),o(D.status);o=null}},D.open("GET",y,!0),D.send()})}}class Ir{constructor(){this.rootNode_=ft.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,e){this.rootNode_=this.rootNode_.updateChild(n,e)}}function Aa(){return{value:null,children:new Map}}function Ll(r,n,e){if(vt(n))r.value=e,r.children.clear();else if(null!==r.value)r.value=r.value.updateChild(n,e);else{const o=mt(n);r.children.has(o)||r.children.set(o,Aa()),Ll(r.children.get(o),n=Ut(n),e)}}function mp(r,n){if(vt(n))return r.value=null,r.children.clear(),!0;if(null!==r.value){if(r.value.isLeafNode())return!1;{const e=r.value;return r.value=null,e.forEachChild(ye,(o,u)=>{Ll(r,new Nt(o),u)}),mp(r,n)}}if(r.children.size>0){const e=mt(n);return n=Ut(n),r.children.has(e)&&mp(r.children.get(e),n)&&r.children.delete(e),0===r.children.size}return!0}function _p(r,n,e){null!==r.value?e(n,r.value):function km(r,n){r.children.forEach((e,o)=>{n(o,e)})}(r,(o,u)=>{_p(u,new Nt(n.toString()+"/"+o),e)})}class Kv{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),e=Object.assign({},n);return this.last_&&hn(this.last_,(o,u)=>{e[o]=e[o]-u}),this.last_=n,e}}class qv{constructor(n,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Kv(n);const o=1e4+2e4*Math.random();va(this.reportStats_.bind(this),Math.floor(o))}reportStats_(){const n=this.statsListener_.get(),e={};let o=!1;hn(n,(u,p)=>{p>0&&(0,R.r3)(this.statsToReport_,u)&&(e[u]=p,o=!0)}),o&&this.server_.reportStats(e),va(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Oi=(()=>{return(r=Oi||(Oi={}))[r.OVERWRITE=0]="OVERWRITE",r[r.MERGE=1]="MERGE",r[r.ACK_USER_WRITE=2]="ACK_USER_WRITE",r[r.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Oi;var r})();function Ip(r){return{fromUser:!1,fromServer:!0,queryId:r,tagged:!0}}class No{constructor(n,e,o){this.path=n,this.affectedTree=e,this.revert=o,this.type=Oi.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(n){if(vt(this.path)){if(null!=this.affectedTree.value)return(0,R.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Nt(n));return new No(Ft(),e,this.revert)}}return(0,R.hu)(mt(this.path)===n,"operationForChild called for unrelated child."),new No(Ut(this.path),this.affectedTree,this.revert)}}class ai{constructor(n,e){this.source=n,this.path=e,this.type=Oi.LISTEN_COMPLETE}operationForChild(n){return vt(this.path)?new ai(this.source,Ft()):new ai(this.source,Ut(this.path))}}class Vl{constructor(n,e,o){this.source=n,this.path=e,this.snap=o,this.type=Oi.OVERWRITE}operationForChild(n){return vt(this.path)?new Vl(this.source,Ft(),this.snap.getImmediateChild(n)):new Vl(this.source,Ut(this.path),this.snap)}}class Ku{constructor(n,e,o){this.source=n,this.path=e,this.children=o,this.type=Oi.MERGE}operationForChild(n){if(vt(this.path)){const e=this.children.subtree(new Nt(n));return e.isEmpty()?null:e.value?new Vl(this.source,Ft(),e.value):new Ku(this.source,Ft(),e)}return(0,R.hu)(mt(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new Ku(this.source,Ut(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Bl{constructor(n,e,o){this.node_=n,this.fullyInitialized_=e,this.filtered_=o}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(vt(n))return this.isFullyInitialized()&&!this.filtered_;const e=mt(n);return this.isCompleteForChild(e)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}class pD{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function vf(r,n,e,o,u,p){const y=o.filter(D=>D.type===e);y.sort((D,A)=>function Cp(r,n,e){if(null==n.childName||null==e.childName)throw(0,R.g5)("Should only compare child_ events.");const o=new tt(n.childName,n.snapshotNode),u=new tt(e.childName,e.snapshotNode);return r.index_.compare(o,u)}(r,D,A)),y.forEach(D=>{const A=function Ws(r,n,e){return"value"===n.type||"child_removed"===n.type||(n.prevName=e.getPredecessorChildName(n.childName,n.snapshotNode,r.index_)),n}(r,D,p);u.forEach(P=>{P.respondsTo(D.type)&&n.push(P.createEvent(A,r.query_))})})}function Zu(r,n){return{eventCache:r,serverCache:n}}function Jc(r,n,e,o){return Zu(new Bl(n,e,o),r.serverCache)}function Dp(r,n,e,o){return Zu(r.eventCache,new Bl(n,e,o))}function Ef(r){return r.eventCache.isFullyInitialized()?r.eventCache.getNode():null}function ss(r){return r.serverCache.isFullyInitialized()?r.serverCache.getNode():null}let wp;class Zt{constructor(n,e=(()=>(wp||(wp=new Er(wn)),wp))()){this.value=n,this.children=e}static fromObject(n){let e=new Zt(null);return hn(n,(o,u)=>{e=e.set(new Nt(o),u)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,e){if(null!=this.value&&e(this.value))return{path:Ft(),value:this.value};if(vt(n))return null;{const o=mt(n),u=this.children.get(o);if(null!==u){const p=u.findRootMostMatchingPathAndValue(Ut(n),e);return null!=p?{path:$t(new Nt(o),p.path),value:p.value}:null}return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(vt(n))return this;{const e=mt(n),o=this.children.get(e);return null!==o?o.subtree(Ut(n)):new Zt(null)}}set(n,e){if(vt(n))return new Zt(e,this.children);{const o=mt(n),p=(this.children.get(o)||new Zt(null)).set(Ut(n),e),y=this.children.insert(o,p);return new Zt(this.value,y)}}remove(n){if(vt(n))return this.children.isEmpty()?new Zt(null):new Zt(null,this.children);{const e=mt(n),o=this.children.get(e);if(o){const u=o.remove(Ut(n));let p;return p=u.isEmpty()?this.children.remove(e):this.children.insert(e,u),null===this.value&&p.isEmpty()?new Zt(null):new Zt(this.value,p)}return this}}get(n){if(vt(n))return this.value;{const e=mt(n),o=this.children.get(e);return o?o.get(Ut(n)):null}}setTree(n,e){if(vt(n))return e;{const o=mt(n),p=(this.children.get(o)||new Zt(null)).setTree(Ut(n),e);let y;return y=p.isEmpty()?this.children.remove(o):this.children.insert(o,p),new Zt(this.value,y)}}fold(n){return this.fold_(Ft(),n)}fold_(n,e){const o={};return this.children.inorderTraversal((u,p)=>{o[u]=p.fold_($t(n,u),e)}),e(n,this.value,o)}findOnPath(n,e){return this.findOnPath_(n,Ft(),e)}findOnPath_(n,e,o){const u=!!this.value&&o(e,this.value);if(u)return u;if(vt(n))return null;{const p=mt(n),y=this.children.get(p);return y?y.findOnPath_(Ut(n),$t(e,p),o):null}}foreachOnPath(n,e){return this.foreachOnPath_(n,Ft(),e)}foreachOnPath_(n,e,o){if(vt(n))return this;{this.value&&o(e,this.value);const u=mt(n),p=this.children.get(u);return p?p.foreachOnPath_(Ut(n),$t(e,u),o):new Zt(null)}}foreach(n){this.foreach_(Ft(),n)}foreach_(n,e){this.children.inorderTraversal((o,u)=>{u.foreach_($t(n,o),e)}),this.value&&e(n,this.value)}foreachChild(n){this.children.inorderTraversal((e,o)=>{o.value&&n(e,o.value)})}}class li{constructor(n){this.writeTree_=n}static empty(){return new li(new Zt(null))}}function qu(r,n,e){if(vt(n))return new li(new Zt(e));{const o=r.writeTree_.findRootMostValueAndPath(n);if(null!=o){const u=o.path;let p=o.value;const y=yr(u,n);return p=p.updateChild(y,e),new li(r.writeTree_.set(u,p))}{const u=new Zt(e),p=r.writeTree_.setTree(n,u);return new li(p)}}}function Vm(r,n,e){let o=r;return hn(e,(u,p)=>{o=qu(o,$t(n,u),p)}),o}function Ul(r,n){if(vt(n))return li.empty();{const e=r.writeTree_.setTree(n,new Zt(null));return new li(e)}}function Xc(r,n){return null!=Sa(r,n)}function Sa(r,n){const e=r.writeTree_.findRootMostValueAndPath(n);return null!=e?r.writeTree_.get(e.path).getChild(yr(e.path,n)):null}function Bm(r){const n=[],e=r.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(ye,(o,u)=>{n.push(new tt(o,u))}):r.writeTree_.children.inorderTraversal((o,u)=>{null!=u.value&&n.push(new tt(o,u.value))}),n}function Gs(r,n){if(vt(n))return r;{const e=Sa(r,n);return new li(null!=e?new Zt(e):r.writeTree_.subtree(n))}}function bp(r){return r.writeTree_.isEmpty()}function Yu(r,n){return Um(Ft(),r.writeTree_,n)}function Um(r,n,e){if(null!=n.value)return e.updateChild(r,n.value);{let o=null;return n.children.inorderTraversal((u,p)=>{".priority"===u?((0,R.hu)(null!==p.value,"Priority writes must always be leaf nodes"),o=p.value):e=Um($t(r,u),p,e)}),!e.getChild(r).isEmpty()&&null!==o&&(e=e.updateChild($t(r,".priority"),o)),e}}function If(r,n){return nd(n,r)}function Hm(r,n){if(r.snap)return Qt(r.path,n);for(const e in r.children)if(r.children.hasOwnProperty(e)&&Qt($t(r.path,e),n))return!0;return!1}function Xv(r){return r.visible}function $m(r,n,e){let o=li.empty();for(let u=0;u<r.length;++u){const p=r[u];if(n(p)){const y=p.path;let D;if(p.snap)Qt(e,y)?(D=yr(e,y),o=qu(o,D,p.snap)):Qt(y,e)&&(D=yr(y,e),o=qu(o,Ft(),p.snap.getChild(D)));else{if(!p.children)throw(0,R.g5)("WriteRecord should have .snap or .children");if(Qt(e,y))D=yr(e,y),o=Vm(o,D,p.children);else if(Qt(y,e))if(D=yr(y,e),vt(D))o=Vm(o,Ft(),p.children);else{const A=(0,R.DV)(p.children,mt(D));if(A){const P=A.getChild(Ut(D));o=qu(o,Ft(),P)}}}}}return o}function Sp(r,n,e,o,u){if(o||u){const p=Gs(r.visibleWrites,n);return!u&&bp(p)?e:u||null!=e||Xc(p,Ft())?Yu($m(r.allWrites,function(P){return(P.visible||u)&&(!o||!~o.indexOf(P.writeId))&&(Qt(P.path,n)||Qt(n,P.path))},n),e||ft.EMPTY_NODE):null}{const p=Sa(r.visibleWrites,n);if(null!=p)return p;{const y=Gs(r.visibleWrites,n);return bp(y)?e:null!=e||Xc(y,Ft())?Yu(y,e||ft.EMPTY_NODE):null}}}function Hl(r,n,e,o){return Sp(r.writeTree,r.treePath,n,e,o)}function Mp(r,n){return function Wm(r,n,e){let o=ft.EMPTY_NODE;const u=Sa(r.visibleWrites,n);if(u)return u.isLeafNode()||u.forEachChild(ye,(p,y)=>{o=o.updateImmediateChild(p,y)}),o;if(e){const p=Gs(r.visibleWrites,n);return e.forEachChild(ye,(y,D)=>{const A=Yu(Gs(p,new Nt(y)),D);o=o.updateImmediateChild(y,A)}),Bm(p).forEach(y=>{o=o.updateImmediateChild(y.name,y.node)}),o}return Bm(Gs(r.visibleWrites,n)).forEach(y=>{o=o.updateImmediateChild(y.name,y.node)}),o}(r.writeTree,r.treePath,n)}function Pp(r,n,e,o){return function jl(r,n,e,o,u){(0,R.hu)(o||u,"Either existingEventSnap or existingServerSnap must exist");const p=$t(n,e);if(Xc(r.visibleWrites,p))return null;{const y=Gs(r.visibleWrites,p);return bp(y)?u.getChild(e):Yu(y,u.getChild(e))}}(r.writeTree,r.treePath,n,e,o)}function ed(r,n){return function zm(r,n){return Sa(r.visibleWrites,n)}(r.writeTree,$t(r.treePath,n))}function td(r,n,e){return function Gm(r,n,e,o){const u=$t(n,e),p=Sa(r.visibleWrites,u);return null!=p?p:o.isCompleteForChild(e)?Yu(Gs(r.visibleWrites,u),o.getNode().getImmediateChild(e)):null}(r.writeTree,r.treePath,n,e)}function Np(r,n){return nd($t(r.treePath,n),r.writeTree)}function nd(r,n){return{treePath:r,writeTree:n}}class Cf{constructor(){this.changeMap=new Map}trackChildChange(n){const e=n.type,o=n.childName;(0,R.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,R.hu)(".priority"!==o,"Only non-priority child changes can be tracked.");const u=this.changeMap.get(o);if(u){const p=u.type;if("child_added"===e&&"child_removed"===p)this.changeMap.set(o,Yc(o,n.snapshotNode,u.snapshotNode));else if("child_removed"===e&&"child_added"===p)this.changeMap.delete(o);else if("child_removed"===e&&"child_changed"===p)this.changeMap.set(o,qc(o,u.oldSnap));else if("child_changed"===e&&"child_added"===p)this.changeMap.set(o,Gu(o,n.snapshotNode));else{if("child_changed"!==e||"child_changed"!==p)throw(0,R.g5)("Illegal combination of changes: "+n+" occurred after "+u);this.changeMap.set(o,Yc(o,n.snapshotNode,u.oldSnap))}}else this.changeMap.set(o,n)}getChanges(){return Array.from(this.changeMap.values())}}const Df=new class Zm{getCompleteChild(n){return null}getChildAfterChild(n,e,o){return null}};class wf{constructor(n,e,o=null){this.writes_=n,this.viewCache_=e,this.optCompleteServerCache_=o}getCompleteChild(n){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(n))return e.getNode().getImmediateChild(n);{const o=null!=this.optCompleteServerCache_?new Bl(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return td(this.writes_,n,o)}}getChildAfterChild(n,e,o){const u=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ss(this.viewCache_),p=function Km(r,n,e,o,u,p){return function eE(r,n,e,o,u,p,y){let D;const A=Gs(r.visibleWrites,n),P=Sa(A,Ft());if(null!=P)D=P;else{if(null==e)return[];D=Yu(A,e)}if(D=D.withIndex(y),D.isEmpty()||D.isLeafNode())return[];{const W=[],K=y.getCompare(),ne=p?D.getReverseIteratorFrom(o,y):D.getIteratorFrom(o,y);let Ce=ne.getNext();for(;Ce&&W.length<u;)0!==K(Ce,o)&&W.push(Ce),Ce=ne.getNext();return W}}(r.writeTree,r.treePath,n,e,o,u,p)}(this.writes_,u,e,1,o,n);return 0===p.length?null:p[0]}}function Ym(r,n,e,o,u,p){const y=n.eventCache;if(null!=ed(o,e))return n;{let D,A;if(vt(e))if((0,R.hu)(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const P=ss(n),K=Mp(o,P instanceof ft?P:ft.EMPTY_NODE);D=r.filter.updateFullNode(n.eventCache.getNode(),K,p)}else{const P=Hl(o,ss(n));D=r.filter.updateFullNode(n.eventCache.getNode(),P,p)}else{const P=mt(e);if(".priority"===P){(0,R.hu)(1===rs(e),"Can't have a priority with additional path components");const W=y.getNode();A=n.serverCache.getNode();const K=Pp(o,e,W,A);D=null!=K?r.filter.updatePriority(W,K):y.getNode()}else{const W=Ut(e);let K;if(y.isCompleteForChild(P)){A=n.serverCache.getNode();const ne=Pp(o,e,y.getNode(),A);K=null!=ne?y.getNode().getImmediateChild(P).updateChild(W,ne):y.getNode().getImmediateChild(P)}else K=td(o,P,n.serverCache);D=null!=K?r.filter.updateChild(y.getNode(),P,K,W,u,p):y.getNode()}}return Jc(n,D,y.isFullyInitialized()||vt(e),r.filter.filtersNodes())}}function bf(r,n,e,o,u,p,y,D){const A=n.serverCache;let P;const W=y?r.filter:r.filter.getIndexedFilter();if(vt(e))P=W.updateFullNode(A.getNode(),o,null);else if(W.filtersNodes()&&!A.isFiltered()){const Ce=A.getNode().updateChild(e,o);P=W.updateFullNode(A.getNode(),Ce,null)}else{const Ce=mt(e);if(!A.isCompleteForPath(e)&&rs(e)>1)return n;const Ue=Ut(e),xt=A.getNode().getImmediateChild(Ce).updateChild(Ue,o);P=".priority"===Ce?W.updatePriority(A.getNode(),xt):W.updateChild(A.getNode(),Ce,xt,Ue,Df,null)}const K=Dp(n,P,A.isFullyInitialized()||vt(e),W.filtersNodes());return Ym(r,K,e,u,new wf(u,K,p),D)}function Tf(r,n,e,o,u,p,y){const D=n.eventCache;let A,P;const W=new wf(u,n,p);if(vt(e))P=r.filter.updateFullNode(n.eventCache.getNode(),o,y),A=Jc(n,P,!0,r.filter.filtersNodes());else{const K=mt(e);if(".priority"===K)P=r.filter.updatePriority(n.eventCache.getNode(),o),A=Jc(n,P,D.isFullyInitialized(),D.isFiltered());else{const ne=Ut(e),Ce=D.getNode().getImmediateChild(K);let Ue;if(vt(ne))Ue=o;else{const pt=W.getCompleteChild(K);Ue=null!=pt?".priority"===Uu(ne)&&pt.getChild(Rl(ne)).isEmpty()?pt:pt.updateChild(ne,o):ft.EMPTY_NODE}A=Ce.equals(Ue)?n:Jc(n,r.filter.updateChild(D.getNode(),K,Ue,ne,W,y),D.isFullyInitialized(),r.filter.filtersNodes())}}return A}function Af(r,n){return r.eventCache.isCompleteForChild(n)}function nE(r,n,e){return e.foreach((o,u)=>{n=n.updateChild(o,u)}),n}function Sf(r,n,e,o,u,p,y,D){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let P,A=n;P=vt(e)?o:new Zt(null).setTree(e,o);const W=n.serverCache.getNode();return P.children.inorderTraversal((K,ne)=>{if(W.hasChild(K)){const Ue=nE(0,n.serverCache.getNode().getImmediateChild(K),ne);A=bf(r,A,new Nt(K),Ue,u,p,y,D)}}),P.children.inorderTraversal((K,ne)=>{const Ce=!n.serverCache.isCompleteForChild(K)&&null===ne.value;if(!W.hasChild(K)&&!Ce){const pt=nE(0,n.serverCache.getNode().getImmediateChild(K),ne);A=bf(r,A,new Nt(K),pt,u,p,y,D)}}),A}class sE{constructor(n,e){this.query_=n,this.eventRegistrations_=[];const o=this.query_._queryParams,u=new dp(o.getIndex()),p=function fp(r){return r.loadsAllData()?new dp(r.getIndex()):r.hasLimit()?new $v(r):new Qc(r)}(o);this.processor_=function Rp(r){return{filter:r}}(p);const y=e.serverCache,D=e.eventCache,A=u.updateFullNode(ft.EMPTY_NODE,y.getNode(),null),P=p.updateFullNode(ft.EMPTY_NODE,D.getNode(),null),W=new Bl(A,y.isFullyInitialized(),u.filtersNodes()),K=new Bl(P,D.isFullyInitialized(),p.filtersNodes());this.viewCache_=Zu(K,W),this.eventGenerator_=new pD(this.query_)}get query(){return this.query_}}function Xm(r,n){const e=ss(r.viewCache_);return e&&(r.query._queryParams.loadsAllData()||!vt(n)&&!e.getImmediateChild(mt(n)).isEmpty())?e.getChild(n):null}function e_(r){return 0===r.eventRegistrations_.length}function t_(r,n,e){const o=[];if(e){(0,R.hu)(null==n,"A cancel should cancel all event registrations.");const u=r.query._path;r.eventRegistrations_.forEach(p=>{const y=p.createCancelEvent(e,u);y&&o.push(y)})}if(n){let u=[];for(let p=0;p<r.eventRegistrations_.length;++p){const y=r.eventRegistrations_[p];if(y.matches(n)){if(n.hasAnyCallback()){u=u.concat(r.eventRegistrations_.slice(p+1));break}}else u.push(y)}r.eventRegistrations_=u}else r.eventRegistrations_=[];return o}function n_(r,n,e,o){n.type===Oi.MERGE&&null!==n.source.queryId&&((0,R.hu)(ss(r.viewCache_),"We should always have a full cache before handling merges"),(0,R.hu)(Ef(r.viewCache_),"Missing event cache, even though we have a server cache"));const u=r.viewCache_,p=function tE(r,n,e,o,u){const p=new Cf;let y,D;if(e.type===Oi.OVERWRITE){const P=e;P.source.fromUser?y=Tf(r,n,P.path,P.snap,o,u,p):((0,R.hu)(P.source.fromServer,"Unknown source."),D=P.source.tagged||n.serverCache.isFiltered()&&!vt(P.path),y=bf(r,n,P.path,P.snap,o,u,D,p))}else if(e.type===Oi.MERGE){const P=e;P.source.fromUser?y=function Qm(r,n,e,o,u,p,y){let D=n;return o.foreach((A,P)=>{const W=$t(e,A);Af(n,mt(W))&&(D=Tf(r,D,W,P,u,p,y))}),o.foreach((A,P)=>{const W=$t(e,A);Af(n,mt(W))||(D=Tf(r,D,W,P,u,p,y))}),D}(r,n,P.path,P.children,o,u,p):((0,R.hu)(P.source.fromServer,"Unknown source."),D=P.source.tagged||n.serverCache.isFiltered(),y=Sf(r,n,P.path,P.children,o,u,D,p))}else if(e.type===Oi.ACK_USER_WRITE){const P=e;y=P.revert?function iE(r,n,e,o,u,p){let y;if(null!=ed(o,e))return n;{const D=new wf(o,n,u),A=n.eventCache.getNode();let P;if(vt(e)||".priority"===mt(e)){let W;if(n.serverCache.isFullyInitialized())W=Hl(o,ss(n));else{const K=n.serverCache.getNode();(0,R.hu)(K instanceof ft,"serverChildren would be complete if leaf node"),W=Mp(o,K)}P=r.filter.updateFullNode(A,W,p)}else{const W=mt(e);let K=td(o,W,n.serverCache);null==K&&n.serverCache.isCompleteForChild(W)&&(K=A.getImmediateChild(W)),P=null!=K?r.filter.updateChild(A,W,K,Ut(e),D,p):n.eventCache.getNode().hasChild(W)?r.filter.updateChild(A,W,ft.EMPTY_NODE,Ut(e),D,p):A,P.isEmpty()&&n.serverCache.isFullyInitialized()&&(y=Hl(o,ss(n)),y.isLeafNode()&&(P=r.filter.updateFullNode(P,y,p)))}return y=n.serverCache.isFullyInitialized()||null!=ed(o,Ft()),Jc(n,P,y,r.filter.filtersNodes())}}(r,n,P.path,o,u,p):function rE(r,n,e,o,u,p,y){if(null!=ed(u,e))return n;const D=n.serverCache.isFiltered(),A=n.serverCache;if(null!=o.value){if(vt(e)&&A.isFullyInitialized()||A.isCompleteForPath(e))return bf(r,n,e,A.getNode().getChild(e),u,p,D,y);if(vt(e)){let P=new Zt(null);return A.getNode().forEachChild(xn,(W,K)=>{P=P.set(new Nt(W),K)}),Sf(r,n,e,P,u,p,D,y)}return n}{let P=new Zt(null);return o.foreach((W,K)=>{const ne=$t(e,W);A.isCompleteForPath(ne)&&(P=P.set(W,A.getNode().getChild(ne)))}),Sf(r,n,e,P,u,p,D,y)}}(r,n,P.path,P.affectedTree,o,u,p)}else{if(e.type!==Oi.LISTEN_COMPLETE)throw(0,R.g5)("Unknown operation type: "+e.type);y=function Jm(r,n,e,o,u){const p=n.serverCache;return Ym(r,Dp(n,p.getNode(),p.isFullyInitialized()||vt(e),p.isFiltered()),e,o,Df,u)}(r,n,e.path,o,p)}const A=p.getChanges();return function qm(r,n,e){const o=n.eventCache;if(o.isFullyInitialized()){const u=o.getNode().isLeafNode()||o.getNode().isEmpty(),p=Ef(r);(e.length>0||!r.eventCache.isFullyInitialized()||u&&!o.getNode().equals(p)||!o.getNode().getPriority().equals(p.getPriority()))&&e.push(Wu(Ef(n)))}}(n,y,A),{viewCache:y,changes:A}}(r.processor_,u,n,e,o);return function rd(r,n){(0,R.hu)(n.eventCache.getNode().isIndexed(r.filter.getIndex()),"Event snap not indexed"),(0,R.hu)(n.serverCache.getNode().isIndexed(r.filter.getIndex()),"Server snap not indexed")}(r.processor_,p.viewCache),(0,R.hu)(p.viewCache.serverCache.isFullyInitialized()||!u.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),r.viewCache_=p.viewCache,i_(r,p.changes,p.viewCache.eventCache.getNode(),null)}function i_(r,n,e,o){return function Lm(r,n,e,o){const u=[],p=[];return n.forEach(y=>{"child_changed"===y.type&&r.index_.indexedValueChanged(y.oldSnap,y.snapshotNode)&&p.push(function Om(r,n){return{type:"child_moved",snapshotNode:n,childName:r}}(y.childName,y.snapshotNode))}),vf(r,u,"child_removed",n,o,e),vf(r,u,"child_added",n,o,e),vf(r,u,"child_moved",p,o,e),vf(r,u,"child_changed",n,o,e),vf(r,u,"value",n,o,e),u}(r.eventGenerator_,n,e,o?[o]:r.eventRegistrations_)}let Mf,sd;class s_{constructor(){this.views=new Map}}function Pf(r,n,e,o){const u=n.source.queryId;if(null!==u){const p=r.views.get(u);return(0,R.hu)(null!=p,"SyncTree gave us an op for an invalid query."),n_(p,n,e,o)}{let p=[];for(const y of r.views.values())p=p.concat(n_(y,n,e,o));return p}}function l_(r,n,e,o,u){const y=r.views.get(n._queryIdentifier);if(!y){let D=Hl(e,u?o:null),A=!1;D?A=!0:o instanceof ft?(D=Mp(e,o),A=!1):(D=ft.EMPTY_NODE,A=!1);const P=Zu(new Bl(D,A,!1),new Bl(o,u,!1));return new sE(n,P)}return y}function c_(r){const n=[];for(const e of r.views.values())e.query._queryParams.loadsAllData()||n.push(e);return n}function Ro(r,n){let e=null;for(const o of r.views.values())e=e||Xm(o,n);return e}function d_(r,n){return n._queryParams.loadsAllData()?id(r):r.views.get(n._queryIdentifier)}function f_(r,n){return null!=d_(r,n)}function $l(r){return null!=id(r)}function id(r){for(const n of r.views.values())if(n.query._queryParams.loadsAllData())return n;return null}let Op=1;class Nf{constructor(n){this.listenProvider_=n,this.syncPointTree_=new Zt(null),this.pendingWriteTree_=function gD(){return{visibleWrites:li.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function xp(r,n,e,o,u){return function Qv(r,n,e,o,u){(0,R.hu)(o>r.lastWriteId,"Stacking an older write on top of newer ones"),void 0===u&&(u=!0),r.allWrites.push({path:n,snap:e,writeId:o,visible:u}),u&&(r.visibleWrites=qu(r.visibleWrites,n,e)),r.lastWriteId=o}(r.pendingWriteTree_,n,e,o,u),u?Zl(r,new Vl({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},n,e)):[]}function Gl(r,n,e=!1){const o=function jm(r,n){for(let e=0;e<r.allWrites.length;e++){const o=r.allWrites[e];if(o.writeId===n)return o}return null}(r.pendingWriteTree_,n);if(function Tp(r,n){const e=r.allWrites.findIndex(D=>D.writeId===n);(0,R.hu)(e>=0,"removeWrite called with nonexistent writeId.");const o=r.allWrites[e];r.allWrites.splice(e,1);let u=o.visible,p=!1,y=r.allWrites.length-1;for(;u&&y>=0;){const D=r.allWrites[y];D.visible&&(y>=e&&Hm(D,o.path)?u=!1:Qt(o.path,D.path)&&(p=!0)),y--}return!!u&&(p?(function Ap(r){r.visibleWrites=$m(r.allWrites,Xv,Ft()),r.lastWriteId=r.allWrites.length>0?r.allWrites[r.allWrites.length-1].writeId:-1}(r),!0):(o.snap?r.visibleWrites=Ul(r.visibleWrites,o.path):hn(o.children,A=>{r.visibleWrites=Ul(r.visibleWrites,$t(o.path,A))}),!0))}(r.pendingWriteTree_,n)){let p=new Zt(null);return null!=o.snap?p=p.set(Ft(),!0):hn(o.children,y=>{p=p.set(new Nt(y),!0)}),Zl(r,new No(o.path,p,e))}return[]}function Rf(r,n,e){return Zl(r,new Vl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n,e))}function Of(r,n,e,o,u=!1){const p=n._path,y=r.syncPointTree_.get(p);let D=[];if(y&&("default"===n._queryIdentifier||f_(y,n))){const A=function u_(r,n,e,o){const u=n._queryIdentifier,p=[];let y=[];const D=$l(r);if("default"===u)for(const[A,P]of r.views.entries())y=y.concat(t_(P,e,o)),e_(P)&&(r.views.delete(A),P.query._queryParams.loadsAllData()||p.push(P.query));else{const A=r.views.get(u);A&&(y=y.concat(t_(A,e,o)),e_(A)&&(r.views.delete(u),A.query._queryParams.loadsAllData()||p.push(A.query)))}return D&&!$l(r)&&p.push(new(function o_(){return(0,R.hu)(Mf,"Reference.ts has not been loaded"),Mf}())(n._repo,n._path)),{removed:p,events:y}}(y,n,e,o);(function a_(r){return 0===r.views.size})(y)&&(r.syncPointTree_=r.syncPointTree_.remove(p));const P=A.removed;if(D=A.events,!u){const W=-1!==P.findIndex(ne=>ne._queryParams.loadsAllData()),K=r.syncPointTree_.findOnPath(p,(ne,Ce)=>$l(Ce));if(W&&!K){const ne=r.syncPointTree_.subtree(p);if(!ne.isEmpty()){const Ce=function __(r){return r.fold((n,e,o)=>{if(e&&$l(e))return[id(e)];{let u=[];return e&&(u=c_(e)),hn(o,(p,y)=>{u=u.concat(y)}),u}})}(ne);for(let Ue=0;Ue<Ce.length;++Ue){const pt=Ce[Ue],xt=pt.query,mn=m_(r,pt);r.listenProvider_.startListening(ql(xt),od(r,xt),mn.hashFn,mn.onComplete)}}}!K&&P.length>0&&!o&&(W?r.listenProvider_.stopListening(ql(n),null):P.forEach(ne=>{const Ce=r.queryToTagMap.get(kf(ne));r.listenProvider_.stopListening(ql(ne),Ce)}))}!function yD(r,n){for(let e=0;e<n.length;++e){const o=n[e];if(!o._queryParams.loadsAllData()){const u=kf(o),p=r.queryToTagMap.get(u);r.queryToTagMap.delete(u),r.tagToQueryMap.delete(p)}}}(r,P)}return D}function zl(r,n,e,o){const u=Ff(r,o);if(null!=u){const p=kp(u),y=p.path,D=p.queryId,A=yr(y,n);return Lf(r,y,new Vl(Ip(D),A,e))}return[]}function xf(r,n,e,o=!1){const u=n._path;let p=null,y=!1;r.syncPointTree_.foreachOnPath(u,(ne,Ce)=>{const Ue=yr(ne,u);p=p||Ro(Ce,Ue),y=y||$l(Ce)});let A,D=r.syncPointTree_.get(u);D?(y=y||$l(D),p=p||Ro(D,Ft())):(D=new s_,r.syncPointTree_=r.syncPointTree_.set(u,D)),null!=p?A=!0:(A=!1,p=ft.EMPTY_NODE,r.syncPointTree_.subtree(u).foreachChild((Ce,Ue)=>{const pt=Ro(Ue,Ft());pt&&(p=p.updateImmediateChild(Ce,pt))}));const P=f_(D,n);if(!P&&!n._queryParams.loadsAllData()){const ne=kf(n);(0,R.hu)(!r.queryToTagMap.has(ne),"View does not exist, but we have a tag");const Ce=function Fp(){return Op++}();r.queryToTagMap.set(ne,Ce),r.tagToQueryMap.set(Ce,ne)}let K=function lE(r,n,e,o,u,p){const y=l_(r,n,o,u,p);return r.views.has(n._queryIdentifier)||r.views.set(n._queryIdentifier,y),function aE(r,n){r.eventRegistrations_.push(n)}(y,e),function r_(r,n){const e=r.viewCache_.eventCache,o=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(ye,(p,y)=>{o.push(Gu(p,y))}),e.isFullyInitialized()&&o.push(Wu(e.getNode())),i_(r,o,e.getNode(),n)}(y,e)}(D,n,e,If(r.pendingWriteTree_,u),p,A);if(!P&&!y&&!o){const ne=d_(D,n);K=K.concat(function hE(r,n,e){const o=n._path,u=od(r,n),p=m_(r,e),y=r.listenProvider_.startListening(ql(n),u,p.hashFn,p.onComplete),D=r.syncPointTree_.subtree(o);if(u)(0,R.hu)(!$l(D.value),"If we're adding a query, it shouldn't be shadowed");else{const A=D.fold((P,W,K)=>{if(!vt(P)&&W&&$l(W))return[id(W).query];{let ne=[];return W&&(ne=ne.concat(c_(W).map(Ce=>Ce.query))),hn(K,(Ce,Ue)=>{ne=ne.concat(Ue)}),ne}});for(let P=0;P<A.length;++P){const W=A[P];r.listenProvider_.stopListening(ql(W),od(r,W))}}return y}(r,n,ne))}return K}function Kl(r,n,e){const u=r.pendingWriteTree_,p=r.syncPointTree_.findOnPath(n,(y,D)=>{const P=Ro(D,yr(y,n));if(P)return P});return Sp(u,n,p,e,!0)}function Zl(r,n){return p_(n,r.syncPointTree_,null,If(r.pendingWriteTree_,Ft()))}function p_(r,n,e,o){if(vt(r.path))return g_(r,n,e,o);{const u=n.get(Ft());null==e&&null!=u&&(e=Ro(u,Ft()));let p=[];const y=mt(r.path),D=r.operationForChild(y),A=n.children.get(y);if(A&&D){const P=e?e.getImmediateChild(y):null,W=Np(o,y);p=p.concat(p_(D,A,P,W))}return u&&(p=p.concat(Pf(u,r,o,e))),p}}function g_(r,n,e,o){const u=n.get(Ft());null==e&&null!=u&&(e=Ro(u,Ft()));let p=[];return n.children.inorderTraversal((y,D)=>{const A=e?e.getImmediateChild(y):null,P=Np(o,y),W=r.operationForChild(y);W&&(p=p.concat(g_(W,D,A,P)))}),u&&(p=p.concat(Pf(u,r,o,e))),p}function m_(r,n){const e=n.query,o=od(r,e);return{hashFn:()=>(function os(r){return r.viewCache_.serverCache.getNode()}(n)||ft.EMPTY_NODE).hash(),onComplete:u=>{if("ok"===u)return o?function _D(r,n,e){const o=Ff(r,e);if(o){const u=kp(o),p=u.path,y=u.queryId,D=yr(p,n);return Lf(r,p,new ai(Ip(y),D))}return[]}(r,e._path,o):function h_(r,n){return Zl(r,new ai({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n))}(r,e._path);{const p=function Vs(r,n){let e="Unknown Error";"too_big"===r?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===r?e="Client doesn't have permission to access the desired data.":"unavailable"===r&&(e="The service is unavailable");const o=new Error(r+" at "+n._path.toString()+": "+e);return o.code=r.toUpperCase(),o}(u,e);return Of(r,e,null,p)}}}}function od(r,n){const e=kf(n);return r.queryToTagMap.get(e)}function kf(r){return r._path.toString()+"$"+r._queryIdentifier}function Ff(r,n){return r.tagToQueryMap.get(n)}function kp(r){const n=r.indexOf("$");return(0,R.hu)(-1!==n&&n<r.length-1,"Bad queryKey."),{queryId:r.substr(n+1),path:new Nt(r.substr(0,n))}}function Lf(r,n,e){const o=r.syncPointTree_.get(n);return(0,R.hu)(o,"Missing sync point for query tag that we're tracking"),Pf(o,e,If(r.pendingWriteTree_,n),null)}function ql(r){return r._queryParams.loadsAllData()&&!r._queryParams.isDefault()?new(function uE(){return(0,R.hu)(sd,"Reference.ts has not been loaded"),sd}())(r._repo,r._path):r}class y_{constructor(n){this.node_=n}getImmediateChild(n){const e=this.node_.getImmediateChild(n);return new y_(e)}node(){return this.node_}}class Ma{constructor(n,e){this.syncTree_=n,this.path_=e}getImmediateChild(n){const e=$t(this.path_,n);return new Ma(this.syncTree_,e)}node(){return Kl(this.syncTree_,this.path_)}}const Lp=function(r,n,e){return r&&"object"==typeof r?((0,R.hu)(".sv"in r,"Unexpected leaf node or priority contents"),"string"==typeof r[".sv"]?Vf(r[".sv"],n,e):"object"==typeof r[".sv"]?as(r[".sv"],n):void(0,R.hu)(!1,"Unexpected server value: "+JSON.stringify(r,null,2))):r},Vf=function(r,n,e){if("timestamp"===r)return e.timestamp;(0,R.hu)(!1,"Unexpected server value: "+r)},as=function(r,n,e){r.hasOwnProperty("increment")||(0,R.hu)(!1,"Unexpected server value: "+JSON.stringify(r,null,2));const o=r.increment;"number"!=typeof o&&(0,R.hu)(!1,"Unexpected increment value: "+o);const u=n.node();if((0,R.hu)(null!==u&&typeof u<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!u.isLeafNode())return o;const y=u.getValue();return"number"!=typeof y?o:y+o},Vp=function(r,n,e,o){return ad(n,new Ma(e,r),o)},Bp=function(r,n,e){return ad(r,new y_(n),e)};function ad(r,n,e){const o=r.getPriority().val(),u=Lp(o,n.getImmediateChild(".priority"),e);let p;if(r.isLeafNode()){const y=r,D=Lp(y.getValue(),n,e);return D!==y.getValue()||u!==y.getPriority().val()?new f(D,on(u)):r}{const y=r;return p=y,u!==y.getPriority().val()&&(p=p.updatePriority(new f(u))),y.forEachChild(ye,(D,A)=>{const P=ad(A,n.getImmediateChild(D),e);P!==A&&(p=p.updateImmediateChild(D,P))}),p}}class ls{constructor(n="",e=null,o={children:{},childCount:0}){this.name=n,this.parent=e,this.node=o}}function Qu(r,n){let e=n instanceof Nt?n:new Nt(n),o=r,u=mt(e);for(;null!==u;){const p=(0,R.DV)(o.node.children,u)||{children:{},childCount:0};o=new ls(u,o,p),e=Ut(e),u=mt(e)}return o}function Pa(r){return r.node.value}function ld(r,n){r.node.value=n,cd(r)}function gE(r){return r.node.childCount>0}function Up(r,n){hn(r.node.children,(e,o)=>{n(new ls(e,r,o))})}function ud(r,n,e,o){e&&!o&&n(r),Up(r,u=>{ud(u,n,!0,o)}),e&&o&&n(r)}function Yl(r){return new Nt(null===r.parent?r.name:Yl(r.parent)+"/"+r.name)}function cd(r){null!==r.parent&&function jp(r,n,e){const o=function v_(r){return void 0===Pa(r)&&!gE(r)}(e),u=(0,R.r3)(r.node.children,n);o&&u?(delete r.node.children[n],r.node.childCount--,cd(r)):!o&&!u&&(r.node.children[n]=e.node,r.node.childCount++,cd(r))}(r.parent,r.name,r)}const vD=/[\[\].#$\/\u0000-\u001F\u007F]/,mE=/[\[\].#$\u0000-\u001F\u007F]/,Hp=10485760,Uf=function(r){return"string"==typeof r&&0!==r.length&&!vD.test(r)},E_=function(r){return"string"==typeof r&&0!==r.length&&!mE.test(r)},jf=function(r){return null===r||"string"==typeof r||"number"==typeof r&&!Ve(r)||r&&"object"==typeof r&&(0,R.r3)(r,".sv")},zs=function(r,n,e,o){o&&void 0===n||Hf((0,R.gK)(r,"value"),n,e)},Hf=function(r,n,e){const o=e instanceof Nt?new Ca(e,r):e;if(void 0===n)throw new Error(r+"contains undefined "+$r(o));if("function"==typeof n)throw new Error(r+"contains a function "+$r(o)+" with contents = "+n.toString());if(Ve(n))throw new Error(r+"contains "+n.toString()+" "+$r(o));if("string"==typeof n&&n.length>Hp/3&&(0,R.ug)(n)>Hp)throw new Error(r+"contains a string greater than "+Hp+" utf8 bytes "+$r(o)+" ('"+n.substring(0,50)+"...')");if(n&&"object"==typeof n){let u=!1,p=!1;if(hn(n,(y,D)=>{if(".value"===y)u=!0;else if(".priority"!==y&&".sv"!==y&&(p=!0,!Uf(y)))throw new Error(r+" contains an invalid key ("+y+") "+$r(o)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function js(r,n){r.parts_.length>0&&(r.byteLength_+=1),r.parts_.push(n),r.byteLength_+=(0,R.ug)(n),Da(r)})(o,y),Hf(r,D,o),function op(r){const n=r.parts_.pop();r.byteLength_-=(0,R.ug)(n),r.parts_.length>0&&(r.byteLength_-=1)}(o)}),u&&p)throw new Error(r+' contains ".value" child '+$r(o)+" in addition to actual children.")}},$p=function(r,n,e,o){if(o&&void 0===n)return;const u=(0,R.gK)(r,"values");if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(u+" must be an object containing the children to replace.");const p=[];hn(n,(y,D)=>{const A=new Nt(y);if(Hf(u,D,$t(e,A)),".priority"===Uu(A)&&!jf(D))throw new Error(u+"contains an invalid value for '"+A.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");p.push(A)}),function(r,n){let e,o;for(e=0;e<n.length;e++){o=n[e];const p=Ia(o);for(let y=0;y<p.length;y++)if((".priority"!==p[y]||y!==p.length-1)&&!Uf(p[y]))throw new Error(r+"contains an invalid key ("+p[y]+") in path "+o.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}n.sort(Uc);let u=null;for(e=0;e<n.length;e++){if(o=n[e],null!==u&&Qt(u,o))throw new Error(r+"contains a path "+u.toString()+" that is ancestor of another path "+o.toString());u=o}}(u,p)},Wp=function(r,n,e){if(!e||void 0!==n){if(Ve(n))throw new Error((0,R.gK)(r,"priority")+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!jf(n))throw new Error((0,R.gK)(r,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Ql=function(r,n,e,o){if(!(o&&void 0===e||Uf(e)))throw new Error((0,R.gK)(r,n)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},$f=function(r,n,e,o){if(!(o&&void 0===e||E_(e)))throw new Error((0,R.gK)(r,n)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},us=function(r,n){if(".info"===mt(n))throw new Error(r+" failed = Can't modify data under /.info/")},_E=function(r,n){const e=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!Uf(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==e.length&&!function(r){return r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),E_(r)}(e))throw new Error((0,R.gK)(r,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class ID{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Gp(r,n){let e=null;for(let o=0;o<n.length;o++){const u=n[o],p=u.getPath();null!==e&&!Ol(p,e.path)&&(r.eventLists_.push(e),e=null),null===e&&(e={events:[],path:p}),e.events.push(u)}e&&r.eventLists_.push(e)}function yE(r,n,e){Gp(r,e),vE(r,o=>Ol(o,n))}function xi(r,n,e){Gp(r,e),vE(r,o=>Qt(o,n)||Qt(n,o))}function vE(r,n){r.recursionDepth_++;let e=!0;for(let o=0;o<r.eventLists_.length;o++){const u=r.eventLists_[o];u&&(n(u.path)?(CD(r.eventLists_[o]),r.eventLists_[o]=null):e=!1)}e&&(r.eventLists_=[]),r.recursionDepth_--}function CD(r){for(let n=0;n<r.events.length;n++){const e=r.events[n];if(null!==e){r.events[n]=null;const o=e.getEventRunner();Mi&&T("event: "+e.toString()),To(o)}}}const Oo="repo_interrupt";class EE{constructor(n,e,o,u){this.repoInfo_=n,this.forceRestClient_=e,this.authTokenProvider_=o,this.appCheckProvider_=u,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ID,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Aa(),this.transactionQueueTree_=new ls,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Wf(r){const e=r.infoData_.getNode(new Nt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Ju(r){return function(r){return(r=r||{}).timestamp=r.timestamp||(new Date).getTime(),r}({timestamp:Wf(r)})}function Gf(r,n,e,o,u){r.dataUpdateCount++;const p=new Nt(n);e=r.interceptServerDataCallback_?r.interceptServerDataCallback_(n,e):e;let y=[];if(u)if(o){const A=(0,R.UI)(e,P=>on(P));y=function dE(r,n,e,o){const u=Ff(r,o);if(u){const p=kp(u),y=p.path,D=p.queryId,A=yr(y,n),P=Zt.fromObject(e);return Lf(r,y,new Ku(Ip(D),A,P))}return[]}(r.serverSyncTree_,p,A,u)}else{const A=on(e);y=zl(r.serverSyncTree_,p,A,u)}else if(o){const A=(0,R.UI)(e,P=>on(P));y=function cE(r,n,e){const o=Zt.fromObject(e);return Zl(r,new Ku({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n,o))}(r.serverSyncTree_,p,A)}else{const A=on(e);y=Rf(r.serverSyncTree_,p,A)}let D=p;y.length>0&&(D=tc(r,p)),xi(r.eventQueue_,D,y)}function w_(r,n){zf(r,"connected",n),!1===n&&function DE(r){Ra(r,"onDisconnectEvents");const n=Ju(r),e=Aa();_p(r.onDisconnect_,Ft(),(u,p)=>{const y=Vp(u,p,r.serverSyncTree_,n);Ll(e,u,y)});let o=[];_p(e,Ft(),(u,p)=>{o=o.concat(Rf(r.serverSyncTree_,u,p));const y=xr(r,u);tc(r,y)}),r.onDisconnect_=Aa(),xi(r.eventQueue_,Ft(),o)}(r)}function zf(r,n,e){const o=new Nt("/.info/"+n),u=on(e);r.infoData_.updateSnapshot(o,u);const p=Rf(r.infoSyncTree_,o,u);xi(r.eventQueue_,o,p)}function Kf(r){return r.nextWriteId_++}function Zf(r,n,e,o,u){Ra(r,"set",{path:n.toString(),value:e,priority:o});const p=Ju(r),y=on(e,o),D=Kl(r.serverSyncTree_,n),A=Bp(y,D,p),P=Kf(r),W=xp(r.serverSyncTree_,n,A,P,!0);Gp(r.eventQueue_,W),r.server_.put(n.toString(),y.val(!0),(ne,Ce)=>{const Ue="ok"===ne;Ue||de("set at "+n+" failed: "+ne);const pt=Gl(r.serverSyncTree_,P,!Ue);xi(r.eventQueue_,n,pt),Ks(0,u,ne,Ce)});const K=xr(r,n);tc(r,K),xi(r.eventQueue_,K,[])}function qf(r,n,e){r.server_.onDisconnectCancel(n.toString(),(o,u)=>{"ok"===o&&mp(r.onDisconnect_,n),Ks(0,e,o,u)})}function Jl(r,n,e,o){const u=on(e);r.server_.onDisconnectPut(n.toString(),u.val(!0),(p,y)=>{"ok"===p&&Ll(r.onDisconnect_,n,u),Ks(0,o,p,y)})}function ec(r,n,e){let o;o=".info"===mt(n._path)?Of(r.infoSyncTree_,n,e):Of(r.serverSyncTree_,n,e),yE(r.eventQueue_,n._path,o)}function qp(r){r.persistentConnection_&&r.persistentConnection_.interrupt(Oo)}function Ra(r,...n){let e="";r.persistentConnection_&&(e=r.persistentConnection_.id+":"),T(e,...n)}function Ks(r,n,e,o){n&&To(()=>{if("ok"===e)n(null);else{const u=(e||"error").toUpperCase();let p=u;o&&(p+=": "+o);const y=new Error(p);y.code=u,n(y)}})}function dd(r,n,e){return Kl(r.serverSyncTree_,n,e)||ft.EMPTY_NODE}function Yf(r,n=r.transactionQueueTree_){if(n||Qf(r,n),Pa(n)){const e=Yp(r,n);(0,R.hu)(e.length>0,"Sending zero length transaction queue"),e.every(u=>0===u.status)&&function DD(r,n,e){const o=e.map(P=>P.currentWriteId),u=dd(r,n,o);let p=u;const y=u.hash();for(let P=0;P<e.length;P++){const W=e[P];(0,R.hu)(0===W.status,"tryToSendTransactionQueue_: items in queue should all be run."),W.status=1,W.retryCount++;const K=yr(n,W.path);p=p.updateChild(K,W.currentOutputSnapshotRaw)}const D=p.val(!0),A=n;r.server_.put(A.toString(),D,P=>{Ra(r,"transaction put response",{path:A.toString(),status:P});let W=[];if("ok"===P){const K=[];for(let ne=0;ne<e.length;ne++)e[ne].status=2,W=W.concat(Gl(r.serverSyncTree_,e[ne].currentWriteId)),e[ne].onComplete&&K.push(()=>e[ne].onComplete(null,!0,e[ne].currentOutputSnapshotResolved)),e[ne].unwatcher();Qf(r,Qu(r.transactionQueueTree_,n)),Yf(r,r.transactionQueueTree_),xi(r.eventQueue_,n,W);for(let ne=0;ne<K.length;ne++)To(K[ne])}else{if("datastale"===P)for(let K=0;K<e.length;K++)e[K].status=3===e[K].status?4:0;else{de("transaction at "+A.toString()+" failed: "+P);for(let K=0;K<e.length;K++)e[K].status=4,e[K].abortReason=P}tc(r,n)}},y)}(r,Yl(n),e)}else gE(n)&&Up(n,e=>{Yf(r,e)})}function tc(r,n){const e=S_(r,n),o=Yl(e);return function A_(r,n,e){if(0===n.length)return;const o=[];let u=[];const y=n.filter(D=>0===D.status).map(D=>D.currentWriteId);for(let D=0;D<n.length;D++){const A=n[D],P=yr(e,A.path);let K,W=!1;if((0,R.hu)(null!==P,"rerunTransactionsUnderNode_: relativePath should not be null."),4===A.status)W=!0,K=A.abortReason,u=u.concat(Gl(r.serverSyncTree_,A.currentWriteId,!0));else if(0===A.status)if(A.retryCount>=25)W=!0,K="maxretry",u=u.concat(Gl(r.serverSyncTree_,A.currentWriteId,!0));else{const ne=dd(r,A.path,y);A.currentInputSnapshot=ne;const Ce=n[D].update(ne.val());if(void 0!==Ce){Hf("transaction failed: Data returned ",Ce,A.path);let Ue=on(Ce);"object"==typeof Ce&&null!=Ce&&(0,R.r3)(Ce,".priority")||(Ue=Ue.updatePriority(ne.getPriority()));const xt=A.currentWriteId,mn=Ju(r),bn=Bp(Ue,ne,mn);A.currentOutputSnapshotRaw=Ue,A.currentOutputSnapshotResolved=bn,A.currentWriteId=Kf(r),y.splice(y.indexOf(xt),1),u=u.concat(xp(r.serverSyncTree_,A.path,bn,A.currentWriteId,A.applyLocally)),u=u.concat(Gl(r.serverSyncTree_,xt,!0))}else W=!0,K="nodata",u=u.concat(Gl(r.serverSyncTree_,A.currentWriteId,!0))}xi(r.eventQueue_,e,u),u=[],W&&(n[D].status=2,setTimeout(n[D].unwatcher,Math.floor(0)),n[D].onComplete&&o.push("nodata"===K?()=>n[D].onComplete(null,!1,n[D].currentInputSnapshot):()=>n[D].onComplete(new Error(K),!1,null)))}Qf(r,r.transactionQueueTree_);for(let D=0;D<o.length;D++)To(o[D]);Yf(r,r.transactionQueueTree_)}(r,Yp(r,e),o),o}function S_(r,n){let e,o=r.transactionQueueTree_;for(e=mt(n);null!==e&&void 0===Pa(o);)o=Qu(o,e),e=mt(n=Ut(n));return o}function Yp(r,n){const e=[];return Qp(r,n,e),e.sort((o,u)=>o.order-u.order),e}function Qp(r,n,e){const o=Pa(n);if(o)for(let u=0;u<o.length;u++)e.push(o[u]);Up(n,u=>{Qp(r,u,e)})}function Qf(r,n){const e=Pa(n);if(e){let o=0;for(let u=0;u<e.length;u++)2!==e[u].status&&(e[o]=e[u],o++);e.length=o,ld(n,e.length>0?e:void 0)}Up(n,o=>{Qf(r,o)})}function xr(r,n){const e=Yl(S_(r,n)),o=Qu(r.transactionQueueTree_,n);return function Bf(r,n,e){let o=e?r:r.parent;for(;null!==o;){if(n(o))return!0;o=o.parent}}(o,u=>{Jf(r,u)}),Jf(r,o),ud(o,u=>{Jf(r,u)}),e}function Jf(r,n){const e=Pa(n);if(e){const o=[];let u=[],p=-1;for(let y=0;y<e.length;y++)3===e[y].status||(1===e[y].status?((0,R.hu)(p===y-1,"All SENT items should be at beginning of queue."),p=y,e[y].status=3,e[y].abortReason="set"):((0,R.hu)(0===e[y].status,"Unexpected transaction status in abort"),e[y].unwatcher(),u=u.concat(Gl(r.serverSyncTree_,e[y].currentWriteId,!0)),e[y].onComplete&&o.push(e[y].onComplete.bind(null,new Error("set"),!1,null))));-1===p?ld(n,void 0):e.length=p+1,xi(r.eventQueue_,Yl(n),u);for(let y=0;y<o.length;y++)To(o[y])}}const Jp=function(r,n){const e=Xp(r),o=e.namespace;return"firebase.com"===e.domain&&Y(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!o||"undefined"===o)&&"localhost"!==e.domain&&Y("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&de("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Ru(e.host,e.secure,o,"ws"===e.scheme||"wss"===e.scheme,n,"",o!==e.subdomain),path:new Nt(e.pathString)}},Xp=function(r){let n="",e="",o="",u="",p="",y=!0,D="https",A=443;if("string"==typeof r){let P=r.indexOf("//");P>=0&&(D=r.substring(0,P-1),r=r.substring(P+2));let W=r.indexOf("/");-1===W&&(W=r.length);let K=r.indexOf("?");-1===K&&(K=r.length),n=r.substring(0,Math.min(W,K)),W<K&&(u=function wE(r){let n="";const e=r.split("/");for(let o=0;o<e.length;o++)if(e[o].length>0){let u=e[o];try{u=decodeURIComponent(u.replace(/\+/g," "))}catch{}n+="/"+u}return n}(r.substring(W,K)));const ne=function wD(r){const n={};"?"===r.charAt(0)&&(r=r.substring(1));for(const e of r.split("&")){if(0===e.length)continue;const o=e.split("=");2===o.length?n[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):de(`Invalid query segment '${e}' in query '${r}'`)}return n}(r.substring(Math.min(r.length,K)));P=n.indexOf(":"),P>=0?(y="https"===D||"wss"===D,A=parseInt(n.substring(P+1),10)):P=n.length;const Ce=n.slice(0,P);if("localhost"===Ce.toLowerCase())e="localhost";else if(Ce.split(".").length<=2)e=Ce;else{const Ue=n.indexOf(".");o=n.substring(0,Ue).toLowerCase(),e=n.substring(Ue+1),p=o}"ns"in ne&&(p=ne.ns)}return{host:n,port:A,domain:e,subdomain:o,secure:y,scheme:D,pathString:u,namespace:p}};class eg{constructor(n,e,o,u){this.eventType=n,this.eventRegistration=e,this.snapshot=o,this.prevName=u}getPath(){const n=this.snapshot.ref;return"value"===this.eventType?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,R.Wl)(this.snapshot.exportVal())}}class M_{constructor(n,e,o){this.eventRegistration=n,this.error=e,this.path=o}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class tg{constructor(n,e){this.snapshotCallback=n,this.cancelCallback=e}onValue(n,e){this.snapshotCallback.call(null,n,e)}onCancel(n){return(0,R.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}class P_{constructor(n,e){this._repo=n,this._path=e}cancel(){const n=new R.BH;return qf(this._repo,this._path,n.wrapCallback(()=>{})),n.promise}remove(){us("OnDisconnect.remove",this._path);const n=new R.BH;return Jl(this._repo,this._path,null,n.wrapCallback(()=>{})),n.promise}set(n){us("OnDisconnect.set",this._path),zs("OnDisconnect.set",n,this._path,!1);const e=new R.BH;return Jl(this._repo,this._path,n,e.wrapCallback(()=>{})),e.promise}setWithPriority(n,e){us("OnDisconnect.setWithPriority",this._path),zs("OnDisconnect.setWithPriority",n,this._path,!1),Wp("OnDisconnect.setWithPriority",e,!1);const o=new R.BH;return function Kp(r,n,e,o,u){const p=on(e,o);r.server_.onDisconnectPut(n.toString(),p.val(!0),(y,D)=>{"ok"===y&&Ll(r.onDisconnect_,n,p),Ks(0,u,y,D)})}(this._repo,this._path,n,e,o.wrapCallback(()=>{})),o.promise}update(n){us("OnDisconnect.update",this._path),$p("OnDisconnect.update",n,this._path,!1);const e=new R.BH;return function Xu(r,n,e,o){if((0,R.xb)(e))return T("onDisconnect().update() called with empty data.  Don't do anything."),void Ks(0,o,"ok",void 0);r.server_.onDisconnectMerge(n.toString(),e,(u,p)=>{"ok"===u&&hn(e,(y,D)=>{const A=on(D);Ll(r.onDisconnect_,$t(n,y),A)}),Ks(0,o,u,p)})}(this._repo,this._path,n,e.wrapCallback(()=>{})),e.promise}}class kr{constructor(n,e,o,u){this._repo=n,this._path=e,this._queryParams=o,this._orderByCalled=u}get key(){return vt(this._path)?null:Uu(this._path)}get ref(){return new ki(this._repo,this._path)}get _queryIdentifier(){const n=gp(this._queryParams),e=si(n);return"{}"===e?"default":e}get _queryObject(){return gp(this._queryParams)}isEqual(n){if(!((n=(0,R.m9)(n))instanceof kr))return!1;const e=this._repo===n._repo,o=Ol(this._path,n._path);return e&&o&&this._queryIdentifier===n._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function cf(r){let n="";for(let e=r.pieceNum_;e<r.pieces_.length;e++)""!==r.pieces_[e]&&(n+="/"+encodeURIComponent(String(r.pieces_[e])));return n||"/"}(this._path)}}function Xf(r,n){if(!0===r._orderByCalled)throw new Error(n+": You can't combine multiple orderBy calls.")}function xo(r){let n=null,e=null;if(r.hasStart()&&(n=r.getIndexStartValue()),r.hasEnd()&&(e=r.getIndexEndValue()),r.getIndex()===xn){const o="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",u="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(r.hasStart()){if(r.getIndexStartName()!==ot)throw new Error(o);if("string"!=typeof n)throw new Error(u)}if(r.hasEnd()){if(r.getIndexEndName()!==Ze)throw new Error(o);if("string"!=typeof e)throw new Error(u)}}else if(r.getIndex()===ye){if(null!=n&&!jf(n)||null!=e&&!jf(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,R.hu)(r.getIndex()instanceof zc||r.getIndex()===Fl,"unknown index type."),null!=n&&"object"==typeof n||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function eh(r){if(r.hasStart()&&r.hasEnd()&&r.hasLimit()&&!r.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class ki extends kr{constructor(n,e){super(n,e,new _f,!1)}get parent(){const n=Rl(this._path);return null===n?null:new ki(this._repo,n)}get root(){let n=this;for(;null!==n.parent;)n=n.parent;return n}}class Oa{constructor(n,e,o){this._node=n,this.ref=e,this._index=o}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const e=new Nt(n),o=Cr(this.ref,n);return new Oa(this._node.getChild(e),o,ye)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(o,u)=>n(new Oa(u,Cr(this.ref,o),ye)))}hasChild(n){const e=new Nt(n);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ng(r,n){return(r=(0,R.m9)(r))._checkNotDeleted("ref"),void 0!==n?Cr(r._root,n):r._root}function N_(r,n){(r=(0,R.m9)(r))._checkNotDeleted("refFromURL");const e=Jp(n,r._repo.repoInfo_.nodeAdmin);_E("refFromURL",e);const o=e.repoInfo;return!r._repo.repoInfo_.isCustomHost()&&o.host!==r._repo.repoInfo_.host&&Y("refFromURL: Host name does not match the current database: (found "+o.host+" but expected "+r._repo.repoInfo_.host+")"),ng(r,e.path.toString())}function Cr(r,n){return null===mt((r=(0,R.m9)(r))._path)?(e=n,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),$f("child","path",e,!1)):$f("child","path",n,!1),new ki(r._repo,$t(r._path,n));var e}function O_(r,n){r=(0,R.m9)(r),us("set",r._path),zs("set",n,r._path,!1);const e=new R.BH;return Zf(r._repo,r._path,n,null,e.wrapCallback(()=>{})),e.promise}function SE(r,n){$p("update",n,r._path,!1);const e=new R.BH;return function CE(r,n,e,o){Ra(r,"update",{path:n.toString(),value:e});let u=!0;const p=Ju(r),y={};if(hn(e,(D,A)=>{u=!1,y[D]=Vp($t(n,D),on(A),r.serverSyncTree_,p)}),u)T("update() called with empty data.  Don't do anything."),Ks(0,o,"ok",void 0);else{const D=Kf(r),A=function mD(r,n,e,o){!function Jv(r,n,e,o){(0,R.hu)(o>r.lastWriteId,"Stacking an older merge on top of newer ones"),r.allWrites.push({path:n,children:e,writeId:o,visible:!0}),r.visibleWrites=Vm(r.visibleWrites,n,e),r.lastWriteId=o}(r.pendingWriteTree_,n,e,o);const u=Zt.fromObject(e);return Zl(r,new Ku({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},n,u))}(r.serverSyncTree_,n,y,D);Gp(r.eventQueue_,A),r.server_.merge(n.toString(),e,(P,W)=>{const K="ok"===P;K||de("update at "+n+" failed: "+P);const ne=Gl(r.serverSyncTree_,D,!K),Ce=ne.length>0?tc(r,n):n;xi(r.eventQueue_,Ce,ne),Ks(0,o,P,W)}),hn(e,P=>{const W=xr(r,$t(n,P));tc(r,W)}),xi(r.eventQueue_,n,[])}}(r._repo,r._path,n,e.wrapCallback(()=>{})),e.promise}function ME(r){r=(0,R.m9)(r);const n=new tg(()=>{}),e=new Xl(n);return function IE(r,n,e){const o=function fE(r,n){const e=n._path;let o=null;r.syncPointTree_.foreachOnPath(e,(P,W)=>{const K=yr(P,e);o=o||Ro(W,K)});let u=r.syncPointTree_.get(e);u?o=o||Ro(u,Ft()):(u=new s_,r.syncPointTree_=r.syncPointTree_.set(e,u));const p=null!=o,y=p?new Bl(o,!0,!1):null;return function oE(r){return Ef(r.viewCache_)}(l_(u,n,If(r.pendingWriteTree_,n._path),p?y.getNode():ft.EMPTY_NODE,p))}(r.serverSyncTree_,n);return null!=o?Promise.resolve(o):r.server_.get(n).then(u=>{const p=on(u).withIndex(n._queryParams.getIndex());let y;if(xf(r.serverSyncTree_,n,e,!0),n._queryParams.loadsAllData())y=Rf(r.serverSyncTree_,n._path,p);else{const D=od(r.serverSyncTree_,n);y=zl(r.serverSyncTree_,n._path,p,D)}return xi(r.eventQueue_,n._path,y),Of(r.serverSyncTree_,n,e,null,!0),p},u=>(Ra(r,"get for query "+(0,R.Wl)(n)+" failed: "+u),Promise.reject(new Error(u))))}(r._repo,r,e).then(o=>new Oa(o,new ki(r._repo,r._path),r._queryParams.getIndex()))}class Xl{constructor(n){this.callbackContext=n}respondsTo(n){return"value"===n}createEvent(n,e){const o=e._queryParams.getIndex();return new eg("value",this,new Oa(n.snapshotNode,new ki(e._repo,e._path),o))}getEventRunner(n){return"cancel"===n.getEventType()?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,e){return this.callbackContext.hasCancelCallback?new M_(this,n,e):null}matches(n){return n instanceof Xl&&(!n.callbackContext||!this.callbackContext||n.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class th{constructor(n,e){this.eventType=n,this.callbackContext=e}respondsTo(n){let e="children_added"===n?"child_added":n;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(n,e){return this.callbackContext.hasCancelCallback?new M_(this,n,e):null}createEvent(n,e){(0,R.hu)(null!=n.childName,"Child events should have a childName.");const o=Cr(new ki(e._repo,e._path),n.childName),u=e._queryParams.getIndex();return new eg(n.type,this,new Oa(n.snapshotNode,o,u),n.prevName)}getEventRunner(n){return"cancel"===n.getEventType()?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,n.prevName)}matches(n){return n instanceof th&&this.eventType===n.eventType&&(!this.callbackContext||!n.callbackContext||this.callbackContext.matches(n.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function fd(r,n,e,o,u){let p;if("object"==typeof o&&(p=void 0,u=o),"function"==typeof o&&(p=o),u&&u.onlyOnce){const A=e,P=(W,K)=>{ec(r._repo,r,D),A(W,K)};P.userCallback=e.userCallback,P.context=e.context,e=P}const y=new tg(e,p||void 0),D="value"===n?new Xl(y):new th(n,y);return function Zp(r,n,e){let o;o=".info"===mt(n._path)?xf(r.infoSyncTree_,n,e):xf(r.serverSyncTree_,n,e),yE(r.eventQueue_,n._path,o)}(r._repo,r,D),()=>ec(r._repo,r,D)}function nc(r,n,e,o){return fd(r,"value",n,e,o)}function nh(r,n,e,o){return fd(r,"child_added",n,e,o)}function hd(r,n,e,o){return fd(r,"child_changed",n,e,o)}function PE(r,n,e,o){return fd(r,"child_moved",n,e,o)}function rh(r,n,e,o){return fd(r,"child_removed",n,e,o)}function NE(r,n,e){let o=null;const u=e?new tg(e):null;"value"===n?o=new Xl(u):n&&(o=new th(n,u)),ec(r._repo,r,o)}class Fi{}class rg extends Fi{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){zs("endAt",this._value,n._path,!0);const e=pp(n._queryParams,this._value,this._key);if(eh(e),xo(e),n._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new kr(n._repo,n._path,e,n._orderByCalled)}}class F_ extends Fi{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){zs("endBefore",this._value,n._path,!1);const e=function zv(r,n,e){let o,u;return r.index_===xn?("string"==typeof n&&(n=mf(n)),u=pp(r,n,e)):(o=null==e?ot:mf(e),u=pp(r,n,o)),u.endBeforeSet_=!0,u}(n._queryParams,this._value,this._key);if(eh(e),xo(e),n._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new kr(n._repo,n._path,e,n._orderByCalled)}}class Zs extends Fi{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){zs("startAt",this._value,n._path,!0);const e=hp(n._queryParams,this._value,this._key);if(eh(e),xo(e),n._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new kr(n._repo,n._path,e,n._orderByCalled)}}class sh extends Fi{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){zs("startAfter",this._value,n._path,!1);const e=function xm(r,n,e){let o;if(r.index_===xn)"string"==typeof n&&(n=Rm(n)),o=hp(r,n,e);else{let u;u=null==e?Ze:Rm(e),o=hp(r,n,u)}return o.startAfterSet_=!0,o}(n._queryParams,this._value,this._key);if(eh(e),xo(e),n._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new kr(n._repo,n._path,e,n._orderByCalled)}}class RE extends Fi{constructor(n){super(),this._limit=n}_apply(n){if(n._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new kr(n._repo,n._path,function Wv(r,n){const e=r.copy();return e.limitSet_=!0,e.limit_=n,e.viewFrom_="l",e}(n._queryParams,this._limit),n._orderByCalled)}}class L_ extends Fi{constructor(n){super(),this._limit=n}_apply(n){if(n._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new kr(n._repo,n._path,function Gv(r,n){const e=r.copy();return e.limitSet_=!0,e.limit_=n,e.viewFrom_="r",e}(n._queryParams,this._limit),n._orderByCalled)}}class xE extends Fi{constructor(n){super(),this._path=n}_apply(n){Xf(n,"orderByChild");const e=new Nt(this._path);if(vt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const o=new zc(e),u=er(n._queryParams,o);return xo(u),new kr(n._repo,n._path,u,!0)}}class kE extends Fi{_apply(n){Xf(n,"orderByKey");const e=er(n._queryParams,xn);return xo(e),new kr(n._repo,n._path,e,!0)}}class FE extends Fi{_apply(n){Xf(n,"orderByPriority");const e=er(n._queryParams,ye);return xo(e),new kr(n._repo,n._path,e,!0)}}class LE extends Fi{_apply(n){Xf(n,"orderByValue");const e=er(n._queryParams,Fl);return xo(e),new kr(n._repo,n._path,e,!0)}}class BE extends Fi{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){if(zs("equalTo",this._value,n._path,!1),n._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(n._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new rg(this._value,this._key)._apply(new Zs(this._value,this._key)._apply(n))}}function ui(r,...n){let e=(0,R.m9)(r);for(const o of n)e=o._apply(e);return e}(function Et(r){(0,R.hu)(!Mf,"__referenceConstructor has already been defined"),Mf=r})(ki),function Wl(r){(0,R.hu)(!sd,"__referenceConstructor has already been defined"),sd=r}(ki);const md={};function U_(r,n,e,o,u){let p=o||r.options.databaseURL;void 0===p&&(r.options.projectId||Y("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),T("Using default host for project ",r.options.projectId),p=`${r.options.projectId}-default-rtdb.firebaseio.com`);let A,P,y=Jp(p,u),D=y.repoInfo;typeof process<"u"&&process.env&&(P=process.env.FIREBASE_DATABASE_EMULATOR_HOST),P?(A=!0,p=`http://${P}?ns=${D.namespace}`,y=Jp(p,u),D=y.repoInfo):A=!y.repoInfo.secure;const W=u&&A?new wl(wl.OWNER):new Ac(r.name,r.options,n);_E("Invalid Firebase Database URL",y),vt(y.path)||Y("Database URL must point to the root of a Firebase Database (not including a child path).");const K=function $E(r,n,e,o){let u=md[n.name];u||(u={},md[n.name]=u);let p=u[r.toURLString()];return p&&Y("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),p=new EE(r,false,e,o),u[r.toURLString()]=p,p}(D,r,W,new Am(r.name,e));return new oh(K,r)}class oh{constructor(n,e){this._repoInternal=n,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function D_(r,n,e){if(r.stats_=Rc(r.repoInfo_),r.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)r.server_=new zu(r.repoInfo_,(o,u,p,y)=>{Gf(r,o,u,p,y)},r.authTokenProvider_,r.appCheckProvider_),setTimeout(()=>w_(r,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,R.Wl)(e)}catch(o){throw new Error("Invalid authOverride provided: "+o)}}r.persistentConnection_=new is(r.repoInfo_,n,(o,u,p,y)=>{Gf(r,o,u,p,y)},o=>{w_(r,o)},o=>{!function Na(r,n){hn(n,(e,o)=>{zf(r,e,o)})}(r,o)},r.authTokenProvider_,r.appCheckProvider_,e),r.server_=r.persistentConnection_}r.authTokenProvider_.addTokenChangeListener(o=>{r.server_.refreshAuthToken(o)}),r.appCheckProvider_.addTokenChangeListener(o=>{r.server_.refreshAppCheckToken(o.token)}),r.statsReporter_=function Pi(r,n){const e=r.toString();return xu[e]||(xu[e]=n()),xu[e]}(r.repoInfo_,()=>new qv(r.stats_,r.server_)),r.infoData_=new Ir,r.infoSyncTree_=new Nf({startListening:(o,u,p,y)=>{let D=[];const A=r.infoData_.getNode(o._path);return A.isEmpty()||(D=Rf(r.infoSyncTree_,o._path,A),setTimeout(()=>{y("ok")},0)),D},stopListening:()=>{}}),zf(r,"connected",!1),r.serverSyncTree_=new Nf({startListening:(o,u,p,y)=>(r.server_.listen(o,p,u,(D,A)=>{const P=y(D,A);xi(r.eventQueue_,o._path,P)}),[]),stopListening:(o,u)=>{r.server_.unlisten(o,u)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ki(this._repo,Ft())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function HE(r,n){const e=md[n];(!e||e[r.key]!==r)&&Y(`Database ${n}(${r.repoInfo_}) has already been deleted.`),qp(r),delete e[r.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){null===this._rootInternal&&Y("Cannot call "+n+" on a deleted database.")}}function xa(){rp.IS_TRANSPORT_INITIALIZED&&de("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function AD(){xa(),Po.forceDisallow()}function _d(){xa(),Sl.forceDisallow(),Po.forceAllow()}function qs(r,n){C(r,n)}const Dr={".sv":"timestamp"};class Li{constructor(n,e){this.committed=n,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}is.prototype.simpleListen=function(r,n){this.sendRequest("q",{p:r},n)},is.prototype.echo=function(r,n){this.sendRequest("echo",{d:r},n)},function yd(r){ma(Co.SDK_VERSION),(0,Co._registerComponent)(new cr.wA("database",(n,{instanceIdentifier:e})=>U_(n.getProvider("app").getImmediate(),n.getProvider("auth-internal"),n.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Co.registerVersion)(Do,ri,r),(0,Co.registerVersion)(Do,ri,"esm2017")}();const sc=new Os.Yd("@firebase/database-compat"),tu=function(r){sc.warn("FIREBASE WARNING: "+r)};class lc{constructor(n){this._delegate=n}cancel(n){(0,R.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,R.Wj)("OnDisconnect.cancel","onComplete",n,!0);const e=this._delegate.cancel();return n&&e.then(()=>n(null),o=>n(o)),e}remove(n){(0,R.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,R.Wj)("OnDisconnect.remove","onComplete",n,!0);const e=this._delegate.remove();return n&&e.then(()=>n(null),o=>n(o)),e}set(n,e){(0,R.Dv)("OnDisconnect.set",1,2,arguments.length),(0,R.Wj)("OnDisconnect.set","onComplete",e,!0);const o=this._delegate.set(n);return e&&o.then(()=>e(null),u=>e(u)),o}setWithPriority(n,e,o){(0,R.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,R.Wj)("OnDisconnect.setWithPriority","onComplete",o,!0);const u=this._delegate.setWithPriority(n,e);return o&&u.then(()=>o(null),p=>o(p)),u}update(n,e){if((0,R.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(n)){const u={};for(let p=0;p<n.length;++p)u[""+p]=n[p];n=u,tu("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,R.Wj)("OnDisconnect.update","onComplete",e,!0);const o=this._delegate.update(n);return e&&o.then(()=>e(null),u=>e(u)),o}}class H_{constructor(n,e){this.committed=n,this.snapshot=e}toJSON(){return(0,R.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class ko{constructor(n,e){this._database=n,this._delegate=e}val(){return(0,R.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,R.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,R.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,R.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(n){return(0,R.Dv)("DataSnapshot.child",0,1,arguments.length),n=String(n),$f("DataSnapshot.child","path",n,!1),new ko(this._database,this._delegate.child(n))}hasChild(n){return(0,R.Dv)("DataSnapshot.hasChild",1,1,arguments.length),$f("DataSnapshot.hasChild","path",n,!1),this._delegate.hasChild(n)}getPriority(){return(0,R.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(n){return(0,R.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,R.Wj)("DataSnapshot.forEach","action",n,!1),this._delegate.forEach(e=>n(new ko(this._database,e)))}hasChildren(){return(0,R.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,R.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,R.Dv)("DataSnapshot.ref",0,0,arguments.length),new Gr(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class tr{constructor(n,e){this.database=n,this._delegate=e}on(n,e,o,u){var p;(0,R.Dv)("Query.on",2,4,arguments.length),(0,R.Wj)("Query.on","callback",e,!1);const y=tr.getCancelAndContextArgs_("Query.on",o,u),D=(P,W)=>{e.call(y.context,new ko(this.database,P),W)};D.userCallback=e,D.context=y.context;const A=null===(p=y.cancel)||void 0===p?void 0:p.bind(y.context);switch(n){case"value":return nc(this._delegate,D,A),e;case"child_added":return nh(this._delegate,D,A),e;case"child_removed":return rh(this._delegate,D,A),e;case"child_changed":return hd(this._delegate,D,A),e;case"child_moved":return PE(this._delegate,D,A),e;default:throw new Error((0,R.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(n,e,o){if((0,R.Dv)("Query.off",0,3,arguments.length),function(r,n,e){if(void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,R.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,n),(0,R.Wj)("Query.off","callback",e,!0),(0,R.lb)("Query.off","context",o,!0),e){const u=()=>{};u.userCallback=e,u.context=o,NE(this._delegate,n,u)}else NE(this._delegate,n)}get(){return ME(this._delegate).then(n=>new ko(this.database,n))}once(n,e,o,u){(0,R.Dv)("Query.once",1,4,arguments.length),(0,R.Wj)("Query.once","callback",e,!0);const p=tr.getCancelAndContextArgs_("Query.once",o,u),y=new R.BH,D=(P,W)=>{const K=new ko(this.database,P);e&&e.call(p.context,K,W),y.resolve(K)};D.userCallback=e,D.context=p.context;const A=P=>{p.cancel&&p.cancel.call(p.context,P),y.reject(P)};switch(n){case"value":nc(this._delegate,D,A,{onlyOnce:!0});break;case"child_added":nh(this._delegate,D,A,{onlyOnce:!0});break;case"child_removed":rh(this._delegate,D,A,{onlyOnce:!0});break;case"child_changed":hd(this._delegate,D,A,{onlyOnce:!0});break;case"child_moved":PE(this._delegate,D,A,{onlyOnce:!0});break;default:throw new Error((0,R.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return y.promise}limitToFirst(n){return(0,R.Dv)("Query.limitToFirst",1,1,arguments.length),new tr(this.database,ui(this._delegate,function sg(r){if("number"!=typeof r||Math.floor(r)!==r||r<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new RE(r)}(n)))}limitToLast(n){return(0,R.Dv)("Query.limitToLast",1,1,arguments.length),new tr(this.database,ui(this._delegate,function OE(r){if("number"!=typeof r||Math.floor(r)!==r||r<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new L_(r)}(n)))}orderByChild(n){return(0,R.Dv)("Query.orderByChild",1,1,arguments.length),new tr(this.database,ui(this._delegate,function gd(r){if("$key"===r)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===r)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===r)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return $f("orderByChild","path",r,!1),new xE(r)}(n)))}orderByKey(){return(0,R.Dv)("Query.orderByKey",0,0,arguments.length),new tr(this.database,ui(this._delegate,function bD(){return new kE}()))}orderByPriority(){return(0,R.Dv)("Query.orderByPriority",0,0,arguments.length),new tr(this.database,ui(this._delegate,function TD(){return new FE}()))}orderByValue(){return(0,R.Dv)("Query.orderByValue",0,0,arguments.length),new tr(this.database,ui(this._delegate,function VE(){return new LE}()))}startAt(n=null,e){return(0,R.Dv)("Query.startAt",0,2,arguments.length),new tr(this.database,ui(this._delegate,function ih(r=null,n){return Ql("startAt","key",n,!0),new Zs(r,n)}(n,e)))}startAfter(n=null,e){return(0,R.Dv)("Query.startAfter",0,2,arguments.length),new tr(this.database,ui(this._delegate,function pd(r,n){return Ql("startAfter","key",n,!0),new sh(r,n)}(n,e)))}endAt(n=null,e){return(0,R.Dv)("Query.endAt",0,2,arguments.length),new tr(this.database,ui(this._delegate,function k_(r,n){return Ql("endAt","key",n,!0),new rg(r,n)}(n,e)))}endBefore(n=null,e){return(0,R.Dv)("Query.endBefore",0,2,arguments.length),new tr(this.database,ui(this._delegate,function ig(r,n){return Ql("endBefore","key",n,!0),new F_(r,n)}(n,e)))}equalTo(n,e){return(0,R.Dv)("Query.equalTo",1,2,arguments.length),new tr(this.database,ui(this._delegate,function V_(r,n){return Ql("equalTo","key",n,!0),new BE(r,n)}(n,e)))}toString(){return(0,R.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,R.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(n){if((0,R.Dv)("Query.isEqual",1,1,arguments.length),!(n instanceof tr))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(n._delegate)}static getCancelAndContextArgs_(n,e,o){const u={cancel:void 0,context:void 0};if(e&&o)u.cancel=e,(0,R.Wj)(n,"cancel",u.cancel,!0),u.context=o,(0,R.lb)(n,"context",u.context,!0);else if(e)if("object"==typeof e&&null!==e)u.context=e;else{if("function"!=typeof e)throw new Error((0,R.gK)(n,"cancelOrContext")+" must either be a cancel callback or a context object.");u.cancel=e}return u}get ref(){return new Gr(this.database,new ki(this._delegate._repo,this._delegate._path))}}class Gr extends tr{constructor(n,e){super(n,new kr(e._repo,e._path,new _f,!1)),this.database=n,this._delegate=e}getKey(){return(0,R.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(n){return(0,R.Dv)("Reference.child",1,1,arguments.length),"number"==typeof n&&(n=String(n)),new Gr(this.database,Cr(this._delegate,n))}getParent(){(0,R.Dv)("Reference.parent",0,0,arguments.length);const n=this._delegate.parent;return n?new Gr(this.database,n):null}getRoot(){return(0,R.Dv)("Reference.root",0,0,arguments.length),new Gr(this.database,this._delegate.root)}set(n,e){(0,R.Dv)("Reference.set",1,2,arguments.length),(0,R.Wj)("Reference.set","onComplete",e,!0);const o=O_(this._delegate,n);return e&&o.then(()=>e(null),u=>e(u)),o}update(n,e){if((0,R.Dv)("Reference.update",1,2,arguments.length),Array.isArray(n)){const u={};for(let p=0;p<n.length;++p)u[""+p]=n[p];n=u,tu("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}us("Reference.update",this._delegate._path),(0,R.Wj)("Reference.update","onComplete",e,!0);const o=SE(this._delegate,n);return e&&o.then(()=>e(null),u=>e(u)),o}setWithPriority(n,e,o){(0,R.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,R.Wj)("Reference.setWithPriority","onComplete",o,!0);const u=function AE(r,n,e){if(us("setWithPriority",r._path),zs("setWithPriority",n,r._path,!1),Wp("setWithPriority",e,!1),".length"===r.key||".keys"===r.key)throw"setWithPriority failed: "+r.key+" is a read-only object.";const o=new R.BH;return Zf(r._repo,r._path,n,e,o.wrapCallback(()=>{})),o.promise}(this._delegate,n,e);return o&&u.then(()=>o(null),p=>o(p)),u}remove(n){(0,R.Dv)("Reference.remove",0,1,arguments.length),(0,R.Wj)("Reference.remove","onComplete",n,!0);const e=function TE(r){return us("remove",r._path),O_(r,null)}(this._delegate);return n&&e.then(()=>n(null),o=>n(o)),e}transaction(n,e,o){(0,R.Dv)("Reference.transaction",1,3,arguments.length),(0,R.Wj)("Reference.transaction","transactionUpdate",n,!1),(0,R.Wj)("Reference.transaction","onComplete",e,!0),function(r,n,e,o){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,R.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,o);const u=function ag(r,n,e){var o;if(r=(0,R.m9)(r),us("Reference.transaction",r._path),".length"===r.key||".keys"===r.key)throw"Reference.transaction failed: "+r.key+" is a read-only object.";const u=null===(o=e?.applyLocally)||void 0===o||o,p=new R.BH,D=nc(r,()=>{});return function T_(r,n,e,o,u,p){Ra(r,"transaction on "+n);const y={path:n,update:e,onComplete:o,status:null,order:wo(),applyLocally:p,retryCount:0,unwatcher:u,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},D=dd(r,n,void 0);y.currentInputSnapshot=D;const A=y.update(D.val());if(void 0===A)y.unwatcher(),y.currentOutputSnapshotRaw=null,y.currentOutputSnapshotResolved=null,y.onComplete&&y.onComplete(null,!1,y.currentInputSnapshot);else{Hf("transaction failed: Data returned ",A,y.path),y.status=0;const P=Qu(r.transactionQueueTree_,n),W=Pa(P)||[];let K;W.push(y),ld(P,W),"object"==typeof A&&null!==A&&(0,R.r3)(A,".priority")?(K=(0,R.DV)(A,".priority"),(0,R.hu)(jf(K),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):K=(Kl(r.serverSyncTree_,n)||ft.EMPTY_NODE).getPriority().val();const ne=Ju(r),Ce=on(A,K),Ue=Bp(Ce,D,ne);y.currentOutputSnapshotRaw=Ce,y.currentOutputSnapshotResolved=Ue,y.currentWriteId=Kf(r);const pt=xp(r.serverSyncTree_,n,Ue,y.currentWriteId,y.applyLocally);xi(r.eventQueue_,n,pt),Yf(r,r.transactionQueueTree_)}}(r._repo,r._path,n,(A,P,W)=>{let K=null;A?p.reject(A):(K=new Oa(W,new ki(r._repo,r._path),ye),p.resolve(new Li(P,K)))},D,u),p.promise}(this._delegate,n,{applyLocally:o}).then(p=>new H_(p.committed,new ko(this.database,p.snapshot)));return e&&u.then(p=>e(null,p.committed,p.snapshot),p=>e(p,!1,null)),u}setPriority(n,e){(0,R.Dv)("Reference.setPriority",1,2,arguments.length),(0,R.Wj)("Reference.setPriority","onComplete",e,!0);const o=function x_(r,n){r=(0,R.m9)(r),us("setPriority",r._path),Wp("setPriority",n,!1);const e=new R.BH;return Zf(r._repo,$t(r._path,".priority"),n,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,n);return e&&o.then(()=>e(null),u=>e(u)),o}push(n,e){(0,R.Dv)("Reference.push",0,2,arguments.length),(0,R.Wj)("Reference.push","onComplete",e,!0);const o=function bE(r,n){r=(0,R.m9)(r),us("push",r._path),zs("push",n,r._path,!0);const e=Wf(r._repo),o=cp(e),u=Cr(r,o),p=Cr(r,o);let y;return y=null!=n?O_(p,n).then(()=>p):Promise.resolve(p),u.then=y.then.bind(y),u.catch=y.then.bind(y,void 0),u}(this._delegate,n),u=o.then(y=>new Gr(this.database,y));e&&u.then(()=>e(null),y=>e(y));const p=new Gr(this.database,o);return p.then=u.then.bind(u),p.catch=u.catch.bind(u,void 0),p}onDisconnect(){return us("Reference.onDisconnect",this._delegate._path),new lc(new P_(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class uc{constructor(n,e){this._delegate=n,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:AD,forceLongPolling:_d}}useEmulator(n,e,o={}){!function j_(r,n,e,o={}){(r=(0,R.m9)(r))._checkNotDeleted("useEmulator"),r._instanceStarted&&Y("Cannot call useEmulator() after instance has already been initialized.");const u=r._repoInternal;let p;if(u.repoInfo_.nodeAdmin)o.mockUserToken&&Y('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),p=new wl(wl.OWNER);else if(o.mockUserToken){const y="string"==typeof o.mockUserToken?o.mockUserToken:(0,R.Sg)(o.mockUserToken,r.app.options.projectId);p=new wl(y)}!function jE(r,n,e,o){r.repoInfo_=new Ru(`${n}:${e}`,!1,r.repoInfo_.namespace,r.repoInfo_.webSocketOnly,r.repoInfo_.nodeAdmin,r.repoInfo_.persistenceKey,r.repoInfo_.includeNamespaceInQueryParams),o&&(r.authTokenProvider_=o)}(u,n,e,p)}(this._delegate,n,e,o)}ref(n){if((0,R.Dv)("database.ref",0,1,arguments.length),n instanceof Gr){const e=N_(this._delegate,n.toString());return new Gr(this,e)}{const e=ng(this._delegate,n);return new Gr(this,e)}}refFromURL(n){(0,R.Dv)("database.refFromURL",1,1,arguments.length);const o=N_(this._delegate,n);return new Gr(this,o)}goOffline(){return(0,R.Dv)("database.goOffline",0,0,arguments.length),function og(r){(r=(0,R.m9)(r))._checkNotDeleted("goOffline"),qp(r._repo)}(this._delegate)}goOnline(){return(0,R.Dv)("database.goOnline",0,0,arguments.length),function GE(r){(r=(0,R.m9)(r))._checkNotDeleted("goOnline"),function b_(r){r.persistentConnection_&&r.persistentConnection_.resume(Oo)}(r._repo)}(this._delegate)}}uc.ServerValue={TIMESTAMP:function eu(){return Dr}(),increment:r=>function ah(r){return{".sv":{increment:r}}}(r)};var W_=Object.freeze({__proto__:null,initStandalone:function $_({app:r,url:n,version:e,customAuthImpl:o,namespace:u,nodeAdmin:p=!1}){ma(e);const y=new cr.zt("auth-internal",new cr.H0("database-standalone"));return y.setComponent(new cr.wA("auth-internal",()=>o,"PRIVATE")),{instance:new uc(U_(r,y,void 0,n,p),r),namespace:u}}});const G_=uc.ServerValue;!function z_(r){r.INTERNAL.registerComponent(new cr.wA("database-compat",(n,{instanceIdentifier:e})=>{const o=n.getProvider("app-compat").getImmediate(),u=n.getProvider("database").getImmediate({identifier:e});return new uc(u,o)},"PUBLIC").setServiceProps({Reference:Gr,Query:tr,Database:uc,DataSnapshot:ko,enableLogging:qs,INTERNAL:W_,ServerValue:G_}).setMultipleInstances(!0)),r.registerVersion("@firebase/database-compat","0.2.10")}(Il.Z);var lh=k(5363),zE=k(6063);class K_ extends vo.x{constructor(n=1/0,e=1/0,o=zE.l){super(),this._bufferSize=n,this._windowTime=e,this._timestampProvider=o,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,e)}next(n){const{isStopped:e,_buffer:o,_infiniteTimeWindow:u,_timestampProvider:p,_windowTime:y}=this;e||(o.push(n),!u&&o.push(p.now()+y)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(n),{_infiniteTimeWindow:o,_buffer:u}=this,p=u.slice();for(let y=0;y<p.length&&!n.closed;y+=o?1:2)n.next(p[y]);return this._checkFinalizedStatuses(n),e}_trimBuffer(){const{_bufferSize:n,_timestampProvider:e,_buffer:o,_infiniteTimeWindow:u}=this,p=(u?1:2)*n;if(n<1/0&&p<o.length&&o.splice(0,o.length-p),!u){const y=e.now();let D=0;for(let A=1;A<o.length&&o[A]<=y;A+=2)D=A;D&&o.splice(0,D+1)}}}function Z_(r,n,e){let o,u=!1;return r&&"object"==typeof r?({bufferSize:o=1/0,windowTime:n=1/0,refCount:u=!1,scheduler:e}=r):o=r??1/0,(0,Eo.B)({connector:()=>new K_(o,n,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:u})}const uh=(0,k(3888).d)(r=>function(){r(this),this.name="EmptyError",this.message="no elements in sequence"});function ch(r,n){return(0,Rr.e)((e,o)=>{let u=0;e.subscribe((0,jn.x)(o,p=>r.call(n,p,u++)&&o.next(p)))})}var ZE=k(515);function dh(r){return r<=0?()=>ZE.E:(0,Rr.e)((n,e)=>{let o=0;n.subscribe((0,jn.x)(e,u=>{++o<=r&&(e.next(u),r<=o&&e.complete())}))})}function fh(r){return(0,Rr.e)((n,e)=>{let o=!1;n.subscribe((0,jn.x)(e,u=>{o=!0,e.next(u)},()=>{o||e.next(r),e.complete()}))})}function lg(r=qE){return(0,Rr.e)((n,e)=>{let o=!1;n.subscribe((0,jn.x)(e,u=>{o=!0,e.next(u)},()=>o?e.complete():e.error(r())))})}function qE(){return new uh}var cg=k(576);function dg(r,n){return(0,cg.m)(n)?Qn(()=>r,n):Qn(()=>r)}var fg=k(9468);k(5867);const pg=new Map,ty={activated:!1,tokenObservers:[]},ny={initialized:!1,enabled:!1};function $n(r){return pg.get(r)||ty}function ci(r,n){pg.set(r,n)}function gg(){return ny}class iI{constructor(n,e,o,u,p){if(this.operation=n,this.retryPolicy=e,this.getWaitDuration=o,this.lowerBound=u,this.upperBound=p,this.pending=null,this.nextErrorWaitInterval=u,u>p)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(n){var e=this;return(0,Or.Z)(function*(){e.stop();try{e.pending=new R.BH,yield function sI(r){return new Promise(n=>{setTimeout(n,r)})}(e.getNextRun(n)),e.pending.resolve(),yield e.pending.promise,e.pending=new R.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(o){e.retryPolicy(o)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(n){if(n)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Fr=new R.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function _g(r){if(!$n(r).activated)throw Fr.create("use-before-activation",{appName:r.name})}function yg(r,n){return gh.apply(this,arguments)}function gh(){return(gh=(0,Or.Z)(function*({url:r,body:n},e){var o,u;const p={"Content-Type":"application/json"},y=e.getImmediate({optional:!0});if(y){const Ce=yield y.getHeartbeatsHeader();Ce&&(p["X-Firebase-Client"]=Ce)}const D={method:"POST",body:JSON.stringify(n),headers:p};let A,P;try{A=yield fetch(r,D)}catch(Ce){throw Fr.create("fetch-network-error",{originalErrorMessage:null===(o=Ce)||void 0===o?void 0:o.message})}if(200!==A.status)throw Fr.create("fetch-status-error",{httpStatus:A.status});try{P=yield A.json()}catch(Ce){throw Fr.create("fetch-parse-error",{originalErrorMessage:null===(u=Ce)||void 0===u?void 0:u.message})}const W=P.ttl.match(/^([\d.]+)(s)$/);if(!W||!W[2]||isNaN(Number(W[1])))throw Fr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${P.ttl}`});const K=1e3*Number(W[1]),ne=Date.now();return{token:P.token,expireTimeMillis:ne+K,issuedAtTimeMillis:ne}})).apply(this,arguments)}function RD(r,n){const{projectId:e,appId:o,apiKey:u}=r.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${o}:exchangeDebugToken?key=${u}`,body:{debug_token:n}}}const Lr="firebase-app-check-store";let Dd=null;function cs(){return Dd||(Dd=new Promise((r,n)=>{var e;try{const o=indexedDB.open("firebase-app-check-database",1);o.onsuccess=u=>{r(u.target.result)},o.onerror=u=>{var p;n(Fr.create("storage-open",{originalErrorMessage:null===(p=u.target.error)||void 0===p?void 0:p.message}))},o.onupgradeneeded=u=>{0===u.oldVersion&&u.target.result.createObjectStore(Lr,{keyPath:"compositeKey"})}}catch(o){n(Fr.create("storage-open",{originalErrorMessage:null===(e=o)||void 0===e?void 0:e.message}))}}),Dd)}function Ig(){return(Ig=(0,Or.Z)(function*(r,n){const o=(yield cs()).transaction(Lr,"readwrite"),p=o.objectStore(Lr).put({compositeKey:r,value:n});return new Promise((y,D)=>{p.onsuccess=A=>{y()},o.onerror=A=>{var P;D(Fr.create("storage-set",{originalErrorMessage:null===(P=A.target.error)||void 0===P?void 0:P.message}))}})})).apply(this,arguments)}const Fo=new Os.Yd("@firebase/app-check");function Dg(r,n){return(0,R.hl)()?function fs(r,n){return function cy(r,n){return Ig.apply(this,arguments)}(function mh(r){return`${r.options.appId}-${r.name}`}(r),n)}(r,n).catch(e=>{Fo.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function wd(){return gg().enabled}function hy(){return vh.apply(this,arguments)}function vh(){return(vh=(0,Or.Z)(function*(){const r=gg();if(r.enabled&&r.token)return r.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const wg={error:"UNKNOWN_ERROR"};function Eh(r){return R.US.encodeString(JSON.stringify(r),!1)}function bd(r){return Ih.apply(this,arguments)}function Ih(){return(Ih=(0,Or.Z)(function*(r,n=!1){const e=r.app;_g(e);const o=$n(e);let p,u=o.token;if(u&&!nu(u)&&(ci(e,Object.assign(Object.assign({},o),{token:void 0})),u=void 0),!u){const A=yield o.cachedTokenPromise;A&&(nu(A)?u=A:yield Dg(e,void 0))}if(!n&&u&&nu(u))return{token:u.token};let D,y=!1;if(wd()){o.exchangeTokenPromise||(o.exchangeTokenPromise=yg(RD(e,yield hy()),r.heartbeatServiceProvider).finally(()=>{o.exchangeTokenPromise=void 0}),y=!0);const A=yield o.exchangeTokenPromise;return yield Dg(e,A),ci(e,Object.assign(Object.assign({},o),{token:A})),{token:A.token}}try{o.exchangeTokenPromise||(o.exchangeTokenPromise=o.provider.getToken().finally(()=>{o.exchangeTokenPromise=void 0}),y=!0),u=yield o.exchangeTokenPromise}catch(A){"appCheck/throttled"===A.code?Fo.warn(A.message):Fo.error(A),p=A}return u?p?D=nu(u)?{token:u.token,internalError:p}:my(p):(D={token:u.token},ci(e,Object.assign(Object.assign({},o),{token:u})),yield Dg(e,u)):D=my(p),y&&Tg(e,D),D})).apply(this,arguments)}function Dh(r,n){const e=$n(r),o=e.tokenObservers.filter(u=>u.next!==n);0===o.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),ci(r,Object.assign(Object.assign({},e),{tokenObservers:o}))}function bg(r){const{app:n}=r,e=$n(n);let o=e.tokenRefresher;o||(o=function gy(r){const{app:n}=r;return new iI((0,Or.Z)(function*(){let o;if(o=$n(n).token?yield bd(r,!0):yield bd(r),o.error)throw o.error;if(o.internalError)throw o.internalError}),()=>!0,()=>{const e=$n(n);if(e.token){let o=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return o=Math.min(o,e.token.expireTimeMillis-3e5),Math.max(0,o-Date.now())}return 0},3e4,96e4)}(r),ci(n,Object.assign(Object.assign({},e),{tokenRefresher:o}))),!o.isRunning()&&e.isTokenAutoRefreshEnabled&&o.start()}function Tg(r,n){const e=$n(r).tokenObservers;for(const o of e)try{"EXTERNAL"===o.type&&null!=n.error?o.error(n.error):o.next(n)}catch{}}function nu(r){return r.expireTimeMillis-Date.now()>0}function my(r){return{token:Eh(wg),error:r}}class lI{constructor(n,e){this.app=n,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:n}=$n(this.app);for(const e of n)Dh(this.app,e.next);return Promise.resolve()}}const Fa="app-check-internal";!function wI(){(0,Co._registerComponent)(new cr.wA("app-check",r=>function uI(r,n){return new lI(r,n)}(r.getProvider("app").getImmediate(),r.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((r,n,e)=>{r.getProvider(Fa).initialize()})),(0,Co._registerComponent)(new cr.wA(Fa,r=>function cI(r){return{getToken:n=>bd(r,n),addTokenListener:n=>function Ch(r,n,e,o){const{app:u}=r,p=$n(u),y={next:e,error:o,type:n};if(ci(u,Object.assign(Object.assign({},p),{tokenObservers:[...p.tokenObservers,y]})),p.token&&nu(p.token)){const D=p.token;Promise.resolve().then(()=>{e({token:D.token}),bg(r)}).catch(()=>{})}p.cachedTokenPromise.then(()=>bg(r))}(r,"INTERNAL",n),removeTokenListener:n=>Dh(r.app,n)}}(r.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Co.registerVersion)("@firebase/app-check","0.5.16")}();class Dy{constructor(){return(0,Hn.vb)("app-check")}}typeof window<"u"&&window,k(127);const Sy=new h.OlP("angularfire2.auth.use-emulator"),xg=new h.OlP("angularfire2.auth.settings"),kg=new h.OlP("angularfire2.auth.tenant-id"),Fg=new h.OlP("angularfire2.auth.langugage-code"),Lg=new h.OlP("angularfire2.auth.use-device-language"),My=new h.OlP("angularfire.auth.persistence"),Py=(r,n,e,o,u,p,y,D)=>(0,ur.cc)(`${r.name}.auth`,"AngularFireAuth",r.name,()=>{const A=n.runOutsideAngular(()=>r.auth());if(e&&A.useEmulator(...e),o&&(A.tenantId=o),A.languageCode=u,p&&A.useDeviceLanguage(),y)for(const[P,W]of Object.entries(y))A.settings[P]=W;return D&&A.setPersistence(D),A},[e,o,u,p,y,D]);let Ny=(()=>{class r{constructor(e,o,u,p,y,D,A,P,W,K,ne,Ce){const Ue=new vo.x,pt=Ns(void 0).pipe((0,lh.Q)(y.outsideAngular),Qn(()=>p.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,1277)))),(0,Dn.U)(()=>(0,ur.on)(e,p,o)),(0,Dn.U)(xt=>Py(xt,p,D,P,W,K,A,ne)),Z_({bufferSize:1,refCount:!1}));if(function Bn(r){return"server"===r}(u))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Ns(null);else{pt.pipe(function ug(r,n){const e=arguments.length>=2;return o=>o.pipe(r?ch((u,p)=>r(u,p,o)):Io.y,dh(1),e?fh(n):lg(()=>new uh))}()).subscribe();const mn=pt.pipe(Qn(_n=>_n.getRedirectResult().then(di=>di,()=>null)),Hn.iC,Z_({bufferSize:1,refCount:!1})),bn=pt.pipe(Qn(_n=>new ts.y(di=>({unsubscribe:p.runOutsideAngular(()=>_n.onAuthStateChanged(au=>di.next(au),au=>di.error(au),()=>di.complete()))})))),br=pt.pipe(Qn(_n=>new ts.y(di=>({unsubscribe:p.runOutsideAngular(()=>_n.onIdTokenChanged(au=>di.next(au),au=>di.error(au),()=>di.complete()))}))));this.authState=mn.pipe(dg(bn),(0,fg.R)(y.outsideAngular),(0,lh.Q)(y.insideAngular)),this.user=mn.pipe(dg(br),(0,fg.R)(y.outsideAngular),(0,lh.Q)(y.insideAngular)),this.idToken=this.user.pipe(Qn(_n=>_n?(0,Yn.D)(_n.getIdToken()):Ns(null))),this.idTokenResult=this.user.pipe(Qn(_n=>_n?(0,Yn.D)(_n.getIdTokenResult()):Ns(null))),this.credential=(0,Ai.T)(mn,Ue,this.authState.pipe(ch(_n=>!_n))).pipe((0,Dn.U)(_n=>_n?.user?_n:null),(0,fg.R)(y.outsideAngular),(0,lh.Q)(y.insideAngular))}return(0,ur.pX)(this,pt,p,{spy:{apply:(xt,mn,bn)=>{(xt.startsWith("signIn")||xt.startsWith("createUser"))&&bn.then(br=>Ue.next(br))}}})}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(ur.Dh),h.LFG(ur.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Hn.HU),h.LFG(Sy,8),h.LFG(xg,8),h.LFG(kg,8),h.LFG(Fg,8),h.LFG(Lg,8),h.LFG(My,8),h.LFG(Dy,8))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})();function Ry(r){return null==r}function Td(r){return"function"==typeof r.set}function Vg(r,n){return Td(n)?n:r.ref(n)}function Bg(r,n){if(function SI(r){return"string"==typeof r}(r))return n.stringCase();if(Td(r))return n.firebaseCase();if(function MI(r){return"function"==typeof r.exportVal}(r))return n.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof r)}function dc(r,n,e="on",o=Tc.z){return new ts.y(u=>{let p=null;return p=r[e](n,(y,D)=>{o.schedule(()=>{u.next({snapshot:y,prevKey:D})}),"once"===e&&o.schedule(()=>u.complete())},y=>{o.schedule(()=>u.error(y))}),"on"===e?{unsubscribe(){null!=p&&r.off(n,p)}}:{unsubscribe(){}}}).pipe((0,Dn.U)(u=>{const{snapshot:p,prevKey:y}=u;let D=null;return p.exists()&&(D=p.key),{type:n,payload:p,prevKey:y,key:D}}),(0,Eo.B)())}function fc(r,n){const e=r.length;for(let o=0;o<e;o++)if(r[o].payload.key===n)return o;return-1}function NI(r,n){const{payload:e,prevKey:o,key:u}=n,p=fc(r,u),y=function Ad(r,n){if(Ry(n))return 0;{const e=fc(r,n);return-1===e?r.length:e+1}}(r,o);switch(n.type){case"value":if(n.payload&&n.payload.exists()){let D=null;n.payload.forEach(A=>{const P={payload:A,type:"value",prevKey:D,key:A.key};return D=A.key,r=[...r,P],!1})}return r;case"child_added":if(p>-1){const D=r[p-1];(D&&D.key||null)!==o&&(r=r.filter(A=>A.payload.key!==e.key)).splice(y,0,n)}else{if(null==o)return[n,...r];(r=r.slice()).splice(y,0,n)}return r;case"child_removed":return r.filter(D=>D.payload.key!==e.key);case"child_changed":return r.map(D=>D.payload.key===u?n:D);case"child_moved":if(p>-1){const D=r.splice(p,1)[0];return(r=r.slice()).splice(y,0,D),r}return r;default:return r}}function Oy(r){return(Ry(r)||0===r.length)&&(r=["child_added","child_removed","child_changed","child_moved"]),r}function xy(r,n,e){return function PI(r,n,e){return dc(r,"value","once",e).pipe(Qn(o=>{const u=[Ns(o)];return n.forEach(p=>u.push(dc(r,p,"on",e))),(0,Ai.T)(...u).pipe(Jn(NI,[]))}),function Rs(r,n=Io.y){return r=r??Su,(0,Rr.e)((e,o)=>{let u,p=!0;e.subscribe((0,jn.x)(o,y=>{const D=n(y);(p||!r(u,D))&&(p=!1,u=D,o.next(y))}))})}())}(r,n=Oy(n),e)}function Ug(r,n,e){const o=(n=Oy(n)).map(u=>dc(r,u,"on",e));return(0,Ai.T)(...o)}function jg(r,n){return function(o,u){return Bg(o,{stringCase:()=>r.child(o)[n](u),firebaseCase:()=>o[n](u),snapshotCase:()=>o.ref[n](u)})}}function OI(r){return function(e){return e?Bg(e,{stringCase:()=>r.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):r.remove()}}function kI(r,n){return function(){return dc(r,"value","on",n)}}const LD=new h.OlP("angularfire2.realtimeDatabaseURL"),VD=new h.OlP("angularfire2.database.use-emulator");let Ly=(()=>{class r{constructor(e,o,u,p,y,D,A,P,W,K,ne,Ce,Ue,pt,xt){this.schedulers=D;const mn=A,bn=(0,ur.on)(e,y,o);P&&Py(bn,y,W,ne,Ce,Ue,K,pt),this.database=(0,ur.cc)(`${bn.name}.database.${u}`,"AngularFireDatabase",bn.name,()=>{const br=y.runOutsideAngular(()=>bn.database(u||void 0));return mn&&br.useEmulator(...mn),br},[mn])}list(e,o){const u=this.schedulers.ngZone.runOutsideAngular(()=>Vg(this.database,e));let p=u;return o&&(p=o(u)),function xI(r,n){const e=n.schedulers.outsideAngular,o=n.schedulers.ngZone.run(()=>r.ref);return{query:r,update:jg(o,"update"),set:jg(o,"set"),push:u=>o.push(u),remove:OI(o),snapshotChanges:u=>xy(r,u,e).pipe(Hn.iC),stateChanges:u=>Ug(r,u,e).pipe(Hn.iC),auditTrail:u=>function ky(r,n,e){return function RI(r,n,e){return function Fy(r,n){return dc(r,"value","on",n).pipe((0,Dn.U)(e=>{let o;return e.payload.forEach(u=>(o=u.key,!1)),{data:e,lastKeyToLoad:o}}))}(r,e).pipe(function vl(...r){const n=(0,Un.jO)(r);return(0,Rr.e)((e,o)=>{const u=r.length,p=new Array(u);let y=r.map(()=>!1),D=!1;for(let A=0;A<u;A++)(0,Au.Xf)(r[A]).subscribe((0,jn.x)(o,P=>{p[A]=P,!D&&!y[A]&&(y[A]=!0,(D=y.every(Io.y))&&(y=null))},yl.Z));e.subscribe((0,jn.x)(o,A=>{if(D){const P=[A,...p];o.next(n?n(...P):P)}}))})}(n),(0,Dn.U)(([u,p])=>{const y=u.lastKeyToLoad,D=p.map(A=>A.key);return{actions:p,lastKeyToLoad:y,loadedKeys:D}}),function El(r){return(0,Rr.e)((n,e)=>{let o=!1,u=0;n.subscribe((0,jn.x)(e,p=>(o||(o=!r(p,u++)))&&e.next(p)))})}(u=>-1===u.loadedKeys.indexOf(u.lastKeyToLoad)),(0,Dn.U)(u=>u.actions))}(r,Ug(r,n).pipe(Jn((u,p)=>[...u,p],[])),e)}(r,u,e).pipe(Hn.iC),valueChanges:(u,p)=>xy(r,u,e).pipe((0,Dn.U)(D=>D.map(A=>p&&p.idField?Object.assign(Object.assign({},A.payload.val()),{[p.idField]:A.key}):A.payload.val())),Hn.iC)}}(p,this)}object(e){return function FD(r,n){return{query:r,snapshotChanges:()=>kI(r,n.schedulers.outsideAngular)().pipe(Hn.iC),update:e=>r.ref.update(e),set:e=>r.ref.set(e),remove:()=>r.ref.remove(),valueChanges:()=>kI(r,n.schedulers.outsideAngular)().pipe(Hn.iC,(0,Dn.U)(o=>o.payload.exists()?o.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Vg(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(ur.Dh),h.LFG(ur.xv,8),h.LFG(LD,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Hn.HU),h.LFG(VD,8),h.LFG(Ny,8),h.LFG(Sy,8),h.LFG(xg,8),h.LFG(kg,8),h.LFG(Fg,8),h.LFG(Lg,8),h.LFG(My,8),h.LFG(Dy,8))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),Vy=(()=>{class r{constructor(e){this.db=e,this.connection=new Ps(!1)}getValues(){this.value=this.db.list("FirebaseIOT").valueChanges()}getUpdatedValues(){return this.value}updateConnectionStatus(e){this.connection.next(e)}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(Ly))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),By=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({imports:[Qr]}),r})(),UI=(()=>{class r{containerClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":null!=this.value&&1===String(this.value).length,"p-badge-lg":"large"===this.size,"p-badge-xl":"xlarge"===this.size,"p-badge-info":"info"===this.severity,"p-badge-success":"success"===this.severity,"p-badge-warning":"warning"===this.severity,"p-badge-danger":"danger"===this.severity}}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=h.Xpm({type:r,selectors:[["p-badge"]],hostAttrs:[1,"p-element"],inputs:{styleClass:"styleClass",style:"style",size:"size",severity:"severity",value:"value"},decls:2,vars:5,consts:[[3,"ngClass","ngStyle"]],template:function(e,o){1&e&&(h.TgZ(0,"span",0),h._uU(1),h.qZA()),2&e&&(h.Tol(o.styleClass),h.Q6J("ngClass",o.containerClass())("ngStyle",o.style),h.xp6(1),h.Oqu(o.value))},dependencies:[Ot,Uo],styles:[".p-badge{display:inline-block;border-radius:10px;text-align:center;padding:0 .5rem}.p-overlay-badge{position:relative}.p-overlay-badge .p-badge{position:absolute;top:0;right:0;transform:translate(50%,-50%);transform-origin:100% 0;margin:0}.p-badge-dot{width:.5rem;min-width:.5rem;height:.5rem;border-radius:50%;padding:0}.p-badge-no-gutter{padding:0;border-radius:50%}\n"],encapsulation:2,changeDetection:0}),r})(),Mh=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({imports:[Qr,By]}),r})();function jI(r,n){1&r&&h._UZ(0,"p-badge",6)}function Uy(r,n){1&r&&h._UZ(0,"p-badge",7)}let jy=(()=>{class r{constructor(e){this.dbService=e}ngOnInit(){this.dbService.connection.subscribe(e=>{this.connectionStatus=e})}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(Vy))},r.\u0275cmp=h.Xpm({type:r,selectors:[["app-header"]],decls:11,vars:5,consts:[[1,"industry_info"],[1,"title"],[1,"status","flex","align-items-center"],["severity","danger","styleClass","mr-2",4,"ngIf"],["severity","success","styleClass","mr-2",4,"ngIf"],[1,"font-semibold"],["severity","danger","styleClass","mr-2"],["severity","success","styleClass","mr-2"]],template:function(e,o){1&e&&(h.TgZ(0,"header")(1,"div",0)(2,"div",1)(3,"h4"),h._uU(4,"Sri Kathirvel Sizing Industry"),h.qZA()(),h.TgZ(5,"div",2),h.YNc(6,jI,1,0,"p-badge",3),h.YNc(7,Uy,1,0,"p-badge",4),h.TgZ(8,"p",5),h._uU(9),h.ALo(10,"titlecase"),h.qZA()()()()),2&e&&(h.xp6(6),h.Q6J("ngIf",!o.connectionStatus),h.xp6(1),h.Q6J("ngIf",o.connectionStatus),h.xp6(2),h.hij(" ",h.lcZ(10,3,o.connectionStatus?"connected":"not connected")," "))},dependencies:[fn,UI,_c],styles:["header[_ngcontent-%COMP%]{width:85%;margin:auto}header[_ngcontent-%COMP%]   .industry_info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:5px}header[_ngcontent-%COMP%]   .industry_info[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}"]}),r})(),HI=(()=>{class r{constructor(){this.strokeWidth="2",this.fill="none",this.animationDuration="2s"}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=h.Xpm({type:r,selectors:[["p-progressSpinner"]],hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",strokeWidth:"strokeWidth",fill:"fill",animationDuration:"animationDuration"},decls:3,vars:6,consts:[["role","alert","aria-busy","true",1,"p-progress-spinner",3,"ngStyle","ngClass"],["viewBox","25 25 50 50",1,"p-progress-spinner-svg"],["cx","50","cy","50","r","20","stroke-miterlimit","10",1,"p-progress-spinner-circle"]],template:function(e,o){1&e&&(h.TgZ(0,"div",0),h.O4$(),h.TgZ(1,"svg",1),h._UZ(2,"circle",2),h.qZA()()),2&e&&(h.Q6J("ngStyle",o.style)("ngClass",o.styleClass),h.xp6(1),h.Udp("animation-duration",o.animationDuration),h.xp6(1),h.uIk("fill",o.fill)("stroke-width",o.strokeWidth))},dependencies:[Ot,Uo],styles:['.p-progress-spinner{position:relative;margin:0 auto;width:100px;height:100px;display:inline-block}.p-progress-spinner:before{content:"";display:block;padding-top:100%}.p-progress-spinner-svg{animation:p-progress-spinner-rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.p-progress-spinner-circle{stroke-dasharray:89,200;stroke-dashoffset:0;stroke:#d62d20;animation:p-progress-spinner-dash 1.5s ease-in-out infinite,p-progress-spinner-color 6s ease-in-out infinite;stroke-linecap:round}@keyframes p-progress-spinner-rotate{to{transform:rotate(360deg)}}@keyframes p-progress-spinner-dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35px}to{stroke-dasharray:89,200;stroke-dashoffset:-124px}}@keyframes p-progress-spinner-color{to,0%{stroke:#d62d20}40%{stroke:#0057e7}66%{stroke:#008744}80%,90%{stroke:#ffa700}}\n'],encapsulation:2,changeDetection:0}),r})(),Hy=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({imports:[Qr]}),r})();const{isArray:$I}=Array,{getPrototypeOf:$g,prototype:WI,keys:$y}=Object;const{isArray:KI}=Array;function YI(r,n){return r.reduce((e,o,u)=>(e[o]=n[u],e),{})}let Wy=(()=>{class r{constructor(e,o){this._renderer=e,this._elementRef=o,this.onChange=u=>{},this.onTouched=()=>{}}setProperty(e,o){this._renderer.setProperty(this._elementRef.nativeElement,e,o)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.Qsj),h.Y36(h.SBq))},r.\u0275dir=h.lG2({type:r}),r})(),Va=(()=>{class r extends Wy{}return r.\u0275fac=function(){let n;return function(o){return(n||(n=h.n5z(r)))(o||r)}}(),r.\u0275dir=h.lG2({type:r,features:[h.qOj]}),r})();const Vi=new h.OlP("NgValueAccessor"),zy={provide:Vi,useExisting:(0,h.Gpc)(()=>Wg),multi:!0},eC=new h.OlP("CompositionEventMode");let Wg=(()=>{class r extends Wy{constructor(e,o,u){super(e,o),this._compositionMode=u,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function XI(){const r=O()?O().getUserAgent():"";return/android (\d+)/.test(r.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(eC,8))},r.\u0275dir=h.lG2({type:r,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,o){1&e&&h.NdJ("input",function(p){return o._handleInput(p.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(p){return o._compositionEnd(p.target.value)})},features:[h._Bn([zy]),h.qOj]}),r})();const nr=new h.OlP("NgValidators"),Ba=new h.OlP("NgAsyncValidators");function qg(r){return null!=r}function Qy(r){return(0,h.QGY)(r)?(0,Yn.D)(r):r}function Jy(r){let n={};return r.forEach(e=>{n=null!=e?{...n,...e}:n}),0===Object.keys(n).length?null:n}function Rh(r,n){return n.map(e=>e(r))}function Yg(r){return r.map(n=>function Xy(r){return!r.validate}(n)?n:e=>n.validate(e))}function Oh(r){return null!=r?function Qg(r){if(!r)return null;const n=r.filter(qg);return 0==n.length?null:function(e){return Jy(Rh(e,n))}}(Yg(r)):null}function ev(r){if(!r)return null;const n=r.filter(qg);return 0==n.length?null:function(e){return function QI(...r){const n=(0,Un.jO)(r),{args:e,keys:o}=function GI(r){if(1===r.length){const n=r[0];if($I(n))return{args:n,keys:null};if(function zI(r){return r&&"object"==typeof r&&$g(r)===WI}(n)){const e=$y(n);return{args:e.map(o=>n[o]),keys:e}}}return{args:r,keys:null}}(r),u=new ts.y(p=>{const{length:y}=e;if(!y)return void p.complete();const D=new Array(y);let A=y,P=y;for(let W=0;W<y;W++){let K=!1;(0,Au.Xf)(e[W]).subscribe((0,jn.x)(p,ne=>{K||(K=!0,P--),D[W]=ne},()=>A--,void 0,()=>{(!A||!K)&&(P||p.next(o?YI(o,D):D),p.complete())}))}});return n?u.pipe(function qI(r){return(0,Dn.U)(n=>function ZI(r,n){return KI(n)?r(...n):r(n)}(r,n))}(n)):u}(Rh(e,n).map(Qy)).pipe((0,Dn.U)(Jy))}}function Jg(r){return null!=r?ev(Yg(r)):null}function tv(r,n){return null===r?[n]:Array.isArray(r)?[...r,n]:[r,n]}function rv(r){return r?Array.isArray(r)?r:[r]:[]}function Sd(r,n){return Array.isArray(r)?r.includes(n):r===n}function iv(r,n){const e=rv(n);return rv(r).forEach(u=>{Sd(e,u)||e.push(u)}),e}function sv(r,n){return rv(n).filter(e=>!Sd(r,e))}class rC{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=Oh(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=Jg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,e){return!!this.control&&this.control.hasError(n,e)}getError(n,e){return this.control?this.control.getError(n,e):null}}class zr extends rC{get formDirective(){return null}get path(){return null}}class Ua extends rC{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let av=(()=>{class r extends class ov{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}{constructor(e){super(e)}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(Ua,2))},r.\u0275dir=h.lG2({type:r,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,o){2&e&&h.ekj("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[h.qOj]}),r})();const Md="VALID",Fh="INVALID",Qs="PENDING",Pd="DISABLED";function hs(r){return Array.isArray(r)?Oh(r):r||null}function Lh(r){return Array.isArray(r)?Jg(r):r||null}function ja(r){return null!=r&&!Array.isArray(r)&&"object"==typeof r}function iu(r,n){(function pv(r,n){const e=function nv(r){return r._rawValidators}(r);null!==n.validator?r.setValidators(tv(e,n.validator)):"function"==typeof e&&r.setValidators([e]);const o=function Xg(r){return r._rawAsyncValidators}(r);null!==n.asyncValidator?r.setAsyncValidators(tv(o,n.asyncValidator)):"function"==typeof o&&r.setAsyncValidators([o]);const u=()=>r.updateValueAndValidity();Vh(n._rawValidators,u),Vh(n._rawAsyncValidators,u)})(r,n),n.valueAccessor.writeValue(r.value),r.disabled&&n.valueAccessor.setDisabledState?.(!0),function sm(r,n){n.valueAccessor.registerOnChange(e=>{r._pendingValue=e,r._pendingChange=!0,r._pendingDirty=!0,"change"===r.updateOn&&Bh(r,n)})}(r,n),function om(r,n){const e=(o,u)=>{n.valueAccessor.writeValue(o),u&&n.viewToModelUpdate(o)};r.registerOnChange(e),n._registerOnDestroy(()=>{r._unregisterOnChange(e)})}(r,n),function gv(r,n){n.valueAccessor.registerOnTouched(()=>{r._pendingTouched=!0,"blur"===r.updateOn&&r._pendingChange&&Bh(r,n),"submit"!==r.updateOn&&r.markAsTouched()})}(r,n),function mC(r,n){if(n.valueAccessor.setDisabledState){const e=o=>{n.valueAccessor.setDisabledState(o)};r.registerOnDisabledChange(e),n._registerOnDestroy(()=>{r._unregisterOnDisabledChange(e)})}}(r,n)}function Vh(r,n){r.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function Bh(r,n){r._pendingDirty&&r.markAsDirty(),r.setValue(r._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1}function Ev(r,n){const e=r.indexOf(n);e>-1&&r.splice(e,1)}function wr(r){return"object"==typeof r&&null!==r&&2===Object.keys(r).length&&"value"in r&&"disabled"in r}const AC={provide:Ua,useExisting:(0,h.Gpc)(()=>dm)},cm=(()=>Promise.resolve())();let dm=(()=>{class r extends Ua{constructor(e,o,u,p,y){super(),this._changeDetectorRef=y,this.control=new class extends class hv{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=n,this._rawAsyncValidators=e,this._composedValidatorFn=hs(this._rawValidators),this._composedAsyncValidatorFn=Lh(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===Md}get invalid(){return this.status===Fh}get pending(){return this.status==Qs}get disabled(){return this.status===Pd}get enabled(){return this.status!==Pd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._rawValidators=n,this._composedValidatorFn=hs(n)}setAsyncValidators(n){this._rawAsyncValidators=n,this._composedAsyncValidatorFn=Lh(n)}addValidators(n){this.setValidators(iv(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(iv(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(sv(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(sv(n,this._rawAsyncValidators))}hasValidator(n){return Sd(this._rawValidators,n)}hasAsyncValidator(n){return Sd(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=Qs,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=Pd,this.errors=null,this._forEachChild(o=>{o.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(o=>o(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=Md,this._forEachChild(o=>{o.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Md||this.status===Qs)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Pd:Md}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=Qs,this._hasOwnPendingAsyncValidator=!0;const e=Qy(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(o=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(o,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent)}get(n){let e=n;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((o,u)=>o&&o._find(u),this)}getError(n,e){const o=e?this.get(e):this;return o&&o.errors?o.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?Pd:this.errors?Fh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Qs)?Qs:this._anyControlsHaveStatus(Fh)?Fh:Md}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){ja(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}}{constructor(n=null,e,o){super(function Nd(r){return(ja(r)?r.validators:r)||null}(e),function rm(r,n){return(ja(n)?n.asyncValidators:r)||null}(o,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ja(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=wr(n)?n.value:n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(o=>o(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){Ev(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){Ev(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){wr(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},this._registered=!1,this.update=new h.vpe,this._parent=e,this._setValidators(o),this._setAsyncValidators(u),this.valueAccessor=function um(r,n){if(!n)return null;let e,o,u;return Array.isArray(n),n.forEach(p=>{p.constructor===Wg?e=p:function vC(r){return Object.getPrototypeOf(r.constructor)===Va}(p)?o=p:u=p}),u||o||e||null}(0,p)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const o=e.name.previousValue;this.formDirective.removeControl({name:o,path:this._getPath(o)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function lm(r,n){if(!r.hasOwnProperty("model"))return!1;const e=r.model;return!!e.isFirstChange()||!Object.is(n,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){iu(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){cm.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const o=e.isDisabled.currentValue,u=0!==o&&(0,h.D6c)(o);cm.then(()=>{u&&!this.control.disabled?this.control.disable():!u&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function Rd(r,n){return[...n.path,r]}(e,this._parent):[e]}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(zr,9),h.Y36(nr,10),h.Y36(Ba,10),h.Y36(Vi,10),h.Y36(h.sBO,8))},r.\u0275dir=h.lG2({type:r,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[h._Bn([AC]),h.qOj,h.TTD]}),r})(),kd=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({}),r})(),HC=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({imports:[kd]}),r})(),$C=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({imports:[HC]}),r})();function WC(r,n){if(1&r&&(h.O4$(),h.TgZ(0,"text",5),h._uU(1),h.qZA()),2&r){const e=h.oxw();h.uIk("x",50)("y",57)("fill",e.textColor)("name",e.name),h.xp6(1),h.Oqu(e.valueToDisplay())}}const fw={provide:Vi,useExisting:(0,h.Gpc)(()=>Fv),multi:!0};let Fv=(()=>{class r{constructor(e,o){this.cd=e,this.el=o,this.valueColor="var(--primary-color, Black)",this.rangeColor="var(--surface-border, LightGray)",this.textColor="var(--text-color-secondary, Black)",this.valueTemplate="{value}",this.size=100,this.step=1,this.min=0,this.max=100,this.strokeWidth=14,this.showValue=!0,this.readonly=!1,this.onChange=new h.vpe,this.radius=40,this.midX=50,this.midY=50,this.minRadians=4*Math.PI/3,this.maxRadians=-Math.PI/3,this.value=null,this.onModelChange=()=>{},this.onModelTouched=()=>{}}mapRange(e,o,u,p,y){return(e-o)*(y-p)/(u-o)+p}onClick(e){!this.disabled&&!this.readonly&&this.updateValue(e.offsetX,e.offsetY)}updateValue(e,o){let y=Math.atan2(this.size/2-o,e-this.size/2),D=-Math.PI/2-Math.PI/6;this.updateModel(y,D)}updateModel(e,o){let u;if(e>this.maxRadians)u=this.mapRange(e,this.minRadians,this.maxRadians,this.min,this.max);else{if(!(e<o))return;u=this.mapRange(e+2*Math.PI,this.minRadians,this.maxRadians,this.min,this.max)}let p=Math.round((u-this.min)/this.step)*this.step+this.min;this.value=p,this.onModelChange(this.value),this.onChange.emit(this.value)}onMouseDown(e){!this.disabled&&!this.readonly&&(this.windowMouseMoveListener=this.onMouseMove.bind(this),this.windowMouseUpListener=this.onMouseUp.bind(this),window.addEventListener("mousemove",this.windowMouseMoveListener),window.addEventListener("mouseup",this.windowMouseUpListener),e.preventDefault())}onMouseUp(e){!this.disabled&&!this.readonly&&(window.removeEventListener("mousemove",this.windowMouseMoveListener),window.removeEventListener("mouseup",this.windowMouseUpListener),this.windowMouseUpListener=null,this.windowMouseMoveListener=null,e.preventDefault())}onTouchStart(e){!this.disabled&&!this.readonly&&(this.windowTouchMoveListener=this.onTouchMove.bind(this),this.windowTouchEndListener=this.onTouchEnd.bind(this),window.addEventListener("touchmove",this.windowTouchMoveListener),window.addEventListener("touchend",this.windowTouchEndListener),e.preventDefault())}onTouchEnd(e){!this.disabled&&!this.readonly&&(window.removeEventListener("touchmove",this.windowTouchMoveListener),window.removeEventListener("touchend",this.windowTouchEndListener),this.windowTouchMoveListener=null,this.windowTouchEndListener=null,e.preventDefault())}onMouseMove(e){!this.disabled&&!this.readonly&&(this.updateValue(e.offsetX,e.offsetY),e.preventDefault())}onTouchMove(e){if(!this.disabled&&!this.readonly&&1==e.touches.length){const o=this.el.nativeElement.children[0].getBoundingClientRect(),u=e.targetTouches.item(0);this.updateValue(u.clientX-o.left,u.clientY-o.top)}}writeValue(e){this.value=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}containerClass(){return{"p-knob p-component":!0,"p-disabled":this.disabled}}rangePath(){return`M ${this.minX()} ${this.minY()} A ${this.radius} ${this.radius} 0 1 1 ${this.maxX()} ${this.maxY()}`}valuePath(){return`M ${this.zeroX()} ${this.zeroY()} A ${this.radius} ${this.radius} 0 ${this.largeArc()} ${this.sweep()} ${this.valueX()} ${this.valueY()}`}zeroRadians(){return this.mapRange(this.min>0&&this.max>0?this.min:0,this.min,this.max,this.minRadians,this.maxRadians)}valueRadians(){return this.mapRange(this._value,this.min,this.max,this.minRadians,this.maxRadians)}minX(){return this.midX+Math.cos(this.minRadians)*this.radius}minY(){return this.midY-Math.sin(this.minRadians)*this.radius}maxX(){return this.midX+Math.cos(this.maxRadians)*this.radius}maxY(){return this.midY-Math.sin(this.maxRadians)*this.radius}zeroX(){return this.midX+Math.cos(this.zeroRadians())*this.radius}zeroY(){return this.midY-Math.sin(this.zeroRadians())*this.radius}valueX(){return this.midX+Math.cos(this.valueRadians())*this.radius}valueY(){return this.midY-Math.sin(this.valueRadians())*this.radius}largeArc(){return Math.abs(this.zeroRadians()-this.valueRadians())<Math.PI?0:1}sweep(){return this.valueRadians()>this.zeroRadians()?0:1}valueToDisplay(){return this.valueTemplate.replace("{value}",this._value.toString())}get _value(){return null!=this.value?this.value:this.min}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.sBO),h.Y36(h.SBq))},r.\u0275cmp=h.Xpm({type:r,selectors:[["p-knob"]],hostAttrs:[1,"p-element"],inputs:{styleClass:"styleClass",style:"style",severity:"severity",valueColor:"valueColor",rangeColor:"rangeColor",textColor:"textColor",valueTemplate:"valueTemplate",name:"name",size:"size",step:"step",min:"min",max:"max",strokeWidth:"strokeWidth",disabled:"disabled",showValue:"showValue",readonly:"readonly"},outputs:{onChange:"onChange"},features:[h._Bn([fw])],decls:5,vars:15,consts:[[3,"ngClass","ngStyle"],["viewBox","0 0 100 100",3,"click","mousedown","mouseup","touchstart","touchend"],[1,"p-knob-range"],[1,"p-knob-value"],["text-anchor","middle","class","p-knob-text",4,"ngIf"],["text-anchor","middle",1,"p-knob-text"]],template:function(e,o){1&e&&(h.TgZ(0,"div",0),h.O4$(),h.TgZ(1,"svg",1),h.NdJ("click",function(p){return o.onClick(p)})("mousedown",function(p){return o.onMouseDown(p)})("mouseup",function(p){return o.onMouseUp(p)})("touchstart",function(p){return o.onTouchStart(p)})("touchend",function(p){return o.onTouchEnd(p)}),h._UZ(2,"path",2)(3,"path",3),h.YNc(4,WC,2,5,"text",4),h.qZA()()),2&e&&(h.Tol(o.styleClass),h.Q6J("ngClass",o.containerClass())("ngStyle",o.style),h.xp6(1),h.Udp("width",o.size+"px")("height",o.size+"px"),h.xp6(1),h.uIk("d",o.rangePath())("stroke-width",o.strokeWidth)("stroke",o.rangeColor),h.xp6(1),h.uIk("d",o.valuePath())("stroke-width",o.strokeWidth)("stroke",o.valueColor),h.xp6(1),h.Q6J("ngIf",o.showValue))},dependencies:[Ot,fn,Uo],styles:["@keyframes dash-frame{to{stroke-dashoffset:0}}.p-knob-range{fill:none;transition:stroke .1s ease-in}.p-knob-value{animation-name:dash-frame;animation-fill-mode:forwards;fill:none}.p-knob-text{font-size:1.3rem;text-align:center}\n"],encapsulation:2,changeDetection:0}),r})(),GC=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({imports:[Qr]}),r})(),zC=(()=>{class r{constructor(){this.weatherStats=[0,0]}ngOnInit(){}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=h.Xpm({type:r,selectors:[["app-weather-report"]],inputs:{weatherStats:"weatherStats"},decls:19,vars:4,consts:[[1,"h-full"],[1,"surface-ground","px-4","py-5","md:px-6","lg:px-8","text-left"],[1,"grid"],[1,"col-12","md:col-6"],[1,"surface-card","shadow-2","p-3","border-round"],[1,"mb-3"],[1,"block","text-700","font-semibold","mb-3"],["valueTemplate","{value}\xb0C",1,"text-center",3,"ngModel","readonly","ngModelChange"],["valueTemplate","{value}%",1,"text-center",3,"ngModel","readonly","ngModelChange"]],template:function(e,o){1&e&&(h.TgZ(0,"section",0)(1,"div",1)(2,"h3"),h._uU(3,"Current Status:"),h.qZA(),h.TgZ(4,"div",2)(5,"div",3)(6,"div",4)(7,"div",5)(8,"div")(9,"span",6),h._uU(10,"Temperature"),h.qZA()()(),h.TgZ(11,"p-knob",7),h.NdJ("ngModelChange",function(p){return o.weatherStats[0]=p}),h.qZA()()(),h.TgZ(12,"div",3)(13,"div",4)(14,"div",5)(15,"div")(16,"span",6),h._uU(17,"Humidity"),h.qZA()()(),h.TgZ(18,"p-knob",8),h.NdJ("ngModelChange",function(p){return o.weatherStats[1]=p}),h.qZA()()()()()()),2&e&&(h.xp6(11),h.Q6J("ngModel",o.weatherStats[0])("readonly",!0),h.xp6(7),h.Q6J("ngModel",o.weatherStats[1])("readonly",!0))},dependencies:[Fv,av,dm],styles:["section[_ngcontent-%COMP%]{width:80%;margin:auto}"]}),r})();const Lv=function(){return{width:"50px",height:"50px"}};function Vv(r,n){1&r&&(h.TgZ(0,"div",3),h._UZ(1,"p-progressSpinner",4),h.qZA()),2&r&&(h.xp6(1),h.Akn(h.DdM(2,Lv)))}function hw(r,n){1&r&&h._UZ(0,"img",12),2&r&&h.Q6J("width",150)}function ps(r,n){1&r&&h._UZ(0,"img",13),2&r&&h.Q6J("width",150)}function KC(r,n){1&r&&h._UZ(0,"img",14),2&r&&h.Q6J("width",150)}function Cm(r,n){if(1&r&&(h.TgZ(0,"div",15),h._UZ(1,"app-weather-report",16),h.qZA()),2&r){const e=h.oxw(2);h.xp6(1),h.Q6J("weatherStats",e.currentWeather)}}const ZC=function(){return[0,0]};function Bi(r,n){if(1&r&&(h.TgZ(0,"div")(1,"div",5),h.YNc(2,hw,1,1,"img",6),h.YNc(3,ps,1,1,"img",7),h.YNc(4,KC,1,1,"img",8),h.qZA(),h.TgZ(5,"div",9)(6,"h1",10),h._uU(7),h.qZA()(),h.YNc(8,Cm,2,1,"div",11),h.qZA()),2&r){const e=h.oxw();h.xp6(2),h.Q6J("ngIf",e.currentWeather[1]>74),h.xp6(1),h.Q6J("ngIf",e.currentWeather[1]<64),h.xp6(1),h.Q6J("ngIf",e.currentWeather[1]>65&&e.currentWeather[1]<75),h.xp6(3),h.hij("",e.currentWeather[1]," %"),h.xp6(1),h.Q6J("ngIf",e.currentWeather!=h.DdM(5,ZC))}}let qC=(()=>{class r{constructor(e){this.dbService=e,this.currentWeather=[0,0],this.isLoading=!1}ngOnInit(){this.isLoading=!0,this.dbService.getValues(),this.dbService.getUpdatedValues()?.subscribe(e=>{e.length>1&&(this.dbService.updateConnectionStatus(!0),this.currentWeather=e),this.isLoading=!1})}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(Vy))},r.\u0275cmp=h.Xpm({type:r,selectors:[["app-weather"]],decls:3,vars:2,consts:[[1,"text-center"],["class","loader mt-5",4,"ngIf"],[4,"ngIf"],[1,"loader","mt-5"],["styleClass","custom-spinner","strokeWidth","8","fill","var(--surface-ground)","animationDuration",".5s"],[1,"weather_image"],["src","assets/rain-svgrepo-com.svg","alt","Rainy",3,"width",4,"ngIf"],["src","assets/sun-svgrepo-com.svg","alt","Sunny",3,"width",4,"ngIf"],["src","assets/cloudy-day-weather-svgrepo-com.svg","alt","Cloudy",3,"width",4,"ngIf"],[1,"humidity_value","scalein","animation-duration-1000"],[1,"text-5xl","md:text-7xl","m-0"],["class","report_page",4,"ngIf"],["src","assets/rain-svgrepo-com.svg","alt","Rainy",3,"width"],["src","assets/sun-svgrepo-com.svg","alt","Sunny",3,"width"],["src","assets/cloudy-day-weather-svgrepo-com.svg","alt","Cloudy",3,"width"],[1,"report_page"],[3,"weatherStats"]],template:function(e,o){1&e&&(h.TgZ(0,"section",0),h.YNc(1,Vv,2,3,"div",1),h.YNc(2,Bi,9,6,"div",2),h.qZA()),2&e&&(h.xp6(1),h.Q6J("ngIf",o.isLoading),h.xp6(1),h.Q6J("ngIf",!o.isLoading))},dependencies:[fn,HI,zC]}),r})(),Dm=(()=>{class r{constructor(){}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=h.Xpm({type:r,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"container"]],template:function(e,o){1&e&&(h.TgZ(0,"section")(1,"div",0),h._UZ(2,"app-header")(3,"app-weather"),h.qZA()())},dependencies:[jy,qC],styles:["section[_ngcontent-%COMP%]{background-color:#f0f0f8;min-height:100vh;width:100vw;display:flex;align-items:center}section[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{width:80%;margin:auto;background-color:#fff;border-radius:10px;height:90%}"]}),r})();const Bv_firebaseConfig={apiKey:"AIzaSyBwfY31RLBe29BL8Kl7_6iEOVHkTbhkXcg",authDomain:"industry-project-f7519.firebaseapp.com",databaseURL:"https://industry-project-f7519-default-rtdb.firebaseio.com",projectId:"industry-project-f7519",storageBucket:"industry-project-f7519.appspot.com",messagingSenderId:"261598865521",appId:"1:261598865521:web:4a4ab8b751f62cc71493d0",measurementId:"G-ZHB4YY86TX"};let YC=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({imports:[Mh,GC,Hy,Mh,GC,Hy]}),r})(),wm=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=h.oAB({type:r,bootstrap:[Dm]}),r.\u0275inj=h.cJS({imports:[pl,ur.hO.initializeApp(Bv_firebaseConfig),YC,$C]}),r})();(0,h.G48)(),ua().bootstrapModule(wm).catch(r=>console.error(r))},5867:(nt,we,k)=>{k.d(we,{C6:()=>h.getApps,Mq:()=>h.getApp});var h=k(9681);(0,h.registerVersion)("firebase","9.13.0","app")},127:(nt,we,k)=>{k.d(we,{Z:()=>h.Z});var h=k(3942);h.Z.registerVersion("firebase","9.13.0","app-compat")},1277:(nt,we,k)=>{k.r(we);var h=k(5861),J=k(3942),O=k(2090),oe=k(9681),re=k(1877),ce=k(655),fe=k(4859);const Te=function je(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ne=function Se(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ae=new O.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Fe=new re.Yd("@firebase/auth");function We(g,...c){Fe.logLevel<=re.in.ERROR&&Fe.error(`Auth (${oe.SDK_VERSION}): ${g}`,...c)}function ve(g,...c){throw xe(g,...c)}function he(g,...c){return xe(g,...c)}function me(g,c,f){const _=Object.assign(Object.assign({},Ne()),{[c]:f});return new O.LL("auth","Firebase",_).create(c,{appName:g.name})}function Oe(g,c,f){if(!(c instanceof f))throw f.name!==c.constructor.name&&ve(g,"argument-error"),me(g,"argument-error",`Type of ${c.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function xe(g,...c){if("string"!=typeof g){const f=c[0],_=[...c.slice(1)];return _[0]&&(_[0].appName=g.name),g._errorFactory.create(f,..._)}return ae.create(g,...c)}function L(g,c,...f){if(!g)throw xe(c,...f)}function le(g){const c="INTERNAL ASSERTION FAILED: "+g;throw We(c),new Error(c)}function $(g,c){g||le(c)}const q=new Map;function te(g){$(g instanceof Function,"Expected a class definition");let c=q.get(g);return c?($(c instanceof g,"Instance stored in cache mismatched with class"),c):(c=new g,q.set(g,c),c)}function Ae(){var g;return typeof self<"u"&&(null===(g=self.location)||void 0===g?void 0:g.href)||""}function et(){return"http:"===At()||"https:"===At()}function At(){var g;return typeof self<"u"&&(null===(g=self.location)||void 0===g?void 0:g.protocol)||null}class Lt{constructor(c,f){this.shortDelay=c,this.longDelay=f,$(f>c,"Short delay should be less than long delay!"),this.isMobile=(0,O.uI)()||(0,O.b$)()}get(){return function Ct(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(et()||(0,O.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Gt(g,c){$(g.emulator,"Emulator should always be set here");const{url:f}=g.emulator;return c?`${f}${c.startsWith("/")?c.slice(1):c}`:f}class Tt{static initialize(c,f,_){this.fetchImpl=c,f&&(this.headersImpl=f),_&&(this.responseImpl=_)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void le("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void le("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void le("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const St={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Wn=new Lt(3e4,6e4);function gt(g,c){return g.tenantId&&!c.tenantId?Object.assign(Object.assign({},c),{tenantId:g.tenantId}):c}function Vt(g,c,f,_){return fi.apply(this,arguments)}function fi(){return(fi=(0,h.Z)(function*(g,c,f,_,b={}){return Tr(g,b,(0,h.Z)(function*(){let M={},j={};_&&("GET"===c?j=_:M={body:JSON.stringify(_)});const ie=(0,O.xO)(Object.assign({key:g.config.apiKey},j)).slice(1),ye=yield g._getAdditionalHeaders();return ye["Content-Type"]="application/json",g.languageCode&&(ye["X-Firebase-Locale"]=g.languageCode),Tt.fetch()(Ar(g,g.config.apiHost,f,ie),Object.assign({method:c,headers:ye,referrerPolicy:"no-referrer"},M))}))})).apply(this,arguments)}function Tr(g,c,f){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,h.Z)(function*(g,c,f){g._canInitEmulator=!1;const _=Object.assign(Object.assign({},St),c);try{const b=new rr(g),M=yield Promise.race([f(),b.promise]);b.clearNetworkTimeout();const j=yield M.json();if("needConfirmation"in j)throw hr(g,"account-exists-with-different-credential",j);if(M.ok&&!("errorMessage"in j))return j;{const ie=M.ok?j.errorMessage:j.error.message,[ye,Ge]=ie.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ye)throw hr(g,"credential-already-in-use",j);if("EMAIL_EXISTS"===ye)throw hr(g,"email-already-in-use",j);if("USER_DISABLED"===ye)throw hr(g,"user-disabled",j);const it=_[ye]||ye.toLowerCase().replace(/[_\s]+/g,"-");if(Ge)throw me(g,it,Ge);ve(g,it)}}catch(b){if(b instanceof O.ZR)throw b;ve(g,"network-request-failed")}})).apply(this,arguments)}function zn(g,c,f,_){return hi.apply(this,arguments)}function hi(){return(hi=(0,h.Z)(function*(g,c,f,_,b={}){const M=yield Vt(g,c,f,_,b);return"mfaPendingCredential"in M&&ve(g,"multi-factor-auth-required",{_serverResponse:M}),M})).apply(this,arguments)}function Ar(g,c,f,_){const b=`${c}${f}?${_}`;return g.config.emulator?Gt(g.config,b):`${g.config.apiScheme}://${b}`}class rr{constructor(c){this.auth=c,this.timer=null,this.promise=new Promise((f,_)=>{this.timer=setTimeout(()=>_(he(this.auth,"network-request-failed")),Wn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function hr(g,c,f){const _={appName:g.name};f.email&&(_.email=f.email),f.phoneNumber&&(_.phoneNumber=f.phoneNumber);const b=he(g,c,_);return b.customData._tokenResponse=f,b}function $e(){return($e=(0,h.Z)(function*(g,c){return Vt(g,"POST","/v1/accounts:delete",c)})).apply(this,arguments)}function Ln(g,c){return pi.apply(this,arguments)}function pi(){return(pi=(0,h.Z)(function*(g,c){return Vt(g,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function yn(g,c){return pr.apply(this,arguments)}function pr(){return(pr=(0,h.Z)(function*(g,c){return Vt(g,"POST","/v1/accounts:lookup",c)})).apply(this,arguments)}function Vr(g){if(g)try{const c=new Date(Number(g));if(!isNaN(c.getTime()))return c.toUTCString()}catch{}}function jt(){return(jt=(0,h.Z)(function*(g,c=!1){const f=(0,O.m9)(g),_=yield f.getIdToken(c),b=qe(_);L(b&&b.exp&&b.auth_time&&b.iat,f.auth,"internal-error");const M="object"==typeof b.firebase?b.firebase:void 0,j=M?.sign_in_provider;return{claims:b,token:_,authTime:Vr(rt(b.auth_time)),issuedAtTime:Vr(rt(b.iat)),expirationTime:Vr(rt(b.exp)),signInProvider:j||null,signInSecondFactor:M?.sign_in_second_factor||null}})).apply(this,arguments)}function rt(g){return 1e3*Number(g)}function qe(g){var c;const[f,_,b]=g.split(".");if(void 0===f||void 0===_||void 0===b)return We("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,O.tV)(_);return M?JSON.parse(M):(We("Failed to decode base64 JWT payload"),null)}catch(M){return We("Caught error parsing JWT payload as JSON",null===(c=M)||void 0===c?void 0:c.toString()),null}}function An(g,c){return an.apply(this,arguments)}function an(){return(an=(0,h.Z)(function*(g,c,f=!1){if(f)return c;try{return yield c}catch(_){throw _ instanceof O.ZR&&ir(_)&&g.auth.currentUser===g&&(yield g.auth.signOut()),_}})).apply(this,arguments)}function ir({code:g}){return"auth/user-disabled"===g||"auth/user-token-expired"===g}class ct{constructor(c){this.user=c,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(c){var f;if(c){const _=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),_}{this.errorBackoff=3e4;const b=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,b)}}schedule(c=!1){var f=this;if(!this.isRunning)return;const _=this.getInterval(c);this.timerId=setTimeout((0,h.Z)(function*(){yield f.iteration()}),_)}iteration(){var c=this;return(0,h.Z)(function*(){var f;try{yield c.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===(null===(f=_)||void 0===f?void 0:f.code)&&c.schedule(!0))}c.schedule()})()}}class Kr{constructor(c,f){this.createdAt=c,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vr(this.lastLoginAt),this.creationTime=Vr(this.createdAt)}_copy(c){this.createdAt=c.createdAt,this.lastLoginAt=c.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Mt(g){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,h.Z)(function*(g){var c;const f=g.auth,_=yield g.getIdToken(),b=yield An(g,yn(f,{idToken:_}));L(b?.users.length,f,"internal-error");const M=b.users[0];g._notifyReloadListener(M);const j=null!==(c=M.providerUserInfo)&&void 0!==c&&c.length?Ke(M.providerUserInfo):[],ie=Kn(g.providerData,j),it=!!g.isAnonymous&&!(g.email&&M.passwordHash||ie?.length),Xe={uid:M.localId,displayName:M.displayName||null,photoURL:M.photoUrl||null,email:M.email||null,emailVerified:M.emailVerified||!1,phoneNumber:M.phoneNumber||null,tenantId:M.tenantId||null,providerData:ie,metadata:new Kr(M.createdAt,M.lastLoginAt),isAnonymous:it};Object.assign(g,Xe)})).apply(this,arguments)}function vn(){return(vn=(0,h.Z)(function*(g){const c=(0,O.m9)(g);yield Mt(c),yield c.auth._persistUserIfCurrent(c),c.auth._notifyListenersIfCurrent(c)})).apply(this,arguments)}function Kn(g,c){return[...g.filter(_=>!c.some(b=>b.providerId===_.providerId)),...c]}function Ke(g){return g.map(c=>{var{providerId:f}=c,_=(0,ce._T)(c,["providerId"]);return{providerId:f,uid:_.rawId||"",displayName:_.displayName||null,email:_.email||null,phoneNumber:_.phoneNumber||null,photoURL:_.photoUrl||null}})}function ze(){return(ze=(0,h.Z)(function*(g,c){const f=yield Tr(g,{},(0,h.Z)(function*(){const _=(0,O.xO)({grant_type:"refresh_token",refresh_token:c}).slice(1),{tokenApiHost:b,apiKey:M}=g.config,j=Ar(g,b,"/v1/token",`key=${M}`),ie=yield g._getAdditionalHeaders();return ie["Content-Type"]="application/x-www-form-urlencoded",Tt.fetch()(j,{method:"POST",headers:ie,body:_})}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}class at{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(c){L(c.idToken,"internal-error"),L(typeof c.idToken<"u","internal-error"),L(typeof c.refreshToken<"u","internal-error");const f="expiresIn"in c&&typeof c.expiresIn<"u"?Number(c.expiresIn):function kt(g){const c=qe(g);return L(c,"internal-error"),L(typeof c.exp<"u","internal-error"),L(typeof c.iat<"u","internal-error"),Number(c.exp)-Number(c.iat)}(c.idToken);this.updateTokensAndExpiration(c.idToken,c.refreshToken,f)}getToken(c,f=!1){var _=this;return(0,h.Z)(function*(){return L(!_.accessToken||_.refreshToken,c,"user-token-expired"),f||!_.accessToken||_.isExpired?_.refreshToken?(yield _.refresh(c,_.refreshToken),_.accessToken):null:_.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(c,f){var _=this;return(0,h.Z)(function*(){const{accessToken:b,refreshToken:M,expiresIn:j}=yield function Ee(g,c){return ze.apply(this,arguments)}(c,f);_.updateTokensAndExpiration(b,M,Number(j))})()}updateTokensAndExpiration(c,f,_){this.refreshToken=f||null,this.accessToken=c||null,this.expirationTime=Date.now()+1e3*_}static fromJSON(c,f){const{refreshToken:_,accessToken:b,expirationTime:M}=f,j=new at;return _&&(L("string"==typeof _,"internal-error",{appName:c}),j.refreshToken=_),b&&(L("string"==typeof b,"internal-error",{appName:c}),j.accessToken=b),M&&(L("number"==typeof M,"internal-error",{appName:c}),j.expirationTime=M),j}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(c){this.accessToken=c.accessToken,this.refreshToken=c.refreshToken,this.expirationTime=c.expirationTime}_clone(){return Object.assign(new at,this.toJSON())}_performRefresh(){return le("not implemented")}}function st(g,c){L("string"==typeof g||typeof g>"u","internal-error",{appName:c})}class _t{constructor(c){var{uid:f,auth:_,stsTokenManager:b}=c,M=(0,ce._T)(c,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ct(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=_,this.stsTokenManager=b,this.accessToken=b.accessToken,this.displayName=M.displayName||null,this.email=M.email||null,this.emailVerified=M.emailVerified||!1,this.phoneNumber=M.phoneNumber||null,this.photoURL=M.photoURL||null,this.isAnonymous=M.isAnonymous||!1,this.tenantId=M.tenantId||null,this.providerData=M.providerData?[...M.providerData]:[],this.metadata=new Kr(M.createdAt||void 0,M.lastLoginAt||void 0)}getIdToken(c){var f=this;return(0,h.Z)(function*(){const _=yield An(f,f.stsTokenManager.getToken(f.auth,c));return L(_,f.auth,"internal-error"),f.accessToken!==_&&(f.accessToken=_,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),_})()}getIdTokenResult(c){return function un(g){return jt.apply(this,arguments)}(this,c)}reload(){return function Rt(g){return vn.apply(this,arguments)}(this)}_assign(c){this!==c&&(L(this.uid===c.uid,this.auth,"internal-error"),this.displayName=c.displayName,this.photoURL=c.photoURL,this.email=c.email,this.emailVerified=c.emailVerified,this.phoneNumber=c.phoneNumber,this.isAnonymous=c.isAnonymous,this.tenantId=c.tenantId,this.providerData=c.providerData.map(f=>Object.assign({},f)),this.metadata._copy(c.metadata),this.stsTokenManager._assign(c.stsTokenManager))}_clone(c){return new _t(Object.assign(Object.assign({},this),{auth:c,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(c){L(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=c,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(c){this.reloadListener?this.reloadListener(c):this.reloadUserInfo=c}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(c,f=!1){var _=this;return(0,h.Z)(function*(){let b=!1;c.idToken&&c.idToken!==_.stsTokenManager.accessToken&&(_.stsTokenManager.updateFromServerResponse(c),b=!0),f&&(yield Mt(_)),yield _.auth._persistUserIfCurrent(_),b&&_.auth._notifyListenersIfCurrent(_)})()}delete(){var c=this;return(0,h.Z)(function*(){const f=yield c.getIdToken();return yield An(c,function gs(g,c){return $e.apply(this,arguments)}(c.auth,{idToken:f})),c.stsTokenManager.clearRefreshToken(),c.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(c=>Object.assign({},c)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(c,f){var _,b,M,j,ie,ye,Ge,it;const Xe=null!==(_=f.displayName)&&void 0!==_?_:void 0,gn=null!==(b=f.email)&&void 0!==b?b:void 0,kn=null!==(M=f.phoneNumber)&&void 0!==M?M:void 0,oi=null!==(j=f.photoURL)&&void 0!==j?j:void 0,xl=null!==(ie=f.tenantId)&&void 0!==ie?ie:void 0,ft=null!==(ye=f._redirectEventId)&&void 0!==ye?ye:void 0,lp=null!==(Ge=f.createdAt)&&void 0!==Ge?Ge:void 0,kl=null!==(it=f.lastLoginAt)&&void 0!==it?it:void 0,{uid:gf,emailVerified:on,isAnonymous:zc,providerData:Kc,stsTokenManager:Fl}=f;L(gf&&Fl,c,"internal-error");const $s=at.fromJSON(this.name,Fl);L("string"==typeof gf,c,"internal-error"),st(Xe,c.name),st(gn,c.name),L("boolean"==typeof on,c,"internal-error"),L("boolean"==typeof zc,c,"internal-error"),st(kn,c.name),st(oi,c.name),st(xl,c.name),st(ft,c.name),st(lp,c.name),st(kl,c.name);const Ta=new _t({uid:gf,auth:c,email:gn,emailVerified:on,displayName:Xe,isAnonymous:zc,photoURL:oi,phoneNumber:kn,tenantId:xl,stsTokenManager:$s,createdAt:lp,lastLoginAt:kl});return Kc&&Array.isArray(Kc)&&(Ta.providerData=Kc.map(Zc=>Object.assign({},Zc))),ft&&(Ta._redirectEventId=ft),Ta}static _fromIdTokenResponse(c,f,_=!1){return(0,h.Z)(function*(){const b=new at;b.updateFromServerResponse(f);const M=new _t({uid:f.localId,auth:c,stsTokenManager:b,isAnonymous:_});return yield Mt(M),M})()}}const F=(()=>{class g{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(f,_){var b=this;return(0,h.Z)(function*(){b.storage[f]=_})()}_get(f){var _=this;return(0,h.Z)(function*(){const b=_.storage[f];return void 0===b?null:b})()}_remove(f){var _=this;return(0,h.Z)(function*(){delete _.storage[f]})()}_addListener(f,_){}_removeListener(f,_){}}return g.type="NONE",g})();function G(g,c,f){return`firebase:${g}:${c}:${f}`}class pe{constructor(c,f,_){this.persistence=c,this.auth=f,this.userKey=_;const{config:b,name:M}=this.auth;this.fullUserKey=G(this.userKey,b.apiKey,M),this.fullPersistenceKey=G("persistence",b.apiKey,M),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(c){return this.persistence._set(this.fullUserKey,c.toJSON())}getCurrentUser(){var c=this;return(0,h.Z)(function*(){const f=yield c.persistence._get(c.fullUserKey);return f?_t._fromJSON(c.auth,f):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(c){var f=this;return(0,h.Z)(function*(){if(f.persistence===c)return;const _=yield f.getCurrentUser();return yield f.removeCurrentUser(),f.persistence=c,_?f.setCurrentUser(_):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(c,f,_="authUser"){return(0,h.Z)(function*(){if(!f.length)return new pe(te(F),c,_);const b=(yield Promise.all(f.map(function(){var Ge=(0,h.Z)(function*(it){if(yield it._isAvailable())return it});return function(it){return Ge.apply(this,arguments)}}()))).filter(Ge=>Ge);let M=b[0]||te(F);const j=G(_,c.config.apiKey,c.name);let ie=null;for(const Ge of f)try{const it=yield Ge._get(j);if(it){const Xe=_t._fromJSON(c,it);Ge!==M&&(ie=Xe),M=Ge;break}}catch{}const ye=b.filter(Ge=>Ge._shouldAllowMigration);return M._shouldAllowMigration&&ye.length?(M=ye[0],ie&&(yield M._set(j,ie.toJSON())),yield Promise.all(f.map(function(){var Ge=(0,h.Z)(function*(it){if(it!==M)try{yield it._remove(j)}catch{}});return function(it){return Ge.apply(this,arguments)}}())),new pe(M,c,_)):new pe(M,c,_)})()}}function Z(g){const c=g.toLowerCase();if(c.includes("opera/")||c.includes("opr/")||c.includes("opios/"))return"Opera";if(Bt(c))return"IEMobile";if(c.includes("msie")||c.includes("trident/"))return"IE";if(c.includes("edge/"))return"Edge";if(Le(c))return"Firefox";if(c.includes("silk/"))return"Silk";if(Pe(c))return"Blackberry";if(ke(c))return"Webos";if(Je(c))return"Safari";if((c.includes("chrome/")||Pt(c))&&!c.includes("edge/"))return"Chrome";if(wt(c))return"Android";{const _=g.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===_?.length)return _[1]}return"Other"}function Le(g=(0,O.z$)()){return/firefox\//i.test(g)}function Je(g=(0,O.z$)()){const c=g.toLowerCase();return c.includes("safari/")&&!c.includes("chrome/")&&!c.includes("crios/")&&!c.includes("android")}function Pt(g=(0,O.z$)()){return/crios\//i.test(g)}function Bt(g=(0,O.z$)()){return/iemobile/i.test(g)}function wt(g=(0,O.z$)()){return/android/i.test(g)}function Pe(g=(0,O.z$)()){return/blackberry/i.test(g)}function ke(g=(0,O.z$)()){return/webos/i.test(g)}function It(g=(0,O.z$)()){return/iphone|ipad|ipod/i.test(g)||/macintosh/i.test(g)&&/mobile/i.test(g)}function Ui(g=(0,O.z$)()){return It(g)||wt(g)||ke(g)||Pe(g)||/windows phone/i.test(g)||Bt(g)}function gi(g,c=[]){let f;switch(g){case"Browser":f=Z((0,O.z$)());break;case"Worker":f=`${Z((0,O.z$)())}-${g}`;break;default:f=g}const _=c.length?c.join(","):"FirebaseCore-web";return`${f}/JsCore/${oe.SDK_VERSION}/${_}`}class ms{constructor(c){this.auth=c,this.queue=[]}pushCallback(c,f){const _=M=>new Promise((j,ie)=>{try{j(c(M))}catch(ye){ie(ye)}});_.onAbort=f,this.queue.push(_);const b=this.queue.length-1;return()=>{this.queue[b]=()=>Promise.resolve()}}runMiddleware(c){var f=this;return(0,h.Z)(function*(){var _;if(f.auth.currentUser===c)return;const b=[];try{for(const M of f.queue)yield M(c),M.onAbort&&b.push(M.onAbort)}catch(M){b.reverse();for(const j of b)try{j()}catch{}throw f.auth._errorFactory.create("login-blocked",{originalMessage:null===(_=M)||void 0===_?void 0:_.message})}})()}}class yt{constructor(c,f,_){this.app=c,this.heartbeatServiceProvider=f,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ji(this),this.idTokenSubscription=new ji(this),this.beforeStateQueue=new ms(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ae,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=c.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(c,f){var _=this;return f&&(this._popupRedirectResolver=te(f)),this._initializationPromise=this.queue((0,h.Z)(function*(){var b,M;if(!_._deleted&&(_.persistenceManager=yield pe.create(_,c),!_._deleted)){if(null!==(b=_._popupRedirectResolver)&&void 0!==b&&b._shouldInitProactively)try{yield _._popupRedirectResolver._initialize(_)}catch{}yield _.initializeCurrentUser(f),_.lastNotifiedUid=(null===(M=_.currentUser)||void 0===M?void 0:M.uid)||null,!_._deleted&&(_._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var c=this;return(0,h.Z)(function*(){if(c._deleted)return;const f=yield c.assertedPersistence.getCurrentUser();if(c.currentUser||f){if(c.currentUser&&f&&c.currentUser.uid===f.uid)return c._currentUser._assign(f),void(yield c.currentUser.getIdToken());yield c._updateCurrentUser(f,!0)}})()}initializeCurrentUser(c){var f=this;return(0,h.Z)(function*(){var _;const b=yield f.assertedPersistence.getCurrentUser();let M=b,j=!1;if(c&&f.config.authDomain){yield f.getOrInitRedirectPersistenceManager();const ie=null===(_=f.redirectUser)||void 0===_?void 0:_._redirectEventId,ye=M?._redirectEventId,Ge=yield f.tryRedirectSignIn(c);(!ie||ie===ye)&&Ge?.user&&(M=Ge.user,j=!0)}if(!M)return f.directlySetCurrentUser(null);if(!M._redirectEventId){if(j)try{yield f.beforeStateQueue.runMiddleware(M)}catch(ie){M=b,f._popupRedirectResolver._overrideRedirectResult(f,()=>Promise.reject(ie))}return M?f.reloadAndSetCurrentUserOrClear(M):f.directlySetCurrentUser(null)}return L(f._popupRedirectResolver,f,"argument-error"),yield f.getOrInitRedirectPersistenceManager(),f.redirectUser&&f.redirectUser._redirectEventId===M._redirectEventId?f.directlySetCurrentUser(M):f.reloadAndSetCurrentUserOrClear(M)})()}tryRedirectSignIn(c){var f=this;return(0,h.Z)(function*(){let _=null;try{_=yield f._popupRedirectResolver._completeRedirectFn(f,c,!0)}catch{yield f._setRedirectUser(null)}return _})()}reloadAndSetCurrentUserOrClear(c){var f=this;return(0,h.Z)(function*(){var _;try{yield Mt(c)}catch(b){if("auth/network-request-failed"!==(null===(_=b)||void 0===_?void 0:_.code))return f.directlySetCurrentUser(null)}return f.directlySetCurrentUser(c)})()}useDeviceLanguage(){this.languageCode=function He(){if(typeof navigator>"u")return null;const g=navigator;return g.languages&&g.languages[0]||g.language||null}()}_delete(){var c=this;return(0,h.Z)(function*(){c._deleted=!0})()}updateCurrentUser(c){var f=this;return(0,h.Z)(function*(){const _=c?(0,O.m9)(c):null;return _&&L(_.auth.config.apiKey===f.config.apiKey,f,"invalid-user-token"),f._updateCurrentUser(_&&_._clone(f))})()}_updateCurrentUser(c,f=!1){var _=this;return(0,h.Z)(function*(){if(!_._deleted)return c&&L(_.tenantId===c.tenantId,_,"tenant-id-mismatch"),f||(yield _.beforeStateQueue.runMiddleware(c)),_.queue((0,h.Z)(function*(){yield _.directlySetCurrentUser(c),_.notifyAuthListeners()}))})()}signOut(){var c=this;return(0,h.Z)(function*(){return yield c.beforeStateQueue.runMiddleware(null),(c.redirectPersistenceManager||c._popupRedirectResolver)&&(yield c._setRedirectUser(null)),c._updateCurrentUser(null,!0)})()}setPersistence(c){var f=this;return this.queue((0,h.Z)(function*(){yield f.assertedPersistence.setPersistence(te(c))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(c){this._errorFactory=new O.LL("auth","Firebase",c())}onAuthStateChanged(c,f,_){return this.registerStateListener(this.authStateSubscription,c,f,_)}beforeAuthStateChanged(c,f){return this.beforeStateQueue.pushCallback(c,f)}onIdTokenChanged(c,f,_){return this.registerStateListener(this.idTokenSubscription,c,f,_)}toJSON(){var c;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(c=this._currentUser)||void 0===c?void 0:c.toJSON()}}_setRedirectUser(c,f){var _=this;return(0,h.Z)(function*(){const b=yield _.getOrInitRedirectPersistenceManager(f);return null===c?b.removeCurrentUser():b.setCurrentUser(c)})()}getOrInitRedirectPersistenceManager(c){var f=this;return(0,h.Z)(function*(){if(!f.redirectPersistenceManager){const _=c&&te(c)||f._popupRedirectResolver;L(_,f,"argument-error"),f.redirectPersistenceManager=yield pe.create(f,[te(_._redirectPersistence)],"redirectUser"),f.redirectUser=yield f.redirectPersistenceManager.getCurrentUser()}return f.redirectPersistenceManager})()}_redirectUserForId(c){var f=this;return(0,h.Z)(function*(){var _,b;return f._isInitialized&&(yield f.queue((0,h.Z)(function*(){}))),(null===(_=f._currentUser)||void 0===_?void 0:_._redirectEventId)===c?f._currentUser:(null===(b=f.redirectUser)||void 0===b?void 0:b._redirectEventId)===c?f.redirectUser:null})()}_persistUserIfCurrent(c){var f=this;return(0,h.Z)(function*(){if(c===f.currentUser)return f.queue((0,h.Z)(function*(){return f.directlySetCurrentUser(c)}))})()}_notifyListenersIfCurrent(c){c===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var c,f;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const _=null!==(f=null===(c=this.currentUser)||void 0===c?void 0:c.uid)&&void 0!==f?f:null;this.lastNotifiedUid!==_&&(this.lastNotifiedUid=_,this.authStateSubscription.next(this.currentUser))}registerStateListener(c,f,_,b){if(this._deleted)return()=>{};const M="function"==typeof f?f:f.next.bind(f),j=this._isInitialized?Promise.resolve():this._initializationPromise;return L(j,this,"internal-error"),j.then(()=>M(this.currentUser)),"function"==typeof f?c.addObserver(f,_,b):c.addObserver(f)}directlySetCurrentUser(c){var f=this;return(0,h.Z)(function*(){f.currentUser&&f.currentUser!==c&&f._currentUser._stopProactiveRefresh(),c&&f.isProactiveRefreshEnabled&&c._startProactiveRefresh(),f.currentUser=c,c?yield f.assertedPersistence.setCurrentUser(c):yield f.assertedPersistence.removeCurrentUser()})()}queue(c){return this.operations=this.operations.then(c,c),this.operations}get assertedPersistence(){return L(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(c){!c||this.frameworks.includes(c)||(this.frameworks.push(c),this.frameworks.sort(),this.clientVersion=gi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var c=this;return(0,h.Z)(function*(){var f;const _={"X-Client-Version":c.clientVersion};c.app.options.appId&&(_["X-Firebase-gmpid"]=c.app.options.appId);const b=yield null===(f=c.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getHeartbeatsHeader();return b&&(_["X-Firebase-Client"]=b),_})()}}function qt(g){return(0,O.m9)(g)}class ji{constructor(c){this.auth=c,this.observer=null,this.addObserver=(0,O.ne)(f=>this.observer=f)}get next(){return L(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Br(g){const c=g.indexOf(":");return c<0?"":g.substr(0,c+1)}function mi(g){if(!g)return null;const c=Number(g);return isNaN(c)?null:c}class On{constructor(c,f){this.providerId=c,this.signInMethod=f}toJSON(){return le("not implemented")}_getIdTokenResponse(c){return le("not implemented")}_linkToIdToken(c,f){return le("not implemented")}_getReauthenticationResolver(c){return le("not implemented")}}function dn(g,c){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,h.Z)(function*(g,c){return Vt(g,"POST","/v1/accounts:resetPassword",gt(g,c))})).apply(this,arguments)}function Ot(g,c){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,h.Z)(function*(g,c){return Vt(g,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function $a(g,c){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,h.Z)(function*(g,c){return Vt(g,"POST","/v1/accounts:update",gt(g,c))})).apply(this,arguments)}function _s(){return(_s=(0,h.Z)(function*(g,c){return zn(g,"POST","/v1/accounts:signInWithPassword",gt(g,c))})).apply(this,arguments)}function yi(g,c){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,h.Z)(function*(g,c){return Vt(g,"POST","/v1/accounts:sendOobCode",gt(g,c))})).apply(this,arguments)}function fn(g,c){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,h.Z)(function*(g,c){return yi(g,c)})).apply(this,arguments)}function Mn(g,c){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,h.Z)(function*(g,c){return yi(g,c)})).apply(this,arguments)}function Bo(g,c){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,h.Z)(function*(g,c){return yi(g,c)})).apply(this,arguments)}function Ga(g,c){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,h.Z)(function*(g,c){return yi(g,c)})).apply(this,arguments)}function lu(){return(lu=(0,h.Z)(function*(g,c){return zn(g,"POST","/v1/accounts:signInWithEmailLink",gt(g,c))})).apply(this,arguments)}function za(){return(za=(0,h.Z)(function*(g,c){return zn(g,"POST","/v1/accounts:signInWithEmailLink",gt(g,c))})).apply(this,arguments)}class Ka extends On{constructor(c,f,_,b=null){super("password",_),this._email=c,this._password=f,this._tenantId=b}static _fromEmailAndPassword(c,f){return new Ka(c,f,"password")}static _fromEmailAndCode(c,f,_=null){return new Ka(c,f,"emailLink",_)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(c){const f="string"==typeof c?JSON.parse(c):c;if(f?.email&&f?.password){if("password"===f.signInMethod)return this._fromEmailAndPassword(f.email,f.password);if("emailLink"===f.signInMethod)return this._fromEmailAndCode(f.email,f.password,f.tenantId)}return null}_getIdTokenResponse(c){var f=this;return(0,h.Z)(function*(){switch(f.signInMethod){case"password":return function Js(g,c){return _s.apply(this,arguments)}(c,{returnSecureToken:!0,email:f._email,password:f._password});case"emailLink":return function mc(g,c){return lu.apply(this,arguments)}(c,{email:f._email,oobCode:f._password});default:ve(c,"internal-error")}})()}_linkToIdToken(c,f){var _=this;return(0,h.Z)(function*(){switch(_.signInMethod){case"password":return Ot(c,{idToken:f,returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function Uo(g,c){return za.apply(this,arguments)}(c,{idToken:f,email:_._email,oobCode:_._password});default:ve(c,"internal-error")}})()}_getReauthenticationResolver(c){return this._getIdTokenResponse(c)}}function In(g,c){return uu.apply(this,arguments)}function uu(){return(uu=(0,h.Z)(function*(g,c){return zn(g,"POST","/v1/accounts:signInWithIdp",gt(g,c))})).apply(this,arguments)}class Zr extends On{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(c){const f=new Zr(c.providerId,c.signInMethod);return c.idToken||c.accessToken?(c.idToken&&(f.idToken=c.idToken),c.accessToken&&(f.accessToken=c.accessToken),c.nonce&&!c.pendingToken&&(f.nonce=c.nonce),c.pendingToken&&(f.pendingToken=c.pendingToken)):c.oauthToken&&c.oauthTokenSecret?(f.accessToken=c.oauthToken,f.secret=c.oauthTokenSecret):ve("argument-error"),f}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(c){const f="string"==typeof c?JSON.parse(c):c,{providerId:_,signInMethod:b}=f,M=(0,ce._T)(f,["providerId","signInMethod"]);if(!_||!b)return null;const j=new Zr(_,b);return j.idToken=M.idToken||void 0,j.accessToken=M.accessToken||void 0,j.secret=M.secret,j.nonce=M.nonce,j.pendingToken=M.pendingToken||null,j}_getIdTokenResponse(c){return In(c,this.buildRequest())}_linkToIdToken(c,f){const _=this.buildRequest();return _.idToken=f,In(c,_)}_getReauthenticationResolver(c){const f=this.buildRequest();return f.autoCreate=!1,In(c,f)}buildRequest(){const c={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)c.pendingToken=this.pendingToken;else{const f={};this.idToken&&(f.id_token=this.idToken),this.accessToken&&(f.access_token=this.accessToken),this.secret&&(f.oauth_token_secret=this.secret),f.providerId=this.providerId,this.nonce&&!this.pendingToken&&(f.nonce=this.nonce),c.postBody=(0,O.xO)(f)}return c}}function jd(g,c){return cu.apply(this,arguments)}function cu(){return(cu=(0,h.Z)(function*(g,c){return Vt(g,"POST","/v1/accounts:sendVerificationCode",gt(g,c))})).apply(this,arguments)}function vi(){return(vi=(0,h.Z)(function*(g,c){return zn(g,"POST","/v1/accounts:signInWithPhoneNumber",gt(g,c))})).apply(this,arguments)}function du(){return(du=(0,h.Z)(function*(g,c){const f=yield zn(g,"POST","/v1/accounts:signInWithPhoneNumber",gt(g,c));if(f.temporaryProof)throw hr(g,"account-exists-with-different-credential",f);return f})).apply(this,arguments)}const Hd={USER_NOT_FOUND:"user-not-found"};function fu(){return(fu=(0,h.Z)(function*(g,c){return zn(g,"POST","/v1/accounts:signInWithPhoneNumber",gt(g,Object.assign(Object.assign({},c),{operation:"REAUTH"})),Hd)})).apply(this,arguments)}class Ei extends On{constructor(c){super("phone","phone"),this.params=c}static _fromVerification(c,f){return new Ei({verificationId:c,verificationCode:f})}static _fromTokenResponse(c,f){return new Ei({phoneNumber:c,temporaryProof:f})}_getIdTokenResponse(c){return function Za(g,c){return vi.apply(this,arguments)}(c,this._makeVerificationRequest())}_linkToIdToken(c,f){return function _c(g,c){return du.apply(this,arguments)}(c,Object.assign({idToken:f},this._makeVerificationRequest()))}_getReauthenticationResolver(c){return function $d(g,c){return fu.apply(this,arguments)}(c,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:c,phoneNumber:f,verificationId:_,verificationCode:b}=this.params;return c&&f?{temporaryProof:c,phoneNumber:f}:{sessionInfo:_,code:b}}toJSON(){const c={providerId:this.providerId};return this.params.phoneNumber&&(c.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(c.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(c.verificationCode=this.params.verificationCode),this.params.verificationId&&(c.verificationId=this.params.verificationId),c}static fromJSON(c){"string"==typeof c&&(c=JSON.parse(c));const{verificationId:f,verificationCode:_,phoneNumber:b,temporaryProof:M}=c;return _||f||b||M?new Ei({verificationId:f,verificationCode:_,phoneNumber:b,temporaryProof:M}):null}}class jo{constructor(c){var f,_,b,M,j,ie;const ye=(0,O.zd)((0,O.pd)(c)),Ge=null!==(f=ye.apiKey)&&void 0!==f?f:null,it=null!==(_=ye.oobCode)&&void 0!==_?_:null,Xe=function hu(g){switch(g){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(b=ye.mode)&&void 0!==b?b:null);L(Ge&&it&&Xe,"argument-error"),this.apiKey=Ge,this.operation=Xe,this.code=it,this.continueUrl=null!==(M=ye.continueUrl)&&void 0!==M?M:null,this.languageCode=null!==(j=ye.languageCode)&&void 0!==j?j:null,this.tenantId=null!==(ie=ye.tenantId)&&void 0!==ie?ie:null}static parseLink(c){const f=function pu(g){const c=(0,O.zd)((0,O.pd)(g)).link,f=c?(0,O.zd)((0,O.pd)(c)).deep_link_id:null,_=(0,O.zd)((0,O.pd)(g)).deep_link_id;return(_?(0,O.zd)((0,O.pd)(_)).link:null)||_||f||c||g}(c);try{return new jo(f)}catch{return null}}}let Ur=(()=>{class g{constructor(){this.providerId=g.PROVIDER_ID}static credential(f,_){return Ka._fromEmailAndPassword(f,_)}static credentialWithLink(f,_){const b=jo.parseLink(_);return L(b,"argument-error"),Ka._fromEmailAndCode(f,b.code,b.tenantId)}}return g.PROVIDER_ID="password",g.EMAIL_PASSWORD_SIGN_IN_METHOD="password",g.EMAIL_LINK_SIGN_IN_METHOD="emailLink",g})();class qr{constructor(c){this.providerId=c,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(c){this.defaultLanguageCode=c}setCustomParameters(c){return this.customParameters=c,this}getCustomParameters(){return this.customParameters}}class Yr extends qr{constructor(){super(...arguments),this.scopes=[]}addScope(c){return this.scopes.includes(c)||this.scopes.push(c),this}getScopes(){return[...this.scopes]}}class $i extends Yr{static credentialFromJSON(c){const f="string"==typeof c?JSON.parse(c):c;return L("providerId"in f&&"signInMethod"in f,"argument-error"),Zr._fromParams(f)}credential(c){return this._credential(Object.assign(Object.assign({},c),{nonce:c.rawNonce}))}_credential(c){return L(c.idToken||c.accessToken,"argument-error"),Zr._fromParams(Object.assign(Object.assign({},c),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(c){return $i.oauthCredentialFromTaggedObject(c)}static credentialFromError(c){return $i.oauthCredentialFromTaggedObject(c.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthIdToken:f,oauthAccessToken:_,oauthTokenSecret:b,pendingToken:M,nonce:j,providerId:ie}=c;if(!_&&!b&&!f&&!M||!ie)return null;try{return new $i(ie)._credential({idToken:f,accessToken:_,nonce:j,pendingToken:M})}catch{return null}}}let eo=(()=>{class g extends Yr{constructor(){super("facebook.com")}static credential(f){return Zr._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.FACEBOOK_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return g.credentialFromTaggedObject(f)}static credentialFromError(f){return g.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return g.credential(f.oauthAccessToken)}catch{return null}}}return g.FACEBOOK_SIGN_IN_METHOD="facebook.com",g.PROVIDER_ID="facebook.com",g})(),Ho=(()=>{class g extends Yr{constructor(){super("google.com"),this.addScope("profile")}static credential(f,_){return Zr._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.GOOGLE_SIGN_IN_METHOD,idToken:f,accessToken:_})}static credentialFromResult(f){return g.credentialFromTaggedObject(f)}static credentialFromError(f){return g.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:_,oauthAccessToken:b}=f;if(!_&&!b)return null;try{return g.credential(_,b)}catch{return null}}}return g.GOOGLE_SIGN_IN_METHOD="google.com",g.PROVIDER_ID="google.com",g})(),qa=(()=>{class g extends Yr{constructor(){super("github.com")}static credential(f){return Zr._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.GITHUB_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return g.credentialFromTaggedObject(f)}static credentialFromError(f){return g.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return g.credential(f.oauthAccessToken)}catch{return null}}}return g.GITHUB_SIGN_IN_METHOD="github.com",g.PROVIDER_ID="github.com",g})();class Qr extends On{constructor(c,f){super(c,c),this.pendingToken=f}_getIdTokenResponse(c){return In(c,this.buildRequest())}_linkToIdToken(c,f){const _=this.buildRequest();return _.idToken=f,In(c,_)}_getReauthenticationResolver(c){const f=this.buildRequest();return f.autoCreate=!1,In(c,f)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(c){const f="string"==typeof c?JSON.parse(c):c,{providerId:_,signInMethod:b,pendingToken:M}=f;return _&&b&&M&&_===b?new Qr(_,M):null}static _create(c,f){return new Qr(c,f)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class gr extends qr{constructor(c){L(c.startsWith("saml."),"argument-error"),super(c)}static credentialFromResult(c){return gr.samlCredentialFromTaggedObject(c)}static credentialFromError(c){return gr.samlCredentialFromTaggedObject(c.customData||{})}static credentialFromJSON(c){const f=Qr.fromJSON(c);return L(f,"argument-error"),f}static samlCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{pendingToken:f,providerId:_}=c;if(!f||!_)return null;try{return Qr._create(_,f)}catch{return null}}}let or=(()=>{class g extends Yr{constructor(){super("twitter.com")}static credential(f,_){return Zr._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.TWITTER_SIGN_IN_METHOD,oauthToken:f,oauthTokenSecret:_})}static credentialFromResult(f){return g.credentialFromTaggedObject(f)}static credentialFromError(f){return g.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthAccessToken:_,oauthTokenSecret:b}=f;if(!_||!b)return null;try{return g.credential(_,b)}catch{return null}}}return g.TWITTER_SIGN_IN_METHOD="twitter.com",g.PROVIDER_ID="twitter.com",g})();function ys(g,c){return gu.apply(this,arguments)}function gu(){return(gu=(0,h.Z)(function*(g,c){return zn(g,"POST","/v1/accounts:signUp",gt(g,c))})).apply(this,arguments)}class Bn{constructor(c){this.user=c.user,this.providerId=c.providerId,this._tokenResponse=c._tokenResponse,this.operationType=c.operationType}static _fromIdTokenResponse(c,f,_,b=!1){return(0,h.Z)(function*(){const M=yield _t._fromIdTokenResponse(c,_,b),j=Ec(_);return new Bn({user:M,providerId:j,_tokenResponse:_,operationType:f})})()}static _forOperation(c,f,_){return(0,h.Z)(function*(){yield c._updateTokensIfNecessary(_,!0);const b=Ec(_);return new Bn({user:c,providerId:b,_tokenResponse:_,operationType:f})})()}}function Ec(g){return g.providerId?g.providerId:"phoneNumber"in g?"phone":null}function en(){return(en=(0,h.Z)(function*(g){var c;const f=qt(g);if(yield f._initializationPromise,null!==(c=f.currentUser)&&void 0!==c&&c.isAnonymous)return new Bn({user:f.currentUser,providerId:null,operationType:"signIn"});const _=yield ys(f,{returnSecureToken:!0}),b=yield Bn._fromIdTokenResponse(f,"signIn",_,!0);return yield f._updateCurrentUser(b.user),b})).apply(this,arguments)}class Ya extends O.ZR{constructor(c,f,_,b){var M;super(f.code,f.message),this.operationType=_,this.user=b,Object.setPrototypeOf(this,Ya.prototype),this.customData={appName:c.name,tenantId:null!==(M=c.tenantId)&&void 0!==M?M:void 0,_serverResponse:f.customData._serverResponse,operationType:_}}static _fromErrorAndOperation(c,f,_,b){return new Ya(c,f,_,b)}}function Wd(g,c,f,_){return("reauthenticate"===c?f._getReauthenticationResolver(g):f._getIdTokenResponse(g)).catch(M=>{throw"auth/multi-factor-auth-required"===M.code?Ya._fromErrorAndOperation(g,M,c,_):M})}function mr(g){return new Set(g.map(({providerId:c})=>c).filter(c=>!!c))}function $o(){return($o=(0,h.Z)(function*(g,c){const f=(0,O.m9)(g);yield bt(!0,f,c);const{providerUserInfo:_}=yield Ln(f.auth,{idToken:yield f.getIdToken(),deleteProvider:[c]}),b=mr(_||[]);return f.providerData=f.providerData.filter(M=>b.has(M.providerId)),b.has("phone")||(f.phoneNumber=null),yield f.auth._persistUserIfCurrent(f),f})).apply(this,arguments)}function vs(g,c){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,h.Z)(function*(g,c,f=!1){const _=yield An(g,c._linkToIdToken(g.auth,yield g.getIdToken()),f);return Bn._forOperation(g,"link",_)})).apply(this,arguments)}function bt(g,c,f){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,h.Z)(function*(g,c,f){yield Mt(c);const b=!1===g?"provider-already-linked":"no-such-provider";L(mr(c.providerData).has(f)===g,c.auth,b)})).apply(this,arguments)}function Wi(g,c){return Go.apply(this,arguments)}function Go(){return(Go=(0,h.Z)(function*(g,c,f=!1){var _;const{auth:b}=g,M="reauthenticate";try{const j=yield An(g,Wd(b,M,c,g),f);L(j.idToken,b,"internal-error");const ie=qe(j.idToken);L(ie,b,"internal-error");const{sub:ye}=ie;return L(g.uid===ye,b,"user-mismatch"),Bn._forOperation(g,M,j)}catch(j){throw"auth/user-not-found"===(null===(_=j)||void 0===_?void 0:_.code)&&ve(b,"user-mismatch"),j}})).apply(this,arguments)}function Pr(g,c){return zo.apply(this,arguments)}function zo(){return(zo=(0,h.Z)(function*(g,c,f=!1){const _="signIn",b=yield Wd(g,_,c),M=yield Bn._fromIdTokenResponse(g,_,b);return f||(yield g._updateCurrentUser(M.user)),M})).apply(this,arguments)}function Jt(g,c){return dt.apply(this,arguments)}function dt(){return(dt=(0,h.Z)(function*(g,c){return Pr(qt(g),c)})).apply(this,arguments)}function Ko(g,c){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,h.Z)(function*(g,c){const f=(0,O.m9)(g);return yield bt(!1,f,c.providerId),vs(f,c)})).apply(this,arguments)}function Zo(g,c){return qo.apply(this,arguments)}function qo(){return(qo=(0,h.Z)(function*(g,c){return Wi((0,O.m9)(g),c)})).apply(this,arguments)}function Qa(g,c){return ei.apply(this,arguments)}function ei(){return(ei=(0,h.Z)(function*(g,c){return zn(g,"POST","/v1/accounts:signInWithCustomToken",gt(g,c))})).apply(this,arguments)}function to(){return(to=(0,h.Z)(function*(g,c){const f=qt(g),_=yield Qa(f,{token:c,returnSecureToken:!0}),b=yield Bn._fromIdTokenResponse(f,"signIn",_);return yield f._updateCurrentUser(b.user),b})).apply(this,arguments)}class Ie{constructor(c,f){this.factorId=c,this.uid=f.mfaEnrollmentId,this.enrollmentTime=new Date(f.enrolledAt).toUTCString(),this.displayName=f.displayName}static _fromServerResponse(c,f){return"phoneInfo"in f?Dt._fromServerResponse(c,f):ve(c,"internal-error")}}class Dt extends Ie{constructor(c){super("phone",c),this.phoneNumber=c.phoneInfo}static _fromServerResponse(c,f){return new Dt(f)}}function Xa(g,c,f){var _;L((null===(_=f.url)||void 0===_?void 0:_.length)>0,g,"invalid-continue-uri"),L(typeof f.dynamicLinkDomain>"u"||f.dynamicLinkDomain.length>0,g,"invalid-dynamic-link-domain"),c.continueUrl=f.url,c.dynamicLinkDomain=f.dynamicLinkDomain,c.canHandleCodeInApp=f.handleCodeInApp,f.iOS&&(L(f.iOS.bundleId.length>0,g,"missing-ios-bundle-id"),c.iOSBundleId=f.iOS.bundleId),f.android&&(L(f.android.packageName.length>0,g,"missing-android-pkg-name"),c.androidInstallApp=f.android.installApp,c.androidMinimumVersionCode=f.android.minimumVersion,c.androidPackageName=f.android.packageName)}function tn(){return(tn=(0,h.Z)(function*(g,c,f){const _=(0,O.m9)(g),b={requestType:"PASSWORD_RESET",email:c};f&&Xa(_,b,f),yield Mn(_,b)})).apply(this,arguments)}function Es(){return(Es=(0,h.Z)(function*(g,c,f){yield dn((0,O.m9)(g),{oobCode:c,newPassword:f})})).apply(this,arguments)}function no(){return(no=(0,h.Z)(function*(g,c){yield $a((0,O.m9)(g),{oobCode:c})})).apply(this,arguments)}function ro(g,c){return tl.apply(this,arguments)}function tl(){return(tl=(0,h.Z)(function*(g,c){const f=(0,O.m9)(g),_=yield dn(f,{oobCode:c}),b=_.requestType;switch(L(b,f,"internal-error"),b){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":L(_.newEmail,f,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":L(_.mfaInfo,f,"internal-error");default:L(_.email,f,"internal-error")}let M=null;return _.mfaInfo&&(M=Ie._fromServerResponse(qt(f),_.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.newEmail:_.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.email:_.newEmail)||null,multiFactorInfo:M},operation:b}})).apply(this,arguments)}function mu(){return(mu=(0,h.Z)(function*(g,c){const{data:f}=yield ro((0,O.m9)(g),c);return f.email})).apply(this,arguments)}function nn(){return(nn=(0,h.Z)(function*(g,c,f){const _=qt(g),b=yield ys(_,{returnSecureToken:!0,email:c,password:f}),M=yield Bn._fromIdTokenResponse(_,"signIn",b);return yield _._updateCurrentUser(M.user),M})).apply(this,arguments)}function Gi(){return(Gi=(0,h.Z)(function*(g,c,f){const _=(0,O.m9)(g),b={requestType:"EMAIL_SIGNIN",email:c};L(f.handleCodeInApp,_,"argument-error"),f&&Xa(_,b,f),yield Bo(_,b)})).apply(this,arguments)}function so(){return(so=(0,h.Z)(function*(g,c,f){const _=(0,O.m9)(g),b=Ur.credentialWithLink(c,f||Ae());return L(b._tenantId===(_.tenantId||null),_,"tenant-id-mismatch"),Jt(_,b)})).apply(this,arguments)}function zd(g,c){return il.apply(this,arguments)}function il(){return(il=(0,h.Z)(function*(g,c){return Vt(g,"POST","/v1/accounts:createAuthUri",gt(g,c))})).apply(this,arguments)}function oo(){return(oo=(0,h.Z)(function*(g,c){const _={identifier:c,continueUri:et()?Ae():"http://localhost"},{signinMethods:b}=yield zd((0,O.m9)(g),_);return b||[]})).apply(this,arguments)}function ao(){return(ao=(0,h.Z)(function*(g,c){const f=(0,O.m9)(g),b={requestType:"VERIFY_EMAIL",idToken:yield g.getIdToken()};c&&Xa(f.auth,b,c);const{email:M}=yield fn(f.auth,b);M!==g.email&&(yield g.reload())})).apply(this,arguments)}function Jo(){return(Jo=(0,h.Z)(function*(g,c,f){const _=(0,O.m9)(g),M={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield g.getIdToken(),newEmail:c};f&&Xa(_.auth,M,f);const{email:j}=yield Ga(_.auth,M);j!==g.email&&(yield g.reload())})).apply(this,arguments)}function Xo(g,c){return al.apply(this,arguments)}function al(){return(al=(0,h.Z)(function*(g,c){return Vt(g,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function ul(){return(ul=(0,h.Z)(function*(g,{displayName:c,photoURL:f}){if(void 0===c&&void 0===f)return;const _=(0,O.m9)(g),M={idToken:yield _.getIdToken(),displayName:c,photoUrl:f,returnSecureToken:!0},j=yield An(_,Xo(_.auth,M));_.displayName=j.displayName||null,_.photoURL=j.photoUrl||null;const ie=_.providerData.find(({providerId:ye})=>"password"===ye);ie&&(ie.displayName=_.displayName,ie.photoURL=_.photoURL),yield _._updateTokensIfNecessary(j)})).apply(this,arguments)}function Ki(g,c,f){return ea.apply(this,arguments)}function ea(){return(ea=(0,h.Z)(function*(g,c,f){const{auth:_}=g,M={idToken:yield g.getIdToken(),returnSecureToken:!0};c&&(M.email=c),f&&(M.password=f);const j=yield An(g,Ot(_,M));yield g._updateTokensIfNecessary(j,!0)})).apply(this,arguments)}class ar{constructor(c,f,_={}){this.isNewUser=c,this.providerId=f,this.profile=_}}class Kt extends ar{constructor(c,f,_,b){super(c,f,_),this.username=b}}class cl extends ar{constructor(c,f){super(c,"facebook.com",f)}}class dl extends Kt{constructor(c,f){super(c,"github.com",f,"string"==typeof f?.login?f?.login:null)}}class Dc extends ar{constructor(c,f){super(c,"google.com",f)}}class fl extends Kt{constructor(c,f,_){super(c,"twitter.com",f,_)}}function ta(g){const{user:c,_tokenResponse:f}=g;return c.isAnonymous&&!f?{providerId:null,isNewUser:!1,profile:null}:function Cn(g){var c,f;if(!g)return null;const{providerId:_}=g,b=g.rawUserInfo?JSON.parse(g.rawUserInfo):{},M=g.isNewUser||"identitytoolkit#SignupNewUserResponse"===g.kind;if(!_&&g?.idToken){const j=null===(f=null===(c=qe(g.idToken))||void 0===c?void 0:c.firebase)||void 0===f?void 0:f.sign_in_provider;if(j)return new ar(M,"anonymous"!==j&&"custom"!==j?j:null)}if(!_)return null;switch(_){case"facebook.com":return new cl(M,b);case"github.com":return new dl(M,b);case"google.com":return new Dc(M,b);case"twitter.com":return new fl(M,b,g.screenName||null);case"custom":case"anonymous":return new ar(M,null);default:return new ar(M,_,b)}}(f)}class qi{constructor(c,f,_){this.type=c,this.credential=f,this.auth=_}static _fromIdtoken(c,f){return new qi("enroll",c,f)}static _fromMfaPendingCredential(c){return new qi("signin",c)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(c){var f,_;if(c?.multiFactorSession){if(null!==(f=c.multiFactorSession)&&void 0!==f&&f.pendingCredential)return qi._fromMfaPendingCredential(c.multiFactorSession.pendingCredential);if(null!==(_=c.multiFactorSession)&&void 0!==_&&_.idToken)return qi._fromIdtoken(c.multiFactorSession.idToken)}return null}}class ra{constructor(c,f,_){this.session=c,this.hints=f,this.signInResolver=_}static _fromError(c,f){const _=qt(c),b=f.customData._serverResponse,M=(b.mfaInfo||[]).map(ie=>Ie._fromServerResponse(_,ie));L(b.mfaPendingCredential,_,"internal-error");const j=qi._fromMfaPendingCredential(b.mfaPendingCredential);return new ra(j,M,function(){var ie=(0,h.Z)(function*(ye){const Ge=yield ye._process(_,j);delete b.mfaInfo,delete b.mfaPendingCredential;const it=Object.assign(Object.assign({},b),{idToken:Ge.idToken,refreshToken:Ge.refreshToken});switch(f.operationType){case"signIn":const Xe=yield Bn._fromIdTokenResponse(_,f.operationType,it);return yield _._updateCurrentUser(Xe.user),Xe;case"reauthenticate":return L(f.user,_,"internal-error"),Bn._forOperation(f.user,f.operationType,it);default:ve(_,"internal-error")}});return function(ye){return ie.apply(this,arguments)}}())}resolveSignIn(c){var f=this;return(0,h.Z)(function*(){return f.signInResolver(c)})()}}function ia(g,c){return Vt(g,"POST","/v2/accounts/mfaEnrollment:start",gt(g,c))}class wc{constructor(c){this.user=c,this.enrolledFactors=[],c._onReload(f=>{f.mfaInfo&&(this.enrolledFactors=f.mfaInfo.map(_=>Ie._fromServerResponse(c.auth,_)))})}static _fromUser(c){return new wc(c)}getSession(){var c=this;return(0,h.Z)(function*(){return qi._fromIdtoken(yield c.user.getIdToken(),c.user.auth)})()}enroll(c,f){var _=this;return(0,h.Z)(function*(){const b=c,M=yield _.getSession(),j=yield An(_.user,b._process(_.user.auth,M,f));return yield _.user._updateTokensIfNecessary(j),_.user.reload()})()}unenroll(c){var f=this;return(0,h.Z)(function*(){var _;const b="string"==typeof c?c:c.uid,M=yield f.user.getIdToken(),j=yield An(f.user,function Iu(g,c){return Vt(g,"POST","/v2/accounts/mfaEnrollment:withdraw",gt(g,c))}(f.user.auth,{idToken:M,mfaEnrollmentId:b}));f.enrolledFactors=f.enrolledFactors.filter(({uid:ie})=>ie!==b),yield f.user._updateTokensIfNecessary(j);try{yield f.user.reload()}catch(ie){if("auth/user-token-expired"!==(null===(_=ie)||void 0===_?void 0:_.code))throw ie}})()}}const Ds=new WeakMap,Yi="__sak";class oa{constructor(c,f){this.storageRetriever=c,this.type=f}_isAvailable(){try{return this.storage?(this.storage.setItem(Yi,"1"),this.storage.removeItem(Yi),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(c,f){return this.storage.setItem(c,JSON.stringify(f)),Promise.resolve()}_get(c){const f=this.storage.getItem(c);return Promise.resolve(f?JSON.parse(f):null)}_remove(c){return this.storage.removeItem(c),Promise.resolve()}get storage(){return this.storageRetriever()}}const uo=(()=>{class g extends oa{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(f,_)=>this.onStorageEvent(f,_),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function lo(){const g=(0,O.z$)();return Je(g)||It(g)}()&&function zt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ui(),this._shouldAllowMigration=!0}forAllChangedKeys(f){for(const _ of Object.keys(this.listeners)){const b=this.storage.getItem(_),M=this.localCache[_];b!==M&&f(_,M,b)}}onStorageEvent(f,_=!1){if(!f.key)return void this.forAllChangedKeys((ie,ye,Ge)=>{this.notifyListeners(ie,Ge)});const b=f.key;if(_?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ie=this.storage.getItem(b);if(f.newValue!==ie)null!==f.newValue?this.storage.setItem(b,f.newValue):this.storage.removeItem(b);else if(this.localCache[b]===f.newValue&&!_)return}const M=()=>{const ie=this.storage.getItem(b);!_&&this.localCache[b]===ie||this.notifyListeners(b,ie)},j=this.storage.getItem(b);!function En(){return(0,O.w1)()&&10===document.documentMode}()||j===f.newValue||f.newValue===f.oldValue?M():setTimeout(M,10)}notifyListeners(f,_){this.localCache[f]=_;const b=this.listeners[f];if(b)for(const M of Array.from(b))M(_&&JSON.parse(_))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((f,_,b)=>{this.onStorageEvent(new StorageEvent("storage",{key:f,oldValue:_,newValue:b}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(f,_){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[f]||(this.listeners[f]=new Set,this.localCache[f]=this.storage.getItem(f)),this.listeners[f].add(_)}_removeListener(f,_){this.listeners[f]&&(this.listeners[f].delete(_),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(f,_){var b=()=>super._set,M=this;return(0,h.Z)(function*(){yield b().call(M,f,_),M.localCache[f]=JSON.stringify(_)})()}_get(f){var _=()=>super._get,b=this;return(0,h.Z)(function*(){const M=yield _().call(b,f);return b.localCache[f]=JSON.stringify(M),M})()}_remove(f){var _=()=>super._remove,b=this;return(0,h.Z)(function*(){yield _().call(b,f),delete b.localCache[f]})()}}return g.type="LOCAL",g})(),Hr=(()=>{class g extends oa{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(f,_){}_removeListener(f,_){}}return g.type="SESSION",g})();let wu=(()=>{class g{constructor(f){this.eventTarget=f,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(f){const _=this.receivers.find(M=>M.isListeningto(f));if(_)return _;const b=new g(f);return this.receivers.push(b),b}isListeningto(f){return this.eventTarget===f}handleEvent(f){var _=this;return(0,h.Z)(function*(){const b=f,{eventId:M,eventType:j,data:ie}=b.data,ye=_.handlersMap[j];if(!ye?.size)return;b.ports[0].postMessage({status:"ack",eventId:M,eventType:j});const Ge=Array.from(ye).map(function(){var Xe=(0,h.Z)(function*(gn){return gn(b.origin,ie)});return function(gn){return Xe.apply(this,arguments)}}()),it=yield function fo(g){return Promise.all(g.map(function(){var c=(0,h.Z)(function*(f){try{return{fulfilled:!0,value:yield f}}catch(_){return{fulfilled:!1,reason:_}}});return function(f){return c.apply(this,arguments)}}()))}(Ge);b.ports[0].postMessage({status:"done",eventId:M,eventType:j,response:it})})()}_subscribe(f,_){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[f]||(this.handlersMap[f]=new Set),this.handlersMap[f].add(_)}_unsubscribe(f,_){this.handlersMap[f]&&_&&this.handlersMap[f].delete(_),(!_||0===this.handlersMap[f].size)&&delete this.handlersMap[f],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return g.receivers=[],g})();function ho(g="",c=10){let f="";for(let _=0;_<c;_++)f+=Math.floor(10*Math.random());return g+f}class hl{constructor(c){this.target=c,this.handlers=new Set}removeMessageHandler(c){c.messageChannel&&(c.messageChannel.port1.removeEventListener("message",c.onMessage),c.messageChannel.port1.close()),this.handlers.delete(c)}_send(c,f,_=50){var b=this;return(0,h.Z)(function*(){const M=typeof MessageChannel<"u"?new MessageChannel:null;if(!M)throw new Error("connection_unavailable");let j,ie;return new Promise((ye,Ge)=>{const it=ho("",20);M.port1.start();const Xe=setTimeout(()=>{Ge(new Error("unsupported_event"))},_);ie={messageChannel:M,onMessage(gn){const kn=gn;if(kn.data.eventId===it)switch(kn.data.status){case"ack":clearTimeout(Xe),j=setTimeout(()=>{Ge(new Error("timeout"))},3e3);break;case"done":clearTimeout(j),ye(kn.data.response);break;default:clearTimeout(Xe),clearTimeout(j),Ge(new Error("invalid_response"))}}},b.handlers.add(ie),M.port1.addEventListener("message",ie.onMessage),b.target.postMessage({eventType:c,eventId:it,data:f},[M.port2])}).finally(()=>{ie&&b.removeMessageHandler(ie)})})()}}function ln(){return window}function aa(){return typeof ln().WorkerGlobalScope<"u"&&"function"==typeof ln().importScripts}function po(){return(po=(0,h.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Di="firebaseLocalStorageDb",wi="firebaseLocalStorage",pl="fbase_key";class Ji{constructor(c){this.request=c}toPromise(){return new Promise((c,f)=>{this.request.addEventListener("success",()=>{c(this.request.result)}),this.request.addEventListener("error",()=>{f(this.request.error)})})}}function go(g,c){return g.transaction([wi],c?"readwrite":"readonly").objectStore(wi)}function mo(){const g=indexedDB.open(Di,1);return new Promise((c,f)=>{g.addEventListener("error",()=>{f(g.error)}),g.addEventListener("upgradeneeded",()=>{const _=g.result;try{_.createObjectStore(wi,{keyPath:pl})}catch(b){f(b)}}),g.addEventListener("success",(0,h.Z)(function*(){const _=g.result;_.objectStoreNames.contains(wi)?c(_):(_.close(),yield function Tu(){const g=indexedDB.deleteDatabase(Di);return new Ji(g).toPromise()}(),c(yield mo()))}))})}function bi(g,c,f){return gl.apply(this,arguments)}function gl(){return(gl=(0,h.Z)(function*(g,c,f){const _=go(g,!0).put({[pl]:c,value:f});return new Ji(_).toPromise()})).apply(this,arguments)}function _o(){return(_o=(0,h.Z)(function*(g,c){const f=go(g,!1).get(c),_=yield new Ji(f).toPromise();return void 0===_?null:_.value})).apply(this,arguments)}function Xi(g,c){const f=go(g,!0).delete(c);return new Ji(f).toPromise()}const bs=(()=>{class g{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var f=this;return(0,h.Z)(function*(){return f.db||(f.db=yield mo()),f.db})()}_withRetries(f){var _=this;return(0,h.Z)(function*(){let b=0;for(;;)try{const M=yield _._openDb();return yield f(M)}catch(M){if(b++>3)throw M;_.db&&(_.db.close(),_.db=void 0)}})()}initializeServiceWorkerMessaging(){var f=this;return(0,h.Z)(function*(){return aa()?f.initializeReceiver():f.initializeSender()})()}initializeReceiver(){var f=this;return(0,h.Z)(function*(){f.receiver=wu._getInstance(function ua(){return aa()?self:null}()),f.receiver._subscribe("keyChanged",function(){var _=(0,h.Z)(function*(b,M){return{keyProcessed:(yield f._poll()).includes(M.key)}});return function(b,M){return _.apply(this,arguments)}}()),f.receiver._subscribe("ping",function(){var _=(0,h.Z)(function*(b,M){return["keyChanged"]});return function(b,M){return _.apply(this,arguments)}}())})()}initializeSender(){var f=this;return(0,h.Z)(function*(){var _,b;if(f.activeServiceWorker=yield function Qi(){return po.apply(this,arguments)}(),!f.activeServiceWorker)return;f.sender=new hl(f.activeServiceWorker);const M=yield f.sender._send("ping",{},800);!M||(null===(_=M[0])||void 0===_?void 0:_.fulfilled)&&(null===(b=M[0])||void 0===b?void 0:b.value.includes("keyChanged"))&&(f.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(f){var _=this;return(0,h.Z)(function*(){if(_.sender&&_.activeServiceWorker&&function la(){var g;return(null===(g=navigator?.serviceWorker)||void 0===g?void 0:g.controller)||null}()===_.activeServiceWorker)try{yield _.sender._send("keyChanged",{key:f},_.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const f=yield mo();return yield bi(f,Yi,"1"),yield Xi(f,Yi),!0}catch{}return!1})()}_withPendingWrite(f){var _=this;return(0,h.Z)(function*(){_.pendingWrites++;try{yield f()}finally{_.pendingWrites--}})()}_set(f,_){var b=this;return(0,h.Z)(function*(){return b._withPendingWrite((0,h.Z)(function*(){return yield b._withRetries(M=>bi(M,f,_)),b.localCache[f]=_,b.notifyServiceWorker(f)}))})()}_get(f){var _=this;return(0,h.Z)(function*(){const b=yield _._withRetries(M=>function ca(g,c){return _o.apply(this,arguments)}(M,f));return _.localCache[f]=b,b})()}_remove(f){var _=this;return(0,h.Z)(function*(){return _._withPendingWrite((0,h.Z)(function*(){return yield _._withRetries(b=>Xi(b,f)),delete _.localCache[f],_.notifyServiceWorker(f)}))})()}_poll(){var f=this;return(0,h.Z)(function*(){const _=yield f._withRetries(j=>{const ie=go(j,!1).getAll();return new Ji(ie).toPromise()});if(!_)return[];if(0!==f.pendingWrites)return[];const b=[],M=new Set;for(const{fbase_key:j,value:ie}of _)M.add(j),JSON.stringify(f.localCache[j])!==JSON.stringify(ie)&&(f.notifyListeners(j,ie),b.push(j));for(const j of Object.keys(f.localCache))f.localCache[j]&&!M.has(j)&&(f.notifyListeners(j,null),b.push(j));return b})()}notifyListeners(f,_){this.localCache[f]=_;const b=this.listeners[f];if(b)for(const M of Array.from(b))M(_)}startPolling(){var f=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return f._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(f,_){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[f]||(this.listeners[f]=new Set,this._get(f)),this.listeners[f].add(_)}_removeListener(f,_){this.listeners[f]&&(this.listeners[f].delete(_),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return g.type="LOCAL",g})();function Ts(g,c){return Vt(g,"POST","/v2/accounts/mfaSignIn:start",gt(g,c))}function Ti(){return(Ti=(0,h.Z)(function*(g){return(yield Vt(g,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ss(g){return new Promise((c,f)=>{const _=document.createElement("script");_.setAttribute("src",g),_.onload=c,_.onerror=b=>{const M=he("internal-error");M.customData=b,f(M)},_.type="text/javascript",_.charset="UTF-8",function As(){var g,c;return null!==(c=null===(g=document.getElementsByTagName("head"))||void 0===g?void 0:g[0])&&void 0!==c?c:document}().appendChild(_)})}function ha(g){return`__${g}${Math.floor(1e6*Math.random())}`}const yo=1e12;class Ht{constructor(c){this.auth=c,this.counter=yo,this._widgets=new Map}render(c,f){const _=this.counter;return this._widgets.set(_,new Kd(c,this.auth.name,f||{})),this.counter++,_}reset(c){var f;const _=c||yo;null===(f=this._widgets.get(_))||void 0===f||f.delete(),this._widgets.delete(_)}getResponse(c){var f;return(null===(f=this._widgets.get(c||yo))||void 0===f?void 0:f.getResponse())||""}execute(c){var f=this;return(0,h.Z)(function*(){var _;return null===(_=f._widgets.get(c||yo))||void 0===_||_.execute(),""})()}}class Kd{constructor(c,f,_){this.params=_,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const b="string"==typeof c?document.getElementById(c):c;L(b,"argument-error",{appName:f}),this.container=b,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Kh(g){const c=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<g;_++)c.push(f.charAt(Math.floor(Math.random()*f.length)));return c.join("")}(50);const{callback:c,"expired-callback":f}=this.params;if(c)try{c(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,f)try{f()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Zd=ha("rcb"),Zh=new Lt(3e4,6e4);class bc{constructor(){var c;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(c=ln().grecaptcha)||void 0===c||!c.render)}load(c,f=""){return L(function bm(g){return g.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(g)}(f),c,"argument-error"),this.shouldResolveImmediately(f)?Promise.resolve(ln().grecaptcha):new Promise((_,b)=>{const M=ln().setTimeout(()=>{b(he(c,"network-request-failed"))},Zh.get());ln()[Zd]=()=>{ln().clearTimeout(M),delete ln()[Zd];const ie=ln().grecaptcha;if(!ie)return void b(he(c,"internal-error"));const ye=ie.render;ie.render=(Ge,it)=>{const Xe=ye(Ge,it);return this.counter++,Xe},this.hostLanguage=f,_(ie)},Ss(`https://www.google.com/recaptcha/api.js??${(0,O.xO)({onload:Zd,render:"explicit",hl:f})}`).catch(()=>{clearTimeout(M),b(he(c,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(c){var f;return!(null===(f=ln().grecaptcha)||void 0===f||!f.render)&&(c===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class _l{load(c){return(0,h.Z)(function*(){return new Ht(c)})()}clearedOneInstance(){}}const Yh="recaptcha",Qh={theme:"light",type:"image"};class Nn{constructor(c,f=Object.assign({},Qh),_){this.parameters=f,this.type=Yh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=qt(_),this.isInvisible="invisible"===this.parameters.size,L(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const b="string"==typeof c?document.getElementById(c):c;L(b,this.auth,"argument-error"),this.container=b,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new _l:new bc,this.validateStartingState()}verify(){var c=this;return(0,h.Z)(function*(){c.assertNotDestroyed();const f=yield c.render(),_=c.getAssertedRecaptcha();return _.getResponse(f)||new Promise(M=>{const j=ie=>{!ie||(c.tokenChangeListeners.delete(j),M(ie))};c.tokenChangeListeners.add(j),c.isInvisible&&_.execute(f)})})()}render(){try{this.assertNotDestroyed()}catch(c){return Promise.reject(c)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(c=>{throw this.renderPromise=null,c})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(c=>{this.container.removeChild(c)})}validateStartingState(){L(!this.parameters.sitekey,this.auth,"argument-error"),L(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),L(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(c){return f=>{if(this.tokenChangeListeners.forEach(_=>_(f)),"function"==typeof c)c(f);else if("string"==typeof c){const _=ln()[c];"function"==typeof _&&_(f)}}}assertNotDestroyed(){L(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var c=this;return(0,h.Z)(function*(){if(yield c.init(),!c.widgetId){let f=c.container;if(!c.isInvisible){const _=document.createElement("div");f.appendChild(_),f=_}c.widgetId=c.getAssertedRecaptcha().render(f,c.parameters)}return c.widgetId})()}init(){var c=this;return(0,h.Z)(function*(){L(et()&&!aa(),c.auth,"internal-error"),yield function vo(){let g=null;return new Promise(c=>{"complete"!==document.readyState?(g=()=>c(),window.addEventListener("load",g)):c()}).catch(c=>{throw g&&window.removeEventListener("load",g),c})}(),c.recaptcha=yield c._recaptchaLoader.load(c.auth,c.auth.languageCode||void 0);const f=yield function lr(g){return Ti.apply(this,arguments)}(c.auth);L(f,c.auth,"internal-error"),c.parameters.sitekey=f})()}getAssertedRecaptcha(){return L(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ps{constructor(c,f){this.verificationId=c,this.onConfirmation=f}confirm(c){const f=Ei._fromVerification(this.verificationId,c);return this.onConfirmation(f)}}function ts(){return(ts=(0,h.Z)(function*(g,c,f){const _=qt(g),b=yield Dn(_,c,(0,O.m9)(f));return new Ps(b,M=>Jt(_,M))})).apply(this,arguments)}function Yn(){return(Yn=(0,h.Z)(function*(g,c,f){const _=(0,O.m9)(g);yield bt(!1,_,"phone");const b=yield Dn(_.auth,c,(0,O.m9)(f));return new Ps(b,M=>Ko(_,M))})).apply(this,arguments)}function Ai(){return(Ai=(0,h.Z)(function*(g,c,f){const _=(0,O.m9)(g),b=yield Dn(_.auth,c,(0,O.m9)(f));return new Ps(b,M=>Zo(_,M))})).apply(this,arguments)}function Dn(g,c,f){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,h.Z)(function*(g,c,f){var _;const b=yield f.verify();try{let M;if(L("string"==typeof b,g,"argument-error"),L(f.type===Yh,g,"argument-error"),M="string"==typeof c?{phoneNumber:c}:c,"session"in M){const j=M.session;if("phoneNumber"in M)return L("enroll"===j.type,g,"internal-error"),(yield ia(g,{idToken:j.credential,phoneEnrollmentInfo:{phoneNumber:M.phoneNumber,recaptchaToken:b}})).phoneSessionInfo.sessionInfo;{L("signin"===j.type,g,"internal-error");const ie=(null===(_=M.multiFactorHint)||void 0===_?void 0:_.uid)||M.multiFactorUid;return L(ie,g,"missing-multi-factor-info"),(yield Ts(g,{mfaPendingCredential:j.credential,mfaEnrollmentId:ie,phoneSignInInfo:{recaptchaToken:b}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:j}=yield jd(g,{phoneNumber:M.phoneNumber,recaptchaToken:b});return j}}finally{f._reset()}})).apply(this,arguments)}function Rr(){return(Rr=(0,h.Z)(function*(g,c){yield vs((0,O.m9)(g),c)})).apply(this,arguments)}let jn=(()=>{class g{constructor(f){this.providerId=g.PROVIDER_ID,this.auth=qt(f)}verifyPhoneNumber(f,_){return Dn(this.auth,f,(0,O.m9)(_))}static credential(f,_){return Ei._fromVerification(f,_)}static credentialFromResult(f){return g.credentialFromTaggedObject(f)}static credentialFromError(f){return g.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{phoneNumber:_,temporaryProof:b}=f;return _&&b?Ei._fromTokenResponse(_,b):null}}return g.PROVIDER_ID="phone",g.PHONE_SIGN_IN_METHOD="phone",g})();function Qn(g,c){return c?te(c):(L(g._popupRedirectResolver,g,"argument-error"),g._popupRedirectResolver)}class pa extends On{constructor(c){super("custom","custom"),this.params=c}_getIdTokenResponse(c){return In(c,this._buildIdpRequest())}_linkToIdToken(c,f){return In(c,this._buildIdpRequest(f))}_getReauthenticationResolver(c){return In(c,this._buildIdpRequest())}_buildIdpRequest(c){const f={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return c&&(f.idToken=c),f}}function Jn(g){return Pr(g.auth,new pa(g),g.bypassAuthState)}function Io(g){const{auth:c,user:f}=g;return L(f,c,"internal-error"),Wi(f,new pa(g),g.bypassAuthState)}function Rs(g){return Su.apply(this,arguments)}function Su(){return(Su=(0,h.Z)(function*(g){const{auth:c,user:f}=g;return L(f,c,"internal-error"),vs(f,new pa(g),g.bypassAuthState)})).apply(this,arguments)}class yl{constructor(c,f,_,b,M=!1){this.auth=c,this.resolver=_,this.user=b,this.bypassAuthState=M,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(f)?f:[f]}execute(){var c=this;return new Promise(function(){var f=(0,h.Z)(function*(_,b){c.pendingPromise={resolve:_,reject:b};try{c.eventManager=yield c.resolver._initialize(c.auth),yield c.onExecution(),c.eventManager.registerConsumer(c)}catch(M){c.reject(M)}});return function(_,b){return f.apply(this,arguments)}}())}onAuthEvent(c){var f=this;return(0,h.Z)(function*(){const{urlResponse:_,sessionId:b,postBody:M,tenantId:j,error:ie,type:ye}=c;if(ie)return void f.reject(ie);const Ge={auth:f.auth,requestUri:_,sessionId:b,tenantId:j||void 0,postBody:M||void 0,user:f.user,bypassAuthState:f.bypassAuthState};try{f.resolve(yield f.getIdpTask(ye)(Ge))}catch(it){f.reject(it)}})()}onError(c){this.reject(c)}getIdpTask(c){switch(c){case"signInViaPopup":case"signInViaRedirect":return Jn;case"linkViaPopup":case"linkViaRedirect":return Rs;case"reauthViaPopup":case"reauthViaRedirect":return Io;default:ve(this.auth,"internal-error")}}resolve(c){$(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(c),this.unregisterAndCleanUp()}reject(c){$(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(c),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const vl=new Lt(2e3,1e4);function Hn(){return(Hn=(0,h.Z)(function*(g,c,f){const _=qt(g);Oe(g,c,qr);const b=Qn(_,f);return new Or(_,"signInViaPopup",c,b).executeNotNull()})).apply(this,arguments)}function ga(){return(ga=(0,h.Z)(function*(g,c,f){const _=(0,O.m9)(g);Oe(_.auth,c,qr);const b=Qn(_.auth,f);return new Or(_.auth,"reauthViaPopup",c,b,_).executeNotNull()})).apply(this,arguments)}function cr(){return(cr=(0,h.Z)(function*(g,c,f){const _=(0,O.m9)(g);Oe(_.auth,c,qr);const b=Qn(_.auth,f);return new Or(_.auth,"linkViaPopup",c,b,_).executeNotNull()})).apply(this,arguments)}let Or=(()=>{class g extends yl{constructor(f,_,b,M,j){super(f,_,M,j),this.provider=b,this.authWindow=null,this.pollId=null,g.currentPopupAction&&g.currentPopupAction.cancel(),g.currentPopupAction=this}executeNotNull(){var f=this;return(0,h.Z)(function*(){const _=yield f.execute();return L(_,f.auth,"internal-error"),_})()}onExecution(){var f=this;return(0,h.Z)(function*(){$(1===f.filter.length,"Popup operations only handle one event");const _=ho();f.authWindow=yield f.resolver._openPopup(f.auth,f.provider,f.filter[0],_),f.authWindow.associatedEvent=_,f.resolver._originValidation(f.auth).catch(b=>{f.reject(b)}),f.resolver._isIframeWebStorageSupported(f.auth,b=>{b||f.reject(he(f.auth,"web-storage-unsupported"))}),f.pollUserCancellation()})()}get eventId(){var f;return(null===(f=this.authWindow)||void 0===f?void 0:f.associatedEvent)||null}cancel(){this.reject(he(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,g.currentPopupAction=null}pollUserCancellation(){const f=()=>{var _,b;this.pollId=null!==(b=null===(_=this.authWindow)||void 0===_?void 0:_.window)&&void 0!==b&&b.closed?window.setTimeout(()=>{this.pollId=null,this.reject(he(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(f,vl.get())};f()}}return g.currentPopupAction=null,g})();const R=new Map;class Os extends yl{constructor(c,f,_=!1){super(c,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],f,void 0,_),this.eventId=null}execute(){var c=()=>super.execute,f=this;return(0,h.Z)(function*(){let _=R.get(f.auth._key());if(!_){try{const M=(yield function Do(g,c){return ri.apply(this,arguments)}(f.resolver,f.auth))?yield c().call(f):null;_=()=>Promise.resolve(M)}catch(b){_=()=>Promise.reject(b)}R.set(f.auth._key(),_)}return f.bypassAuthState||R.set(f.auth._key(),()=>Promise.resolve(null)),_()})()}onAuthEvent(c){var f=()=>super.onAuthEvent,_=this;return(0,h.Z)(function*(){if("signInViaRedirect"===c.type)return f().call(_,c);if("unknown"!==c.type){if(c.eventId){const b=yield _.auth._redirectUserForId(c.eventId);if(b)return _.user=b,f().call(_,c);_.resolve(null)}}else _.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function ri(){return(ri=(0,h.Z)(function*(g,c){const f=Xn(c),_=Si(g);if(!(yield _._isAvailable()))return!1;const b="true"===(yield _._get(f));return yield _._remove(f),b})).apply(this,arguments)}function xs(g,c){return ma.apply(this,arguments)}function ma(){return(ma=(0,h.Z)(function*(g,c){return Si(g)._set(Xn(c),"true")})).apply(this,arguments)}function dr(g,c){R.set(g._key(),c)}function Si(g){return te(g._redirectPersistence)}function Xn(g){return G("pendingRedirect",g.config.apiKey,g.name)}function wo(){return(wo=(0,h.Z)(function*(g,c,f){const _=qt(g);Oe(g,c,qr);const b=Qn(_,f);return yield xs(b,_),b._openRedirect(_,c,"signInViaRedirect")})).apply(this,arguments)}function Mi(){return(Mi=(0,h.Z)(function*(g,c,f){const _=(0,O.m9)(g);Oe(_.auth,c,qr);const b=Qn(_.auth,f);yield xs(b,_.auth);const M=yield Re(_);return b._openRedirect(_.auth,c,"reauthViaRedirect",M)})).apply(this,arguments)}function T(){return(T=(0,h.Z)(function*(g,c,f){const _=(0,O.m9)(g);Oe(_.auth,c,qr);const b=Qn(_.auth,f);yield bt(!1,_,c.providerId),yield xs(b,_.auth);const M=yield Re(_);return b._openRedirect(_.auth,c,"linkViaRedirect",M)})).apply(this,arguments)}function z(){return(z=(0,h.Z)(function*(g,c){return yield qt(g)._initializationPromise,Y(g,c,!1)})).apply(this,arguments)}function Y(g,c){return de.apply(this,arguments)}function de(){return(de=(0,h.Z)(function*(g,c,f=!1){const _=qt(g),b=Qn(_,c),j=yield new Os(_,b,f).execute();return j&&!f&&(delete j.user._redirectEventId,yield _._persistUserIfCurrent(j.user),yield _._setRedirectUser(null,c)),j})).apply(this,arguments)}function Re(g){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,h.Z)(function*(g){const c=ho(`${g.uid}:::`);return g._redirectEventId=c,yield g.auth._setRedirectUser(g),yield g.auth._persistUserIfCurrent(g),c})).apply(this,arguments)}class ot{constructor(c){this.auth=c,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(c){this.consumers.add(c),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,c)&&(this.sendToConsumer(this.queuedRedirectEvent,c),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(c){this.consumers.delete(c)}onEvent(c){if(this.hasEventBeenHandled(c))return!1;let f=!1;return this.consumers.forEach(_=>{this.isEventForConsumer(c,_)&&(f=!0,this.sendToConsumer(c,_),this.saveEventToCache(c))}),this.hasHandledPotentialRedirect||!function wn(g){switch(g.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Yt(g);default:return!1}}(c)||(this.hasHandledPotentialRedirect=!0,f||(this.queuedRedirectEvent=c,f=!0)),f}sendToConsumer(c,f){var _;if(c.error&&!Yt(c)){const b=(null===(_=c.error.code)||void 0===_?void 0:_.split("auth/")[1])||"internal-error";f.onError(he(this.auth,b))}else f.onAuthEvent(c)}isEventForConsumer(c,f){const _=null===f.eventId||!!c.eventId&&c.eventId===f.eventId;return f.filter.includes(c.type)&&_}hasEventBeenHandled(c){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ze(c))}saveEventToCache(c){this.cachedEventUids.add(Ze(c)),this.lastProcessedEventTime=Date.now()}}function Ze(g){return[g.type,g.eventId,g.sessionId,g.tenantId].filter(c=>c).join("-")}function Yt({type:g,error:c}){return"unknown"===g&&"auth/no-auth-event"===c?.code}function fr(g){return si.apply(this,arguments)}function si(){return(si=(0,h.Z)(function*(g,c={}){return Vt(g,"GET","/v1/projects",c)})).apply(this,arguments)}const Fs=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hn=/^https?/;function Ls(){return(Ls=(0,h.Z)(function*(g){if(g.config.emulator)return;const{authorizedDomains:c}=yield fr(g);for(const f of c)try{if(ns(f))return}catch{}ve(g,"unauthorized-domain")})).apply(this,arguments)}function ns(g){const c=Ae(),{protocol:f,hostname:_}=new URL(c);if(g.startsWith("chrome-extension://")){const j=new URL(g);return""===j.hostname&&""===_?"chrome-extension:"===f&&g.replace("chrome-extension://","")===c.replace("chrome-extension://",""):"chrome-extension:"===f&&j.hostname===_}if(!hn.test(f))return!1;if(Fs.test(g))return _===g;const b=g.replace(/\./g,"\\.");return new RegExp("^(.+\\."+b+"|"+b+")$","i").test(_)}const Vs=new Lt(3e4,6e4);function Cl(){const g=ln().___jsl;if(g?.H)for(const c of Object.keys(g.H))if(g.H[c].r=g.H[c].r||[],g.H[c].L=g.H[c].L||[],g.H[c].r=[...g.H[c].L],g.CP)for(let f=0;f<g.CP.length;f++)g.CP[f]=null}let bo=null;function Pu(g){return bo=bo||function Dl(g){return new Promise((c,f)=>{var _,b,M;function j(){Cl(),gapi.load("gapi.iframes",{callback:()=>{c(gapi.iframes.getContext())},ontimeout:()=>{Cl(),f(he(g,"network-request-failed"))},timeout:Vs.get()})}if(null!==(b=null===(_=ln().gapi)||void 0===_?void 0:_.iframes)&&void 0!==b&&b.Iframe)c(gapi.iframes.getContext());else{if(null===(M=ln().gapi)||void 0===M||!M.load){const ie=ha("iframefcb");return ln()[ie]=()=>{gapi.load?j():f(he(g,"network-request-failed"))},Ss(`https://apis.google.com/js/api.js?onload=${ie}`).catch(ye=>f(ye))}j()}}).catch(c=>{throw bo=null,c})}(g),bo}const To=new Lt(5e3,15e3),Am={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ac=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wl(g){const c=g.config;L(c.authDomain,g,"auth-domain-config-required");const f=c.emulator?Gt(c,"emulator/auth/iframe"):`https://${g.config.authDomain}/__/auth/iframe`,_={apiKey:c.apiKey,appName:g.name,v:oe.SDK_VERSION},b=Ac.get(g.config.apiHost);b&&(_.eid=b);const M=g._getFrameworks();return M.length&&(_.fw=M.join(",")),`${f}?${(0,O.xO)(_).slice(1)}`}function Ao(){return Ao=(0,h.Z)(function*(g){const c=yield Pu(g),f=ln().gapi;return L(f,g,"internal-error"),c.open({where:document.body,url:wl(g),messageHandlersFilter:f.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Am,dontclear:!0},_=>new Promise(function(){var b=(0,h.Z)(function*(M,j){yield _.restyle({setHideOnLeave:!1});const ie=he(g,"network-request-failed"),ye=ln().setTimeout(()=>{j(ie)},To.get());function Ge(){ln().clearTimeout(ye),M(_)}_.ping(Ge).then(Ge,()=>{j(ie)})});return function(M,j){return b.apply(this,arguments)}}()))}),Ao.apply(this,arguments)}const Nu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ea{constructor(c){this.window=c,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ou(g,c,f,_,b,M){L(g.config.authDomain,g,"auth-domain-config-required"),L(g.config.apiKey,g,"invalid-api-key");const j={apiKey:g.config.apiKey,appName:g.name,authType:f,redirectUrl:_,v:oe.SDK_VERSION,eventId:b};if(c instanceof qr){c.setDefaultLanguage(g.languageCode),j.providerId=c.providerId||"",(0,O.xb)(c.getCustomParameters())||(j.customParameters=JSON.stringify(c.getCustomParameters()));for(const[ye,Ge]of Object.entries(M||{}))j[ye]=Ge}if(c instanceof Yr){const ye=c.getScopes().filter(Ge=>""!==Ge);ye.length>0&&(j.scopes=ye.join(","))}g.tenantId&&(j.tid=g.tenantId);const ie=j;for(const ye of Object.keys(ie))void 0===ie[ye]&&delete ie[ye];return`${function Qd({config:g}){return g.emulator?Gt(g,"emulator/auth/handler"):`https://${g.authDomain}/__/auth/handler`}(g)}?${(0,O.xO)(ie).slice(1)}`}const Pc="webStorageSupport";class Pi extends class Rc{constructor(c){this.factorId=c}_process(c,f,_){switch(f.type){case"enroll":return this._finalizeEnroll(c,f.credential,_);case"signin":return this._finalizeSignIn(c,f.credential);default:return le("unexpected MultiFactorSessionType")}}}{constructor(c){super("phone"),this.credential=c}static _fromCredential(c){return new Pi(c)}_finalizeEnroll(c,f,_){return function sa(g,c){return Vt(g,"POST","/v2/accounts/mfaEnrollment:finalize",gt(g,c))}(c,{idToken:f,displayName:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(c,f){return function fa(g,c){return Vt(g,"POST","/v2/accounts/mfaSignIn:finalize",gt(g,c))}(c,{mfaPendingCredential:f,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Al=(()=>{class g{constructor(){}static assertion(f){return Pi._fromCredential(f)}}return g.FACTOR_ID="phone",g})();var Oc="@firebase/auth",Xh="0.20.11";class Sm{constructor(c){this.auth=c,this.internalListeners=new Map}getUid(){var c;return this.assertAuthConfigured(),(null===(c=this.auth.currentUser)||void 0===c?void 0:c.uid)||null}getToken(c){var f=this;return(0,h.Z)(function*(){return f.assertAuthConfigured(),yield f.auth._initializationPromise,f.auth.currentUser?{accessToken:yield f.auth.currentUser.getIdToken(c)}:null})()}addAuthTokenListener(c){if(this.assertAuthConfigured(),this.internalListeners.has(c))return;const f=this.auth.onIdTokenChanged(_=>{var b;c((null===(b=_)||void 0===b?void 0:b.stsTokenManager.accessToken)||null)});this.internalListeners.set(c,f),this.updateProactiveRefresh()}removeAuthTokenListener(c){this.assertAuthConfigured();const f=this.internalListeners.get(c);!f||(this.internalListeners.delete(c),f(),this.updateProactiveRefresh())}assertAuthConfigured(){L(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Mo(){return window}function Bs(){return(Bs=(0,h.Z)(function*(g,c,f){var _;const{BuildInfo:b}=Mo();$(c.sessionId,"AuthEvent did not contain a session ID");const M=yield Fc(c.sessionId),j={};return It()?j.ibi=b.packageName:wt()?j.apn=b.packageName:ve(g,"operation-not-supported-in-this-environment"),b.displayName&&(j.appDisplayName=b.displayName),j.sessionId=M,Ou(g,f,c.type,void 0,null!==(_=c.eventId)&&void 0!==_?_:void 0,j)})).apply(this,arguments)}function ku(){return(ku=(0,h.Z)(function*(g){const{BuildInfo:c}=Mo(),f={};It()?f.iosBundleId=c.packageName:wt()?f.androidPackageName=c.packageName:ve(g,"operation-not-supported-in-this-environment"),yield fr(g,f)})).apply(this,arguments)}function Fu(){return(Fu=(0,h.Z)(function*(g,c,f){const{cordova:_}=Mo();let b=()=>{};try{yield new Promise((M,j)=>{let ie=null;function ye(){var Xe;M();const gn=null===(Xe=_.plugins.browsertab)||void 0===Xe?void 0:Xe.close;"function"==typeof gn&&gn(),"function"==typeof f?.close&&f.close()}function Ge(){ie||(ie=window.setTimeout(()=>{j(he(g,"redirect-cancelled-by-user"))},2e3))}function it(){"visible"===document?.visibilityState&&Ge()}c.addPassiveListener(ye),document.addEventListener("resume",Ge,!1),wt()&&document.addEventListener("visibilitychange",it,!1),b=()=>{c.removePassiveListener(ye),document.removeEventListener("resume",Ge,!1),document.removeEventListener("visibilitychange",it,!1),ie&&window.clearTimeout(ie)}})}finally{b()}})).apply(this,arguments)}function Fc(g){return Us.apply(this,arguments)}function Us(){return(Us=(0,h.Z)(function*(g){const c=Sl(g),f=yield crypto.subtle.digest("SHA-256",c);return Array.from(new Uint8Array(f)).map(b=>b.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Sl(g){if($(/[0-9a-zA-Z]+/.test(g),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(g);const c=new ArrayBuffer(g.length),f=new Uint8Array(c);for(let _=0;_<g.length;_++)f[_]=g.charCodeAt(_);return f}(0,O.Pz)("authIdTokenMaxAge"),function ep(g){(0,oe._registerComponent)(new fe.wA("auth",(c,{options:f})=>{const _=c.getProvider("app").getImmediate(),b=c.getProvider("heartbeat"),{apiKey:M,authDomain:j}=_.options;return((ie,ye)=>{L(M&&!M.includes(":"),"invalid-api-key",{appName:ie.name}),L(!j?.includes(":"),"argument-error",{appName:ie.name});const Ge={apiKey:M,authDomain:j,clientPlatform:g,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gi(g)},it=new yt(ie,ye,Ge);return function be(g,c){const f=c?.persistence||[],_=(Array.isArray(f)?f:[f]).map(te);c?.errorMap&&g._updateErrorMap(c.errorMap),g._initializeWithPersistence(_,c?.popupRedirectResolver)}(it,f),it})(_,b)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((c,f,_)=>{c.getProvider("auth-internal").initialize()})),(0,oe._registerComponent)(new fe.wA("auth-internal",c=>{const f=qt(c.getProvider("auth").getImmediate());return new Sm(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,oe.registerVersion)(Oc,Xh,function Mm(g){switch(g){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(g)),(0,oe.registerVersion)(Oc,Xh,"esm2017")}("Browser");class tf extends ot{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(c=>{this.resolveInialized=c})}addPassiveListener(c){this.passiveListeners.add(c)}removePassiveListener(c){this.passiveListeners.delete(c)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(c){return this.resolveInialized(),this.passiveListeners.forEach(f=>f(c)),super.onEvent(c)}initialized(){var c=this;return(0,h.Z)(function*(){yield c.initPromise})()}}function nf(g){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,h.Z)(function*(g){const c=yield Vu()._get(Pl(g));return c&&(yield Vu()._remove(Pl(g))),c})).apply(this,arguments)}function Lu(){const g=[],c="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let f=0;f<20;f++){const _=Math.floor(Math.random()*c.length);g.push(c.charAt(_))}return g.join("")}function Vu(){return te(uo)}function Pl(g){return G("authEvent",g.config.apiKey,g.name)}function Nl(g){if(!g?.includes("?"))return{};const[c,...f]=g.split("?");return(0,O.zd)(f.join("?"))}function Bc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:he("no-auth-event")}}function Nt(){var g;return(null===(g=self?.location)||void 0===g?void 0:g.protocol)||null}function mt(g=(0,O.z$)()){return!("file:"!==Nt()&&"ionic:"!==Nt()&&"capacitor:"!==Nt()||!g.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ia(){try{const g=self.localStorage,c=ho();if(g)return g.setItem(c,"1"),g.removeItem(c),!function cf(g=(0,O.z$)()){return function Ut(){return(0,O.w1)()&&11===document?.documentMode}()||function Uu(g=(0,O.z$)()){return/Edge\/\d+/.test(g)}(g)}()||(0,O.hl)()}catch{return Rl()&&(0,O.hl)()}return!1}function Rl(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function $t(){return(function Ft(){return"http:"===Nt()||"https:"===Nt()}()||(0,O.ru)()||mt())&&!function rs(){return(0,O.b$)()||(0,O.UG)()}()&&Ia()&&!Rl()}function vt(){return mt()&&typeof document<"u"}function Uc(){return(Uc=(0,h.Z)(function*(){return!!vt()&&new Promise(g=>{const c=setTimeout(()=>{g(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(c),g(!0)})})})).apply(this,arguments)}const Qt={LOCAL:"local",NONE:"none",SESSION:"session"},Ca=L,js="persistence";function Da(g){return $r.apply(this,arguments)}function $r(){return($r=(0,h.Z)(function*(g){yield g._initializationPromise;const c=Hs(),f=G(js,g.config.apiKey,g.name);c&&c.setItem(f,g._getPersistence())})).apply(this,arguments)}function Hs(){var g;try{return(null===(g=function Ol(){return typeof window<"u"?window:null}())||void 0===g?void 0:g.sessionStorage)||null}catch{return null}}const ju=L;class vr{constructor(){this.browserResolver=te(class Nc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Hr,this._completeRedirectFn=Y,this._overrideRedirectResult=dr}_openPopup(c,f,_,b){var M=this;return(0,h.Z)(function*(){var j;$(null===(j=M.eventManagers[c._key()])||void 0===j?void 0:j.manager,"_initialize() not called before _openPopup()");const ie=Ou(c,f,_,Ae(),b);return function Tl(g,c,f,_=500,b=600){const M=Math.max((window.screen.availHeight-b)/2,0).toString(),j=Math.max((window.screen.availWidth-_)/2,0).toString();let ie="";const ye=Object.assign(Object.assign({},Nu),{width:_.toString(),height:b.toString(),top:M,left:j}),Ge=(0,O.z$)().toLowerCase();f&&(ie=Pt(Ge)?"_blank":f),Le(Ge)&&(c=c||"http://localhost",ye.scrollbars="yes");const it=Object.entries(ye).reduce((gn,[kn,oi])=>`${gn}${kn}=${oi},`,"");if(function sr(g=(0,O.z$)()){var c;return It(g)&&!(null===(c=window.navigator)||void 0===c||!c.standalone)}(Ge)&&"_self"!==ie)return function Sc(g,c){const f=document.createElement("a");f.href=g,f.target=c;const _=document.createEvent("MouseEvent");_.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),f.dispatchEvent(_)}(c||"",ie),new Ea(null);const Xe=window.open(c||"",ie,it);L(Xe,g,"popup-blocked");try{Xe.focus()}catch{}return new Ea(Xe)}(c,ie,ho())})()}_openRedirect(c,f,_,b){var M=this;return(0,h.Z)(function*(){return yield M._originValidation(c),function Nr(g){ln().location.href=g}(Ou(c,f,_,Ae(),b)),new Promise(()=>{})})()}_initialize(c){const f=c._key();if(this.eventManagers[f]){const{manager:b,promise:M}=this.eventManagers[f];return b?Promise.resolve(b):($(M,"If manager is not set, promise should be"),M)}const _=this.initAndGetManager(c);return this.eventManagers[f]={promise:_},_.catch(()=>{delete this.eventManagers[f]}),_}initAndGetManager(c){var f=this;return(0,h.Z)(function*(){const _=yield function bl(g){return Ao.apply(this,arguments)}(c),b=new ot(c);return _.register("authEvent",M=>(L(M?.authEvent,c,"invalid-auth-event"),{status:b.onEvent(M.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),f.eventManagers[c._key()]={manager:b},f.iframes[c._key()]=_,b})()}_isIframeWebStorageSupported(c,f){this.iframes[c._key()].send(Pc,{type:Pc},b=>{var M;const j=null===(M=b?.[0])||void 0===M?void 0:M[Pc];void 0!==j&&f(!!j),ve(c,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(c){const f=c._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function ya(g){return Ls.apply(this,arguments)}(c)),this.originValidationPromises[f]}get _shouldInitProactively(){return Ui()||Je()||It()}}),this.cordovaResolver=te(class of{constructor(){this._redirectPersistence=Hr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Y,this._overrideRedirectResult=dr}_initialize(c){var f=this;return(0,h.Z)(function*(){const _=c._key();let b=f.eventManagers.get(_);return b||(b=new tf(c),f.eventManagers.set(_,b),f.attachCallbackListeners(c,b)),b})()}_openPopup(c){ve(c,"operation-not-supported-in-this-environment")}_openRedirect(c,f,_,b){var M=this;return(0,h.Z)(function*(){!function Nm(g){var c,f,_,b,M,j,ie,ye,Ge,it;const Xe=Mo();L("function"==typeof(null===(c=Xe?.universalLinks)||void 0===c?void 0:c.subscribe),g,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),L(typeof(null===(f=Xe?.BuildInfo)||void 0===f?void 0:f.packageName)<"u",g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),L("function"==typeof(null===(M=null===(b=null===(_=Xe?.cordova)||void 0===_?void 0:_.plugins)||void 0===b?void 0:b.browsertab)||void 0===M?void 0:M.openUrl),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),L("function"==typeof(null===(ye=null===(ie=null===(j=Xe?.cordova)||void 0===j?void 0:j.plugins)||void 0===ie?void 0:ie.browsertab)||void 0===ye?void 0:ye.isAvailable),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),L("function"==typeof(null===(it=null===(Ge=Xe?.cordova)||void 0===Ge?void 0:Ge.InAppBrowser)||void 0===it?void 0:it.open),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(c);const j=yield M._initialize(c);yield j.initialized(),j.resetRedirect(),function Mu(){R.clear()}(),yield M._originValidation(c);const ie=function ip(g,c,f=null){return{type:c,eventId:f,urlResponse:null,sessionId:Lu(),postBody:null,tenantId:g.tenantId,error:he(g,"no-auth-event")}}(c,_,b);yield function sp(g,c){return Vu()._set(Pl(g),c)}(c,ie);const ye=yield function Ni(g,c,f){return Bs.apply(this,arguments)}(c,ie,f),Ge=yield function ef(g){const{cordova:c}=Mo();return new Promise(f=>{c.plugins.browsertab.isAvailable(_=>{let b=null;_?c.plugins.browsertab.openUrl(g):b=c.InAppBrowser.open(g,function Sn(g=(0,O.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(g)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(g)}()?"_blank":"_system","location=yes"),f(b)})})}(ye);return function Po(g,c,f){return Fu.apply(this,arguments)}(c,j,Ge)})()}_isIframeWebStorageSupported(c,f){throw new Error("Method not implemented.")}_originValidation(c){const f=c._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function Xd(g){return ku.apply(this,arguments)}(c)),this.originValidationPromises[f]}attachCallbackListeners(c,f){const{universalLinks:_,handleOpenURL:b,BuildInfo:M}=Mo(),j=setTimeout((0,h.Z)(function*(){yield nf(c),f.onEvent(Bc())}),500),ie=function(){var it=(0,h.Z)(function*(Xe){clearTimeout(j);const gn=yield nf(c);let kn=null;gn&&Xe?.url&&(kn=function Lc(g,c){var f,_;const b=function pn(g){const c=Nl(g),f=c.link?decodeURIComponent(c.link):void 0,_=Nl(f).link,b=c.deep_link_id?decodeURIComponent(c.deep_link_id):void 0;return Nl(b).link||b||_||f||g}(c);if(b.includes("/__/auth/callback")){const M=Nl(b),j=M.firebaseError?function rf(g){try{return JSON.parse(g)}catch{return null}}(decodeURIComponent(M.firebaseError)):null,ie=null===(_=null===(f=j?.code)||void 0===f?void 0:f.split("auth/"))||void 0===_?void 0:_[1],ye=ie?he(ie):null;return ye?{type:g.type,eventId:g.eventId,tenantId:g.tenantId,error:ye,urlResponse:null,sessionId:null,postBody:null}:{type:g.type,eventId:g.eventId,tenantId:g.tenantId,sessionId:g.sessionId,urlResponse:b,postBody:null}}return null}(gn,Xe.url)),f.onEvent(kn||Bc())});return function(gn){return it.apply(this,arguments)}}();typeof _<"u"&&"function"==typeof _.subscribe&&_.subscribe(null,ie);const ye=b,Ge=`${M.packageName.toLowerCase()}://`;Mo().handleOpenURL=function(){var it=(0,h.Z)(function*(Xe){if(Xe.toLowerCase().startsWith(Ge)&&ie({url:Xe}),"function"==typeof ye)try{ye(Xe)}catch(gn){console.error(gn)}});return function(Xe){return it.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Hr,this._completeRedirectFn=Y,this._overrideRedirectResult=dr}_initialize(c){var f=this;return(0,h.Z)(function*(){return yield f.selectUnderlyingResolver(),f.assertedUnderlyingResolver._initialize(c)})()}_openPopup(c,f,_,b){var M=this;return(0,h.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openPopup(c,f,_,b)})()}_openRedirect(c,f,_,b){var M=this;return(0,h.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openRedirect(c,f,_,b)})()}_isIframeWebStorageSupported(c,f){this.assertedUnderlyingResolver._isIframeWebStorageSupported(c,f)}_originValidation(c){return this.assertedUnderlyingResolver._originValidation(c)}get _shouldInitProactively(){return vt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ju(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var c=this;return(0,h.Z)(function*(){if(c.underlyingResolver)return;const f=yield function yr(){return Uc.apply(this,arguments)}();c.underlyingResolver=f?c.cordovaResolver:c.browserResolver})()}}function Hc(g){return g.unwrap()}function ap(g){return is(g)}function is(g){const{_tokenResponse:c}=g instanceof O.ZR?g.customData:g;if(!c)return null;if(!(g instanceof O.ZR)&&"temporaryProof"in c&&"phoneNumber"in c)return jn.credentialFromResult(g);const f=c.providerId;if(!f||"password"===f)return null;let _;switch(f){case"google.com":_=Ho;break;case"facebook.com":_=eo;break;case"github.com":_=qa;break;case"twitter.com":_=or;break;default:const{oauthIdToken:b,oauthAccessToken:M,oauthTokenSecret:j,pendingToken:ie,nonce:ye}=c;return M||j||b||ie?ie?f.startsWith("saml.")?Qr._create(f,ie):Zr._fromParams({providerId:f,signInMethod:f,pendingToken:ie,idToken:b,accessToken:M}):new $i(f).credential({idToken:b,accessToken:M,rawNonce:ye}):null}return g instanceof O.ZR?_.credentialFromError(g):_.credentialFromResult(g)}function tt(g,c){return c.catch(f=>{throw f instanceof O.ZR&&function df(g,c){var f,_;const b=null===(f=c.customData)||void 0===f?void 0:f._tokenResponse;if("auth/multi-factor-auth-required"===(null===(_=c)||void 0===_?void 0:_.code))c.resolver=new ff(g,function rn(g,c){var f;const _=(0,O.m9)(g),b=c;return L(c.customData.operationType,_,"argument-error"),L(null===(f=b.customData._serverResponse)||void 0===f?void 0:f.mfaPendingCredential,_,"argument-error"),ra._fromError(_,b)}(g,c));else if(b){const M=is(c),j=c;M&&(j.credential=M,j.tenantId=b.tenantId||void 0,j.email=b.email||void 0,j.phoneNumber=b.phoneNumber||void 0)}}(g,f),f}).then(f=>{const b=f.user;return{operationType:f.operationType,credential:ap(f),additionalUserInfo:ta(f),user:xn.getOrCreate(b)}})}function wa(g,c){return ba.apply(this,arguments)}function ba(){return(ba=(0,h.Z)(function*(g,c){const f=yield c;return{verificationId:f.verificationId,confirm:_=>tt(g,f.confirm(_))}})).apply(this,arguments)}class ff{constructor(c,f){this.resolver=f,this.auth=function $c(g){return g.wrapped()}(c)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(c){return tt(Hc(this.auth),this.resolver.resolveSignIn(c))}}class xn{constructor(c){this._delegate=c,this.multiFactor=function ws(g){const c=(0,O.m9)(g);return Ds.has(c)||Ds.set(c,wc._fromUser(c)),Ds.get(c)}(c)}static getOrCreate(c){return xn.USER_MAP.has(c)||xn.USER_MAP.set(c,new xn(c)),xn.USER_MAP.get(c)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(c){return this._delegate.getIdTokenResult(c)}getIdToken(c){return this._delegate.getIdToken(c)}linkAndRetrieveDataWithCredential(c){return this.linkWithCredential(c)}linkWithCredential(c){var f=this;return(0,h.Z)(function*(){return tt(f.auth,Ko(f._delegate,c))})()}linkWithPhoneNumber(c,f){var _=this;return(0,h.Z)(function*(){return wa(_.auth,function Un(g,c,f){return Yn.apply(this,arguments)}(_._delegate,c,f))})()}linkWithPopup(c){var f=this;return(0,h.Z)(function*(){return tt(f.auth,function Il(g,c,f){return cr.apply(this,arguments)}(f._delegate,c,vr))})()}linkWithRedirect(c){var f=this;return(0,h.Z)(function*(){return yield Da(qt(f.auth)),function I(g,c,f){return function C(g,c,f){return T.apply(this,arguments)}(g,c,f)}(f._delegate,c,vr)})()}reauthenticateAndRetrieveDataWithCredential(c){return this.reauthenticateWithCredential(c)}reauthenticateWithCredential(c){var f=this;return(0,h.Z)(function*(){return tt(f.auth,Zo(f._delegate,c))})()}reauthenticateWithPhoneNumber(c,f){return wa(this.auth,function Ns(g,c,f){return Ai.apply(this,arguments)}(this._delegate,c,f))}reauthenticateWithPopup(c){return tt(this.auth,function ur(g,c,f){return ga.apply(this,arguments)}(this._delegate,c,vr))}reauthenticateWithRedirect(c){var f=this;return(0,h.Z)(function*(){return yield Da(qt(f.auth)),function _a(g,c,f){return function ii(g,c,f){return Mi.apply(this,arguments)}(g,c,f)}(f._delegate,c,vr)})()}sendEmailVerification(c){return function sl(g,c){return ao.apply(this,arguments)}(this._delegate,c)}unlink(c){var f=this;return(0,h.Z)(function*(){return yield function qn(g,c){return $o.apply(this,arguments)}(f._delegate,c),f})()}updateEmail(c){return function _u(g,c){return Ki((0,O.m9)(g),c,null)}(this._delegate,c)}updatePassword(c){return function zi(g,c){return Ki((0,O.m9)(g),null,c)}(this._delegate,c)}updatePhoneNumber(c){return function Au(g,c){return Rr.apply(this,arguments)}(this._delegate,c)}updateProfile(c){return function ll(g,c){return ul.apply(this,arguments)}(this._delegate,c)}verifyBeforeUpdateEmail(c,f){return function ol(g,c,f){return Jo.apply(this,arguments)}(this._delegate,c,f)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}xn.USER_MAP=new WeakMap;const Ri=L;let Wr=(()=>{class g{constructor(f,_){if(this.app=f,_.isInitialized())return this._delegate=_.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:b}=f.options;Ri(b,"invalid-api-key",{appName:f.name}),Ri(b,"invalid-api-key",{appName:f.name});const M=typeof window<"u"?vr:void 0;this._delegate=_.initialize({options:{persistence:Er(b,f.name),popupRedirectResolver:M}}),this._delegate._updateErrorMap(Te),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?xn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(f){this._delegate.languageCode=f}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(f){this._delegate.tenantId=f}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(f,_){!function Lo(g,c,f){const _=qt(g);L(_._canInitEmulator,_,"emulator-config-failed"),L(/^https?:\/\//.test(c),_,"invalid-emulator-scheme");const b=!!f?.disableWarnings,M=Br(c),{host:j,port:ie}=function cn(g){const c=Br(g),f=/(\/\/)?([^?#/]+)/.exec(g.substr(c.length));if(!f)return{host:"",port:null};const _=f[2].split("@").pop()||"",b=/^(\[[^\]]+\])(:|$)/.exec(_);if(b){const M=b[1];return{host:M,port:mi(_.substr(M.length+1))}}{const[M,j]=_.split(":");return{host:M,port:mi(j)}}}(c);_.config.emulator={url:`${M}//${j}${null===ie?"":`:${ie}`}/`},_.settings.appVerificationDisabledForTesting=!0,_.emulatorConfig=Object.freeze({host:j,port:ie,protocol:M.replace(":",""),options:Object.freeze({disableWarnings:b})}),b||function _i(){function g(){const c=document.createElement("p"),f=c.style;c.innerText="Running in emulator mode. Do not use with production credentials.",f.position="fixed",f.width="100%",f.backgroundColor="#ffffff",f.border=".1em solid #000000",f.color="#b50000",f.bottom="0px",f.left="0px",f.margin="0px",f.zIndex="10000",f.textAlign="center",c.classList.add("firebase-emulator-warning"),document.body.appendChild(c)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",g):g())}()}(this._delegate,f,_)}applyActionCode(f){return function _r(g,c){return no.apply(this,arguments)}(this._delegate,f)}checkActionCode(f){return ro(this._delegate,f)}confirmPasswordReset(f,_){return function Yo(g,c,f){return Es.apply(this,arguments)}(this._delegate,f,_)}createUserWithEmailAndPassword(f,_){var b=this;return(0,h.Z)(function*(){return tt(b._delegate,function io(g,c,f){return nn.apply(this,arguments)}(b._delegate,f,_))})()}fetchProvidersForEmail(f){return this.fetchSignInMethodsForEmail(f)}fetchSignInMethodsForEmail(f){return function Qo(g,c){return oo.apply(this,arguments)}(this._delegate,f)}isSignInWithEmailLink(f){return function ti(g,c){return"EMAIL_SIGNIN"===jo.parseLink(c)?.operation}(0,f)}getRedirectResult(){var f=this;return(0,h.Z)(function*(){Ri($t(),f._delegate,"operation-not-supported-in-this-environment");const _=yield function x(g,c){return z.apply(this,arguments)}(f._delegate,vr);return _?tt(f._delegate,Promise.resolve(_)):{credential:null,user:null}})()}addFrameworkForLogging(f){!function af(g,c){qt(g)._logFramework(c)}(this._delegate,f)}onAuthStateChanged(f,_,b){const{next:M,error:j,complete:ie}=Wc(f,_,b);return this._delegate.onAuthStateChanged(M,j,ie)}onIdTokenChanged(f,_,b){const{next:M,error:j,complete:ie}=Wc(f,_,b);return this._delegate.onIdTokenChanged(M,j,ie)}sendSignInLinkToEmail(f,_){return function rl(g,c,f){return Gi.apply(this,arguments)}(this._delegate,f,_)}sendPasswordResetEmail(f,_){return function el(g,c,f){return tn.apply(this,arguments)}(this._delegate,f,_||void 0)}setPersistence(f){var _=this;return(0,h.Z)(function*(){let b;switch(function op(g,c){Ca(Object.values(Qt).includes(c),g,"invalid-persistence-type"),(0,O.b$)()?Ca(c!==Qt.SESSION,g,"unsupported-persistence-type"):(0,O.UG)()?Ca(c===Qt.NONE,g,"unsupported-persistence-type"):Rl()?Ca(c===Qt.NONE||c===Qt.LOCAL&&(0,O.hl)(),g,"unsupported-persistence-type"):Ca(c===Qt.NONE||Ia(),g,"unsupported-persistence-type")}(_._delegate,f),f){case Qt.SESSION:b=Hr;break;case Qt.LOCAL:b=(yield te(bs)._isAvailable())?bs:uo;break;case Qt.NONE:b=F;break;default:return ve("argument-error",{appName:_._delegate.name})}return _._delegate.setPersistence(b)})()}signInAndRetrieveDataWithCredential(f){return this.signInWithCredential(f)}signInAnonymously(){return tt(this._delegate,function Ic(g){return en.apply(this,arguments)}(this._delegate))}signInWithCredential(f){return tt(this._delegate,Jt(this._delegate,f))}signInWithCustomToken(f){return tt(this._delegate,function Ja(g,c){return to.apply(this,arguments)}(this._delegate,f))}signInWithEmailAndPassword(f,_){return tt(this._delegate,function jr(g,c,f){return Jt((0,O.m9)(g),Ur.credential(c,f))}(this._delegate,f,_))}signInWithEmailLink(f,_){return tt(this._delegate,function Gd(g,c,f){return so.apply(this,arguments)}(this._delegate,f,_))}signInWithPhoneNumber(f,_){return wa(this._delegate,function Tc(g,c,f){return ts.apply(this,arguments)}(this._delegate,f,_))}signInWithPopup(f){var _=this;return(0,h.Z)(function*(){return Ri($t(),_._delegate,"operation-not-supported-in-this-environment"),tt(_._delegate,function El(g,c,f){return Hn.apply(this,arguments)}(_._delegate,f,vr))})()}signInWithRedirect(f){var _=this;return(0,h.Z)(function*(){return Ri($t(),_._delegate,"operation-not-supported-in-this-environment"),yield Da(_._delegate),function sn(g,c,f){return function ks(g,c,f){return wo.apply(this,arguments)}(g,c,f)}(_._delegate,f,vr)})()}updateCurrentUser(f){return this._delegate.updateCurrentUser(f)}verifyPasswordResetCode(f){return function nl(g,c){return mu.apply(this,arguments)}(this._delegate,f)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return g.Persistence=Qt,g})();function Wc(g,c,f){let _=g;"function"!=typeof g&&({next:_,error:c,complete:f}=g);const b=_;return{next:j=>b(j&&xn.getOrCreate(j)),error:c,complete:f}}function Er(g,c){const f=function jc(g,c){const f=Hs();if(!f)return[];const _=G(js,g,c);switch(f.getItem(_)){case Qt.NONE:return[F];case Qt.LOCAL:return[bs,Hr];case Qt.SESSION:return[Hr];default:return[]}}(g,c);if(typeof self<"u"&&!f.includes(bs)&&f.push(bs),typeof window<"u")for(const _ of[uo,Hr])f.includes(_)||f.push(_);return f.includes(F)||f.push(F),f}class Hu{constructor(){this.providerId="phone",this._delegate=new jn(Hc(J.Z.auth()))}static credential(c,f){return jn.credential(c,f)}verifyPhoneNumber(c,f){return this._delegate.verifyPhoneNumber(c,f)}unwrap(){return this._delegate}}Hu.PHONE_SIGN_IN_METHOD=jn.PHONE_SIGN_IN_METHOD,Hu.PROVIDER_ID=jn.PROVIDER_ID;const hf=L;class Gc{constructor(c,f,_=J.Z.app()){var b;hf(null===(b=_.options)||void 0===b?void 0:b.apiKey,"invalid-api-key",{appName:_.name}),this._delegate=new Nn(c,f,_.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function pf(g){g.INTERNAL.registerComponent(new fe.wA("auth-compat",c=>{const f=c.getProvider("app-compat").getImmediate(),_=c.getProvider("auth");return new Wr(f,_)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Ur,FacebookAuthProvider:eo,GithubAuthProvider:qa,GoogleAuthProvider:Ho,OAuthProvider:$i,SAMLAuthProvider:gr,PhoneAuthProvider:Hu,PhoneMultiFactorGenerator:Al,RecaptchaVerifier:Gc,TwitterAuthProvider:or,Auth:Wr,AuthCredential:On,Error:O.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),g.registerVersion("@firebase/auth-compat","0.2.24")}(J.Z)},8306:(nt,we,k)=>{k.d(we,{y:()=>H});var h=k(930),J=k(727),O=k(8822),oe=k(4671);var fe=k(2416),ue=k(576),_e=k(2806);let H=(()=>{class Se{constructor(Ne){Ne&&(this._subscribe=Ne)}lift(Ne){const ae=new Se;return ae.source=this,ae.operator=Ne,ae}subscribe(Ne,ae,se){const Fe=function je(Se){return Se&&Se instanceof h.Lv||function X(Se){return Se&&(0,ue.m)(Se.next)&&(0,ue.m)(Se.error)&&(0,ue.m)(Se.complete)}(Se)&&(0,J.Nn)(Se)}(Ne)?Ne:new h.Hp(Ne,ae,se);return(0,_e.x)(()=>{const{operator:We,source:ve}=this;Fe.add(We?We.call(Fe,ve):ve?this._subscribe(Fe):this._trySubscribe(Fe))}),Fe}_trySubscribe(Ne){try{return this._subscribe(Ne)}catch(ae){Ne.error(ae)}}forEach(Ne,ae){return new(ae=B(ae))((se,Fe)=>{const We=new h.Hp({next:ve=>{try{Ne(ve)}catch(he){Fe(he),We.unsubscribe()}},error:Fe,complete:se});this.subscribe(We)})}_subscribe(Ne){var ae;return null===(ae=this.source)||void 0===ae?void 0:ae.subscribe(Ne)}[O.L](){return this}pipe(...Ne){return function ce(Se){return 0===Se.length?oe.y:1===Se.length?Se[0]:function(Ne){return Se.reduce((ae,se)=>se(ae),Ne)}}(Ne)(this)}toPromise(Ne){return new(Ne=B(Ne))((ae,se)=>{let Fe;this.subscribe(We=>Fe=We,We=>se(We),()=>ae(Fe))})}}return Se.create=Te=>new Se(Te),Se})();function B(Se){var Te;return null!==(Te=Se??fe.v.Promise)&&void 0!==Te?Te:Promise}},7579:(nt,we,k)=>{k.d(we,{x:()=>fe});var h=k(8306),J=k(727);const oe=(0,k(3888).d)(_e=>function(){_e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var re=k(8737),ce=k(2806);let fe=(()=>{class _e extends h.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(B){const X=new ue(this,this);return X.operator=B,X}_throwIfClosed(){if(this.closed)throw new oe}next(B){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const X of this.currentObservers)X.next(B)}})}error(B){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=B;const{observers:X}=this;for(;X.length;)X.shift().error(B)}})}complete(){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:B}=this;for(;B.length;)B.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var B;return(null===(B=this.observers)||void 0===B?void 0:B.length)>0}_trySubscribe(B){return this._throwIfClosed(),super._trySubscribe(B)}_subscribe(B){return this._throwIfClosed(),this._checkFinalizedStatuses(B),this._innerSubscribe(B)}_innerSubscribe(B){const{hasError:X,isStopped:je,observers:Se}=this;return X||je?J.Lc:(this.currentObservers=null,Se.push(B),new J.w0(()=>{this.currentObservers=null,(0,re.P)(Se,B)}))}_checkFinalizedStatuses(B){const{hasError:X,thrownError:je,isStopped:Se}=this;X?B.error(je):Se&&B.complete()}asObservable(){const B=new h.y;return B.source=this,B}}return _e.create=(H,B)=>new ue(H,B),_e})();class ue extends fe{constructor(H,B){super(),this.destination=H,this.source=B}next(H){var B,X;null===(X=null===(B=this.destination)||void 0===B?void 0:B.next)||void 0===X||X.call(B,H)}error(H){var B,X;null===(X=null===(B=this.destination)||void 0===B?void 0:B.error)||void 0===X||X.call(B,H)}complete(){var H,B;null===(B=null===(H=this.destination)||void 0===H?void 0:H.complete)||void 0===B||B.call(H)}_subscribe(H){var B,X;return null!==(X=null===(B=this.source)||void 0===B?void 0:B.subscribe(H))&&void 0!==X?X:J.Lc}}},930:(nt,we,k)=>{k.d(we,{Hp:()=>Ne,Lv:()=>X});var h=k(576),J=k(727),O=k(2416),oe=k(7849),re=k(5032);const ce=_e("C",void 0,void 0);function _e(ve,he,me){return{kind:ve,value:he,error:me}}var H=k(3410),B=k(2806);class X extends J.w0{constructor(he){super(),this.isStopped=!1,he?(this.destination=he,(0,J.Nn)(he)&&he.add(this)):this.destination=We}static create(he,me,Oe){return new Ne(he,me,Oe)}next(he){this.isStopped?Fe(function ue(ve){return _e("N",ve,void 0)}(he),this):this._next(he)}error(he){this.isStopped?Fe(function fe(ve){return _e("E",void 0,ve)}(he),this):(this.isStopped=!0,this._error(he))}complete(){this.isStopped?Fe(ce,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(he){this.destination.next(he)}_error(he){try{this.destination.error(he)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const je=Function.prototype.bind;function Se(ve,he){return je.call(ve,he)}class Te{constructor(he){this.partialObserver=he}next(he){const{partialObserver:me}=this;if(me.next)try{me.next(he)}catch(Oe){ae(Oe)}}error(he){const{partialObserver:me}=this;if(me.error)try{me.error(he)}catch(Oe){ae(Oe)}else ae(he)}complete(){const{partialObserver:he}=this;if(he.complete)try{he.complete()}catch(me){ae(me)}}}class Ne extends X{constructor(he,me,Oe){let xe;if(super(),(0,h.m)(he)||!he)xe={next:he??void 0,error:me??void 0,complete:Oe??void 0};else{let L;this&&O.v.useDeprecatedNextContext?(L=Object.create(he),L.unsubscribe=()=>this.unsubscribe(),xe={next:he.next&&Se(he.next,L),error:he.error&&Se(he.error,L),complete:he.complete&&Se(he.complete,L)}):xe=he}this.destination=new Te(xe)}}function ae(ve){O.v.useDeprecatedSynchronousErrorHandling?(0,B.O)(ve):(0,oe.h)(ve)}function Fe(ve,he){const{onStoppedNotification:me}=O.v;me&&H.z.setTimeout(()=>me(ve,he))}const We={closed:!0,next:re.Z,error:function se(ve){throw ve},complete:re.Z}},727:(nt,we,k)=>{k.d(we,{Lc:()=>ce,w0:()=>re,Nn:()=>fe});var h=k(576);const O=(0,k(3888).d)(_e=>function(B){_e(this),this.message=B?`${B.length} errors occurred during unsubscription:\n${B.map((X,je)=>`${je+1}) ${X.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=B});var oe=k(8737);class re{constructor(H){this.initialTeardown=H,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let H;if(!this.closed){this.closed=!0;const{_parentage:B}=this;if(B)if(this._parentage=null,Array.isArray(B))for(const Se of B)Se.remove(this);else B.remove(this);const{initialTeardown:X}=this;if((0,h.m)(X))try{X()}catch(Se){H=Se instanceof O?Se.errors:[Se]}const{_finalizers:je}=this;if(je){this._finalizers=null;for(const Se of je)try{ue(Se)}catch(Te){H=H??[],Te instanceof O?H=[...H,...Te.errors]:H.push(Te)}}if(H)throw new O(H)}}add(H){var B;if(H&&H!==this)if(this.closed)ue(H);else{if(H instanceof re){if(H.closed||H._hasParent(this))return;H._addParent(this)}(this._finalizers=null!==(B=this._finalizers)&&void 0!==B?B:[]).push(H)}}_hasParent(H){const{_parentage:B}=this;return B===H||Array.isArray(B)&&B.includes(H)}_addParent(H){const{_parentage:B}=this;this._parentage=Array.isArray(B)?(B.push(H),B):B?[B,H]:H}_removeParent(H){const{_parentage:B}=this;B===H?this._parentage=null:Array.isArray(B)&&(0,oe.P)(B,H)}remove(H){const{_finalizers:B}=this;B&&(0,oe.P)(B,H),H instanceof re&&H._removeParent(this)}}re.EMPTY=(()=>{const _e=new re;return _e.closed=!0,_e})();const ce=re.EMPTY;function fe(_e){return _e instanceof re||_e&&"closed"in _e&&(0,h.m)(_e.remove)&&(0,h.m)(_e.add)&&(0,h.m)(_e.unsubscribe)}function ue(_e){(0,h.m)(_e)?_e():_e.unsubscribe()}},2416:(nt,we,k)=>{k.d(we,{v:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(nt,we,k)=>{k.d(we,{E:()=>J});const J=new(k(8306).y)(re=>re.complete())},8996:(nt,we,k)=>{k.d(we,{D:()=>he});var h=k(8421),J=k(5363),O=k(9468),ce=k(8306),ue=k(2202),_e=k(576),H=k(9672);function X(me,Oe){if(!me)throw new Error("Iterable cannot be null");return new ce.y(xe=>{(0,H.f)(xe,Oe,()=>{const L=me[Symbol.asyncIterator]();(0,H.f)(xe,Oe,()=>{L.next().then(le=>{le.done?xe.complete():xe.next(le.value)})},0,!0)})})}var je=k(3670),Se=k(8239),Te=k(1144),Ne=k(6495),ae=k(2206),se=k(4532),Fe=k(3260);function he(me,Oe){return Oe?function ve(me,Oe){if(null!=me){if((0,je.c)(me))return function oe(me,Oe){return(0,h.Xf)(me).pipe((0,O.R)(Oe),(0,J.Q)(Oe))}(me,Oe);if((0,Te.z)(me))return function fe(me,Oe){return new ce.y(xe=>{let L=0;return Oe.schedule(function(){L===me.length?xe.complete():(xe.next(me[L++]),xe.closed||this.schedule())})})}(me,Oe);if((0,Se.t)(me))return function re(me,Oe){return(0,h.Xf)(me).pipe((0,O.R)(Oe),(0,J.Q)(Oe))}(me,Oe);if((0,ae.D)(me))return X(me,Oe);if((0,Ne.T)(me))return function B(me,Oe){return new ce.y(xe=>{let L;return(0,H.f)(xe,Oe,()=>{L=me[ue.h](),(0,H.f)(xe,Oe,()=>{let le,$;try{({value:le,done:$}=L.next())}catch(q){return void xe.error(q)}$?xe.complete():xe.next(le)},0,!0)}),()=>(0,_e.m)(L?.return)&&L.return()})}(me,Oe);if((0,Fe.L)(me))return function We(me,Oe){return X((0,Fe.Q)(me),Oe)}(me,Oe)}throw(0,se.z)(me)}(me,Oe):(0,h.Xf)(me)}},8421:(nt,we,k)=>{k.d(we,{Xf:()=>je});var h=k(655),J=k(1144),O=k(8239),oe=k(8306),re=k(3670),ce=k(2206),fe=k(4532),ue=k(6495),_e=k(3260),H=k(576),B=k(7849),X=k(8822);function je(ve){if(ve instanceof oe.y)return ve;if(null!=ve){if((0,re.c)(ve))return function Se(ve){return new oe.y(he=>{const me=ve[X.L]();if((0,H.m)(me.subscribe))return me.subscribe(he);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ve);if((0,J.z)(ve))return function Te(ve){return new oe.y(he=>{for(let me=0;me<ve.length&&!he.closed;me++)he.next(ve[me]);he.complete()})}(ve);if((0,O.t)(ve))return function Ne(ve){return new oe.y(he=>{ve.then(me=>{he.closed||(he.next(me),he.complete())},me=>he.error(me)).then(null,B.h)})}(ve);if((0,ce.D)(ve))return se(ve);if((0,ue.T)(ve))return function ae(ve){return new oe.y(he=>{for(const me of ve)if(he.next(me),he.closed)return;he.complete()})}(ve);if((0,_e.L)(ve))return function Fe(ve){return se((0,_e.Q)(ve))}(ve)}throw(0,fe.z)(ve)}function se(ve){return new oe.y(he=>{(function We(ve,he){var me,Oe,xe,L;return(0,h.mG)(this,void 0,void 0,function*(){try{for(me=(0,h.KL)(ve);!(Oe=yield me.next()).done;)if(he.next(Oe.value),he.closed)return}catch(le){xe={error:le}}finally{try{Oe&&!Oe.done&&(L=me.return)&&(yield L.call(me))}finally{if(xe)throw xe.error}}he.complete()})})(ve,he).catch(me=>he.error(me))})}},831:(nt,we,k)=>{k.d(we,{T:()=>Se});var h=k(4004),J=k(8421),O=k(4482),oe=k(9672),re=k(5403),fe=k(576);function ue(Te,Ne,ae=1/0){return(0,fe.m)(Ne)?ue((se,Fe)=>(0,h.U)((We,ve)=>Ne(se,We,Fe,ve))((0,J.Xf)(Te(se,Fe))),ae):("number"==typeof Ne&&(ae=Ne),(0,O.e)((se,Fe)=>function ce(Te,Ne,ae,se,Fe,We,ve,he){const me=[];let Oe=0,xe=0,L=!1;const le=()=>{L&&!me.length&&!Oe&&Ne.complete()},$=te=>Oe<se?q(te):me.push(te),q=te=>{We&&Ne.next(te),Oe++;let ee=!1;(0,J.Xf)(ae(te,xe++)).subscribe((0,re.x)(Ne,be=>{Fe?.(be),We?$(be):Ne.next(be)},()=>{ee=!0},void 0,()=>{if(ee)try{for(Oe--;me.length&&Oe<se;){const be=me.shift();ve?(0,oe.f)(Ne,ve,()=>q(be)):q(be)}le()}catch(be){Ne.error(be)}}))};return Te.subscribe((0,re.x)(Ne,$,()=>{L=!0,le()})),()=>{he?.()}}(se,Fe,Te,ae)))}var _e=k(4671),B=k(515),X=k(7669),je=k(8996);function Se(...Te){const Ne=(0,X.yG)(Te),ae=(0,X._6)(Te,1/0),se=Te;return se.length?1===se.length?(0,J.Xf)(se[0]):function H(Te=1/0){return ue(_e.y,Te)}(ae)((0,je.D)(se,Ne)):B.E}},5403:(nt,we,k)=>{k.d(we,{x:()=>J});var h=k(930);function J(oe,re,ce,fe,ue){return new O(oe,re,ce,fe,ue)}class O extends h.Lv{constructor(re,ce,fe,ue,_e,H){super(re),this.onFinalize=_e,this.shouldUnsubscribe=H,this._next=ce?function(B){try{ce(B)}catch(X){re.error(X)}}:super._next,this._error=ue?function(B){try{ue(B)}catch(X){re.error(X)}finally{this.unsubscribe()}}:super._error,this._complete=fe?function(){try{fe()}catch(B){re.error(B)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var re;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ce}=this;super.unsubscribe(),!ce&&(null===(re=this.onFinalize)||void 0===re||re.call(this))}}}},4004:(nt,we,k)=>{k.d(we,{U:()=>O});var h=k(4482),J=k(5403);function O(oe,re){return(0,h.e)((ce,fe)=>{let ue=0;ce.subscribe((0,J.x)(fe,_e=>{fe.next(oe.call(re,_e,ue++))}))})}},5363:(nt,we,k)=>{k.d(we,{Q:()=>oe});var h=k(9672),J=k(4482),O=k(5403);function oe(re,ce=0){return(0,J.e)((fe,ue)=>{fe.subscribe((0,O.x)(ue,_e=>(0,h.f)(ue,re,()=>ue.next(_e),ce),()=>(0,h.f)(ue,re,()=>ue.complete(),ce),_e=>(0,h.f)(ue,re,()=>ue.error(_e),ce)))})}},3099:(nt,we,k)=>{k.d(we,{B:()=>re});var h=k(8421),J=k(7579),O=k(930),oe=k(4482);function re(fe={}){const{connector:ue=(()=>new J.x),resetOnError:_e=!0,resetOnComplete:H=!0,resetOnRefCountZero:B=!0}=fe;return X=>{let je,Se,Te,Ne=0,ae=!1,se=!1;const Fe=()=>{Se?.unsubscribe(),Se=void 0},We=()=>{Fe(),je=Te=void 0,ae=se=!1},ve=()=>{const he=je;We(),he?.unsubscribe()};return(0,oe.e)((he,me)=>{Ne++,!se&&!ae&&Fe();const Oe=Te=Te??ue();me.add(()=>{Ne--,0===Ne&&!se&&!ae&&(Se=ce(ve,B))}),Oe.subscribe(me),!je&&Ne>0&&(je=new O.Hp({next:xe=>Oe.next(xe),error:xe=>{se=!0,Fe(),Se=ce(We,_e,xe),Oe.error(xe)},complete:()=>{ae=!0,Fe(),Se=ce(We,H),Oe.complete()}}),(0,h.Xf)(he).subscribe(je))})(X)}}function ce(fe,ue,..._e){if(!0===ue)return void fe();if(!1===ue)return;const H=new O.Hp({next:()=>{H.unsubscribe(),fe()}});return ue(..._e).subscribe(H)}},9468:(nt,we,k)=>{k.d(we,{R:()=>J});var h=k(4482);function J(O,oe=0){return(0,h.e)((re,ce)=>{ce.add(O.schedule(()=>re.subscribe(ce),oe))})}},4408:(nt,we,k)=>{k.d(we,{o:()=>re});var h=k(727);class J extends h.w0{constructor(fe,ue){super()}schedule(fe,ue=0){return this}}const O={setInterval(ce,fe,...ue){const{delegate:_e}=O;return _e?.setInterval?_e.setInterval(ce,fe,...ue):setInterval(ce,fe,...ue)},clearInterval(ce){const{delegate:fe}=O;return(fe?.clearInterval||clearInterval)(ce)},delegate:void 0};var oe=k(8737);class re extends J{constructor(fe,ue){super(fe,ue),this.scheduler=fe,this.work=ue,this.pending=!1}schedule(fe,ue=0){var _e;if(this.closed)return this;this.state=fe;const H=this.id,B=this.scheduler;return null!=H&&(this.id=this.recycleAsyncId(B,H,ue)),this.pending=!0,this.delay=ue,this.id=null!==(_e=this.id)&&void 0!==_e?_e:this.requestAsyncId(B,this.id,ue),this}requestAsyncId(fe,ue,_e=0){return O.setInterval(fe.flush.bind(fe,this),_e)}recycleAsyncId(fe,ue,_e=0){if(null!=_e&&this.delay===_e&&!1===this.pending)return ue;null!=ue&&O.clearInterval(ue)}execute(fe,ue){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const _e=this._execute(fe,ue);if(_e)return _e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(fe,ue){let H,_e=!1;try{this.work(fe)}catch(B){_e=!0,H=B||new Error("Scheduled action threw falsy error")}if(_e)return this.unsubscribe(),H}unsubscribe(){if(!this.closed){const{id:fe,scheduler:ue}=this,{actions:_e}=ue;this.work=this.state=this.scheduler=null,this.pending=!1,(0,oe.P)(_e,this),null!=fe&&(this.id=this.recycleAsyncId(ue,fe,null)),this.delay=null,super.unsubscribe()}}}},7565:(nt,we,k)=>{k.d(we,{v:()=>O});var h=k(6063);class J{constructor(re,ce=J.now){this.schedulerActionCtor=re,this.now=ce}schedule(re,ce=0,fe){return new this.schedulerActionCtor(this,re).schedule(fe,ce)}}J.now=h.l.now;class O extends J{constructor(re,ce=J.now){super(re,ce),this.actions=[],this._active=!1}flush(re){const{actions:ce}=this;if(this._active)return void ce.push(re);let fe;this._active=!0;do{if(fe=re.execute(re.state,re.delay))break}while(re=ce.shift());if(this._active=!1,fe){for(;re=ce.shift();)re.unsubscribe();throw fe}}}},4986:(nt,we,k)=>{k.d(we,{z:()=>O});var h=k(4408);const O=new(k(7565).v)(h.o)},6063:(nt,we,k)=>{k.d(we,{l:()=>h});const h={now:()=>(h.delegate||Date).now(),delegate:void 0}},3410:(nt,we,k)=>{k.d(we,{z:()=>h});const h={setTimeout(J,O,...oe){const{delegate:re}=h;return re?.setTimeout?re.setTimeout(J,O,...oe):setTimeout(J,O,...oe)},clearTimeout(J){const{delegate:O}=h;return(O?.clearTimeout||clearTimeout)(J)},delegate:void 0}},2202:(nt,we,k)=>{k.d(we,{h:()=>J});const J=function h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(nt,we,k)=>{k.d(we,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(nt,we,k)=>{k.d(we,{_6:()=>ce,jO:()=>oe,yG:()=>re});var h=k(576);function O(fe){return fe[fe.length-1]}function oe(fe){return(0,h.m)(O(fe))?fe.pop():void 0}function re(fe){return function J(fe){return fe&&(0,h.m)(fe.schedule)}(O(fe))?fe.pop():void 0}function ce(fe,ue){return"number"==typeof O(fe)?fe.pop():ue}},8737:(nt,we,k)=>{function h(J,O){if(J){const oe=J.indexOf(O);0<=oe&&J.splice(oe,1)}}k.d(we,{P:()=>h})},3888:(nt,we,k)=>{function h(J){const oe=J(re=>{Error.call(re),re.stack=(new Error).stack});return oe.prototype=Object.create(Error.prototype),oe.prototype.constructor=oe,oe}k.d(we,{d:()=>h})},2806:(nt,we,k)=>{k.d(we,{O:()=>oe,x:()=>O});var h=k(2416);let J=null;function O(re){if(h.v.useDeprecatedSynchronousErrorHandling){const ce=!J;if(ce&&(J={errorThrown:!1,error:null}),re(),ce){const{errorThrown:fe,error:ue}=J;if(J=null,fe)throw ue}}else re()}function oe(re){h.v.useDeprecatedSynchronousErrorHandling&&J&&(J.errorThrown=!0,J.error=re)}},9672:(nt,we,k)=>{function h(J,O,oe,re=0,ce=!1){const fe=O.schedule(function(){oe(),ce?J.add(this.schedule(null,re)):this.unsubscribe()},re);if(J.add(fe),!ce)return fe}k.d(we,{f:()=>h})},4671:(nt,we,k)=>{function h(J){return J}k.d(we,{y:()=>h})},1144:(nt,we,k)=>{k.d(we,{z:()=>h});const h=J=>J&&"number"==typeof J.length&&"function"!=typeof J},2206:(nt,we,k)=>{k.d(we,{D:()=>J});var h=k(576);function J(O){return Symbol.asyncIterator&&(0,h.m)(O?.[Symbol.asyncIterator])}},576:(nt,we,k)=>{function h(J){return"function"==typeof J}k.d(we,{m:()=>h})},3670:(nt,we,k)=>{k.d(we,{c:()=>O});var h=k(8822),J=k(576);function O(oe){return(0,J.m)(oe[h.L])}},6495:(nt,we,k)=>{k.d(we,{T:()=>O});var h=k(2202),J=k(576);function O(oe){return(0,J.m)(oe?.[h.h])}},8239:(nt,we,k)=>{k.d(we,{t:()=>J});var h=k(576);function J(O){return(0,h.m)(O?.then)}},3260:(nt,we,k)=>{k.d(we,{L:()=>oe,Q:()=>O});var h=k(655),J=k(576);function O(re){return(0,h.FC)(this,arguments,function*(){const fe=re.getReader();try{for(;;){const{value:ue,done:_e}=yield(0,h.qq)(fe.read());if(_e)return yield(0,h.qq)(void 0);yield yield(0,h.qq)(ue)}}finally{fe.releaseLock()}})}function oe(re){return(0,J.m)(re?.getReader)}},4482:(nt,we,k)=>{k.d(we,{e:()=>O});var h=k(576);function O(oe){return re=>{if(function J(oe){return(0,h.m)(oe?.lift)}(re))return re.lift(function(ce){try{return oe(ce,this)}catch(fe){this.error(fe)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(nt,we,k)=>{function h(){}k.d(we,{Z:()=>h})},7849:(nt,we,k)=>{k.d(we,{h:()=>O});var h=k(2416),J=k(3410);function O(oe){J.z.setTimeout(()=>{const{onUnhandledError:re}=h.v;if(!re)throw oe;re(oe)})}},4532:(nt,we,k)=>{function h(J){return new TypeError(`You provided ${null!==J&&"object"==typeof J?"an invalid object":`'${J}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(we,{z:()=>h})},655:(nt,we,k)=>{function oe($,q){var te={};for(var ee in $)Object.prototype.hasOwnProperty.call($,ee)&&q.indexOf(ee)<0&&(te[ee]=$[ee]);if(null!=$&&"function"==typeof Object.getOwnPropertySymbols){var be=0;for(ee=Object.getOwnPropertySymbols($);be<ee.length;be++)q.indexOf(ee[be])<0&&Object.prototype.propertyIsEnumerable.call($,ee[be])&&(te[ee[be]]=$[ee[be]])}return te}function ue($,q,te,ee){return new(te||(te=Promise))(function(Ae,et){function At(Lt){try{He(ee.next(Lt))}catch(Gt){et(Gt)}}function Ct(Lt){try{He(ee.throw(Lt))}catch(Gt){et(Gt)}}function He(Lt){Lt.done?Ae(Lt.value):function be(Ae){return Ae instanceof te?Ae:new te(function(et){et(Ae)})}(Lt.value).then(At,Ct)}He((ee=ee.apply($,q||[])).next())})}function ae($){return this instanceof ae?(this.v=$,this):new ae($)}function se($,q,te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var be,ee=te.apply($,q||[]),Ae=[];return be={},et("next"),et("throw"),et("return"),be[Symbol.asyncIterator]=function(){return this},be;function et(Tt){ee[Tt]&&(be[Tt]=function(St){return new Promise(function(Wn,gt){Ae.push([Tt,St,Wn,gt])>1||At(Tt,St)})})}function At(Tt,St){try{!function Ct(Tt){Tt.value instanceof ae?Promise.resolve(Tt.value.v).then(He,Lt):Gt(Ae[0][2],Tt)}(ee[Tt](St))}catch(Wn){Gt(Ae[0][3],Wn)}}function He(Tt){At("next",Tt)}function Lt(Tt){At("throw",Tt)}function Gt(Tt,St){Tt(St),Ae.shift(),Ae.length&&At(Ae[0][0],Ae[0][1])}}function We($){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var te,q=$[Symbol.asyncIterator];return q?q.call($):($=function X($){var q="function"==typeof Symbol&&Symbol.iterator,te=q&&$[q],ee=0;if(te)return te.call($);if($&&"number"==typeof $.length)return{next:function(){return $&&ee>=$.length&&($=void 0),{value:$&&$[ee++],done:!$}}};throw new TypeError(q?"Object is not iterable.":"Symbol.iterator is not defined.")}($),te={},ee("next"),ee("throw"),ee("return"),te[Symbol.asyncIterator]=function(){return this},te);function ee(Ae){te[Ae]=$[Ae]&&function(et){return new Promise(function(At,Ct){!function be(Ae,et,At,Ct){Promise.resolve(Ct).then(function(He){Ae({value:He,done:At})},et)}(At,Ct,(et=$[Ae](et)).done,et.value)})}}}k.d(we,{FC:()=>se,KL:()=>We,_T:()=>oe,mG:()=>ue,qq:()=>ae})},4650:(nt,we,k)=>{k.d(we,{$8M:()=>fa,AFp:()=>xv,ALo:()=>lv,AaK:()=>ue,Akn:()=>Lr,CZH:()=>Ld,CqO:()=>q_,D6c:()=>l0,DdM:()=>iC,EJc:()=>dw,F4k:()=>Id,FYo:()=>b,FiY:()=>x,G48:()=>$w,GfV:()=>ye,Gpc:()=>B,JOm:()=>Ws,LFG:()=>sn,Lbi:()=>HC,Lck:()=>Yy,NdJ:()=>Y_,O4$:()=>cl,OlP:()=>Ht,Oqu:()=>wg,Q6J:()=>uh,QGY:()=>hh,Qsj:()=>M,R0b:()=>Bi,RDi:()=>wl,Rgc:()=>ja,SBq:()=>c,TTD:()=>Yr,TgZ:()=>dh,Tol:()=>Dd,Udp:()=>vg,X6Q:()=>Hw,Xpm:()=>Ee,Y36:()=>Ma,YNc:()=>K_,Yjl:()=>pe,Yz7:()=>St,ZZ4:()=>rD,_Bn:()=>Kg,_UZ:()=>lg,_c5:()=>o0,_uU:()=>py,aQg:()=>iD,cJS:()=>gt,cg1:()=>wy,dDg:()=>p,dqk:()=>kt,eFA:()=>di,ekj:()=>Eg,eoX:()=>y,g9A:()=>jC,h0i:()=>ru,hGG:()=>a0,hij:()=>Eh,ifc:()=>qe,ip1:()=>Ov,kL8:()=>bI,lG2:()=>G,lcZ:()=>cv,lri:()=>o,n5z:()=>ni,oAB:()=>_t,oxw:()=>X_,q4F:()=>Ge,qLn:()=>Wu,qOj:()=>ui,qZA:()=>fh,rWj:()=>u,sBO:()=>Ww,sIi:()=>_d,s_b:()=>im,soG:()=>Im,uIk:()=>ag,vHH:()=>Te,vpe:()=>hs,wAp:()=>lt,xp6:()=>o_,zSh:()=>Da,zs3:()=>Wl});var h=k(7579),J=k(727),O=k(8306),oe=k(831),re=k(3099);function ce(t){for(let i in t)if(t[i]===ce)return i;throw Error("Could not find renamed property on target object.")}function fe(t,i){for(const s in i)i.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=i[s])}function ue(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ue).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const i=t.toString();if(null==i)return""+i;const s=i.indexOf("\n");return-1===s?i:i.substring(0,s)}function _e(t,i){return null==t||""===t?null===i?"":i:null==i||""===i?t:t+" "+i}const H=ce({__forward_ref__:ce});function B(t){return t.__forward_ref__=B,t.toString=function(){return ue(this())},t}function X(t){return je(t)?t():t}function je(t){return"function"==typeof t&&t.hasOwnProperty(H)&&t.__forward_ref__===B}class Te extends Error{constructor(i,s){super(function Ne(t,i){return`NG0${Math.abs(t)}${i?": "+i.trim():""}`}(i,s)),this.code=i}}function ae(t){return"string"==typeof t?t:null==t?"":String(t)}function he(t,i){throw new Te(-201,!1)}function Ct(t,i){null==t&&function He(t,i,s,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${s} ${a} ${i} <=Actual]`))}(i,t,null,"!=")}function St(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function gt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Vt(t){return Tr(t,Ar)||Tr(t,hr)}function Tr(t,i){return t.hasOwnProperty(i)?t[i]:null}function hi(t){return t&&(t.hasOwnProperty(rr)||t.hasOwnProperty(gs))?t[rr]:null}const Ar=ce({\u0275prov:ce}),rr=ce({\u0275inj:ce}),hr=ce({ngInjectableDef:ce}),gs=ce({ngInjectorDef:ce});var $e=(()=>(($e=$e||{})[$e.Default=0]="Default",$e[$e.Host=1]="Host",$e[$e.Self=2]="Self",$e[$e.SkipSelf=4]="SkipSelf",$e[$e.Optional=8]="Optional",$e))();let Ln;function yn(t){const i=Ln;return Ln=t,i}function pr(t,i,s){const a=Vt(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&$e.Optional?null:void 0!==i?i:void he(ue(t))}function Xt(t){return{toString:t}.toString()}var un=(()=>((un=un||{})[un.OnPush=0]="OnPush",un[un.Default=1]="Default",un))(),qe=(()=>{return(t=qe||(qe={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",qe;var t})();const kt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ir={},ct=[],Kr=ce({\u0275cmp:ce}),Mt=ce({\u0275dir:ce}),Sr=ce({\u0275pipe:ce}),Rt=ce({\u0275mod:ce}),vn=ce({\u0275fac:ce}),Kn=ce({__NG_ELEMENT_ID__:ce});let Ke=0;function Ee(t){return Xt(()=>{const s=!0===t.standalone,a={},l={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===un.OnPush,directiveDefs:null,pipeDefs:null,standalone:s,dependencies:s&&t.dependencies||null,getStandaloneInjector:null,selectors:t.selectors||ct,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||qe.Emulated,id:"c"+Ke++,styles:t.styles||ct,_:null,setInput:null,schemas:t.schemas||null,tView:null},d=t.dependencies,m=t.features;return l.inputs=F(t.inputs,a),l.outputs=F(t.outputs),m&&m.forEach(v=>v(l)),l.directiveDefs=d?()=>("function"==typeof d?d():d).map(at).filter(st):null,l.pipeDefs=d?()=>("function"==typeof d?d():d).map(Je).filter(st):null,l})}function at(t){return Z(t)||Le(t)}function st(t){return null!==t}function _t(t){return Xt(()=>({type:t.type,bootstrap:t.bootstrap||ct,declarations:t.declarations||ct,imports:t.imports||ct,exports:t.exports||ct,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function F(t,i){if(null==t)return ir;const s={};for(const a in t)if(t.hasOwnProperty(a)){let l=t[a],d=l;Array.isArray(l)&&(d=l[1],l=l[0]),s[l]=a,i&&(i[l]=d)}return s}const G=Ee;function pe(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Z(t){return t[Kr]||null}function Le(t){return t[Mt]||null}function Je(t){return t[Sr]||null}function Mn(t){return Array.isArray(t)&&"object"==typeof t[1]}function Zn(t){return Array.isArray(t)&&!0===t[1]}function Bo(t){return 0!=(8&t.flags)}function Xs(t){return 2==(2&t.flags)}function Ga(t){return 1==(1&t.flags)}function Vn(t){return null!==t.template}function mc(t){return 0!=(256&t[2])}function Ur(t,i){return t.hasOwnProperty(vn)?t[vn]:null}class qr{constructor(i,s,a){this.previousValue=i,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function Yr(){return $i}function $i(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ho),eo}function eo(){const t=vc(this),i=t?.current;if(i){const s=t.previous;if(s===ir)t.previous=i;else for(let a in i)s[a]=i[a];t.current=null,this.ngOnChanges(i)}}function Ho(t,i,s,a){const l=vc(t)||function Qr(t,i){return t[qa]=i}(t,{previous:ir,current:null}),d=l.current||(l.current={}),m=l.previous,v=this.declaredInputs[s],E=m[v];d[v]=new qr(E&&E.currentValue,i,m===ir),t[a]=i}Yr.ngInherit=!0;const qa="__ngSimpleChanges__";function vc(t){return t[qa]||null}function en(t){for(;Array.isArray(t);)t=t[0];return t}function mr(t,i){return en(i[t])}function qn(t,i){return en(i[t.index])}function vs(t,i){return t.data[i]}function bt(t,i){const s=i[t];return Mn(s)?s:s[0]}function Wi(t){return 64==(64&t[2])}function Pr(t,i){return null==i?null:t[i]}function zo(t){t[18]=0}function Jt(t,i){t[5]+=i;let s=t,a=t[3];for(;null!==a&&(1===i&&1===s[5]||-1===i&&0===s[5]);)a[5]+=i,s=a,a=a[3]}const dt={lFrame:ll(null),bindingsEnabled:!0};function ei(){return dt.bindingsEnabled}function Ie(){return dt.lFrame.lView}function Dt(){return dt.lFrame.tView}function tn(){let t=Yo();for(;null!==t&&64===t.type;)t=t.parent;return t}function Yo(){return dt.lFrame.currentTNode}function _r(t,i){const s=dt.lFrame;s.currentTNode=t,s.isParent=i}function no(){return dt.lFrame.isParent}function nn(){const t=dt.lFrame;let i=t.bindingRootIndex;return-1===i&&(i=t.bindingRootIndex=t.tView.bindingStartIndex),i}function Gi(){return dt.lFrame.bindingIndex++}function ti(t){const i=dt.lFrame,s=i.bindingIndex;return i.bindingIndex=i.bindingIndex+t,s}function zd(t,i){const s=dt.lFrame;s.bindingIndex=s.bindingRootIndex=t,Qo(i)}function Qo(t){dt.lFrame.currentDirectiveIndex=t}function ao(t){dt.lFrame.currentQueryIndex=t}function ol(t){const i=t[1];return 2===i.type?i.declTNode:1===i.type?t[6]:null}function Jo(t,i,s){if(s&$e.SkipSelf){let l=i,d=t;for(;!(l=l.parent,null!==l||s&$e.Host||(l=ol(d),null===l||(d=d[15],10&l.type))););if(null===l)return!1;i=l,t=d}const a=dt.lFrame=al();return a.currentTNode=i,a.lView=t,!0}function Xo(t){const i=al(),s=t[1];dt.lFrame=i,i.currentTNode=s.firstChild,i.lView=t,i.tView=s,i.contextLView=t,i.bindingIndex=s.bindingStartIndex,i.inI18n=!1}function al(){const t=dt.lFrame,i=null===t?null:t.child;return null===i?ll(t):i}function ll(t){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=i),i}function ul(){const t=dt.lFrame;return dt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const _u=ul;function zi(){const t=ul();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Cn(){return dt.lFrame.selectedIndex}function ar(t){dt.lFrame.selectedIndex=t}function Kt(){const t=dt.lFrame;return vs(t.tView,t.selectedIndex)}function cl(){dt.lFrame.currentNamespace="svg"}function na(t,i){for(let s=i.directiveStart,a=i.directiveEnd;s<a;s++){const d=t.data[s].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:v,ngAfterViewInit:E,ngAfterViewChecked:w,ngOnDestroy:S}=d;m&&(t.contentHooks||(t.contentHooks=[])).push(-s,m),v&&((t.contentHooks||(t.contentHooks=[])).push(s,v),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(s,v)),E&&(t.viewHooks||(t.viewHooks=[])).push(-s,E),w&&((t.viewHooks||(t.viewHooks=[])).push(s,w),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(s,w)),null!=S&&(t.destroyHooks||(t.destroyHooks=[])).push(s,S)}}function Zi(t,i,s){Cs(t,i,3,s)}function Is(t,i,s,a){(3&t[2])===s&&Cs(t,i,s,a)}function vu(t,i){let s=t[2];(3&s)===i&&(s&=2047,s+=1,t[2]=s)}function Cs(t,i,s,a){const d=a??-1,m=i.length-1;let v=0;for(let E=void 0!==a?65535&t[18]:0;E<m;E++)if("number"==typeof i[E+1]){if(v=i[E],null!=a&&v>=a)break}else i[E]<0&&(t[18]+=65536),(v<d||-1==d)&&(Eu(t,s,i,E),t[18]=(4294901760&t[18])+E+2),E++}function Eu(t,i,s,a){const l=s[a]<0,d=s[a+1],v=t[l?-s[a]:s[a]];if(l){if(t[2]>>11<t[18]>>16&&(3&t[2])===i){t[2]+=2048;try{d.call(v)}finally{}}}else try{d.call(v)}finally{}}class Ci{constructor(i,s,a){this.factory=i,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function ws(t,i,s){let a=0;for(;a<s.length;){const l=s[a];if("number"==typeof l){if(0!==l)break;a++;const d=s[a++],m=s[a++],v=s[a++];t.setAttribute(i,m,v,d)}else{const d=l,m=s[++a];oa(d)?t.setProperty(i,d,m):t.setAttribute(i,d,m),a++}}return a}function Yi(t){return 3===t||4===t||6===t}function oa(t){return 64===t.charCodeAt(0)}function lo(t,i){if(null!==i&&0!==i.length)if(null===t||0===t.length)t=i.slice();else{let s=-1;for(let a=0;a<i.length;a++){const l=i[a];"number"==typeof l?s=l:0===s||Cu(t,s,l,null,-1===s||2===s?i[++a]:null)}}return t}function Cu(t,i,s,a,l){let d=0,m=t.length;if(-1===i)m=-1;else for(;d<t.length;){const v=t[d++];if("number"==typeof v){if(v===i){m=-1;break}if(v>i){m=d-1;break}}}for(;d<t.length;){const v=t[d];if("number"==typeof v)break;if(v===s){if(null===a)return void(null!==l&&(t[d+1]=l));if(a===t[d+1])return void(t[d+2]=l)}d++,null!==a&&d++,null!==l&&d++}-1!==m&&(t.splice(m,0,i),d=m+1),t.splice(d++,0,s),null!==a&&t.splice(d++,0,a),null!==l&&t.splice(d++,0,l)}function Du(t){return-1!==t}function Pn(t){return 32767&t}function co(t,i){let s=function uo(t){return t>>16}(t),a=i;for(;s>0;)a=a[15],s--;return a}let Hr=!0;function fo(t){const i=Hr;return Hr=t,i}let ln=0;const Nr={};function Qi(t,i){const s=la(t,i);if(-1!==s)return s;const a=i[1];a.firstCreatePass&&(t.injectorIndex=i.length,po(a.data,t),po(i,null),po(a.blueprint,null));const l=ua(t,i),d=t.injectorIndex;if(Du(l)){const m=Pn(l),v=co(l,i),E=v[1].data;for(let w=0;w<8;w++)i[d+w]=v[m+w]|E[m+w]}return i[d+8]=l,d}function po(t,i){t.push(0,0,0,0,0,0,0,0,i)}function la(t,i){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===i[t.injectorIndex+8]?-1:t.injectorIndex}function ua(t,i){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,a=null,l=i;for(;null!==l;){if(a=Ts(l),null===a)return-1;if(s++,l=l[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return-1}function Di(t,i,s){!function aa(t,i,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(Kn)&&(a=s[Kn]),null==a&&(a=s[Kn]=ln++);const l=255&a;i.data[t+(l>>5)]|=1<<l}(t,i,s)}function wi(t,i,s){if(s&$e.Optional||void 0!==t)return t;he()}function pl(t,i,s,a){if(s&$e.Optional&&void 0===a&&(a=null),0==(s&($e.Self|$e.Host))){const l=t[9],d=yn(void 0);try{return l?l.get(i,a,s&$e.Optional):pr(i,a,s&$e.Optional)}finally{yn(d)}}return wi(a,0,s)}function Ji(t,i,s,a=$e.Default,l){if(null!==t){if(1024&i[2]){const m=function bs(t,i,s,a,l){let d=t,m=i;for(;null!==d&&null!==m&&1024&m[2]&&!(256&m[2]);){const v=go(d,m,s,a|$e.Self,Nr);if(v!==Nr)return v;let E=d.parent;if(!E){const w=m[21];if(w){const S=w.get(s,Nr,a);if(S!==Nr)return S}E=Ts(m),m=m[15]}d=E}return l}(t,i,s,a,Nr);if(m!==Nr)return m}const d=go(t,i,s,a,Nr);if(d!==Nr)return d}return pl(i,s,a,l)}function go(t,i,s,a,l){const d=function gl(t){if("string"==typeof t)return t.charCodeAt(0)||0;const i=t.hasOwnProperty(Kn)?t[Kn]:void 0;return"number"==typeof i?i>=0?255&i:ml:i}(s);if("function"==typeof d){if(!Jo(i,t,a))return a&$e.Host?wi(l,0,a):pl(i,s,a,l);try{const m=d(a);if(null!=m||a&$e.Optional)return m;he()}finally{_u()}}else if("number"==typeof d){let m=null,v=la(t,i),E=-1,w=a&$e.Host?i[16][6]:null;for((-1===v||a&$e.SkipSelf)&&(E=-1===v?ua(t,i):i[v+8],-1!==E&&_o(a,!1)?(m=i[1],v=Pn(E),i=co(E,i)):v=-1);-1!==v;){const S=i[1];if(ca(d,v,S.data)){const N=Tu(v,i,s,m,a,w);if(N!==Nr)return N}E=i[v+8],-1!==E&&_o(a,i[1].data[v+8]===w)&&ca(d,v,i)?(m=S,v=Pn(E),i=co(E,i)):v=-1}}return l}function Tu(t,i,s,a,l,d){const m=i[1],v=m.data[t+8],S=function mo(t,i,s,a,l){const d=t.providerIndexes,m=i.data,v=1048575&d,E=t.directiveStart,S=d>>20,U=l?v+S:t.directiveEnd;for(let Q=a?v:v+S;Q<U;Q++){const ge=m[Q];if(Q<E&&s===ge||Q>=E&&ge.type===s)return Q}if(l){const Q=m[E];if(Q&&Vn(Q)&&Q.type===s)return E}return null}(v,m,s,null==a?Xs(v)&&Hr:a!=m&&0!=(3&v.type),l&$e.Host&&d===v);return null!==S?bi(i,m,S,v):Nr}function bi(t,i,s,a){let l=t[s];const d=i.data;if(function qi(t){return t instanceof Ci}(l)){const m=l;m.resolving&&function Fe(t,i){const s=i?`. Dependency path: ${i.join(" > ")} > ${t}`:"";throw new Te(-200,`Circular dependency in DI detected for ${t}${s}`)}(function se(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ae(t)}(d[s]));const v=fo(m.canSeeViewProviders);m.resolving=!0;const E=m.injectImpl?yn(m.injectImpl):null;Jo(t,a,$e.Default);try{l=t[s]=m.factory(void 0,d,t,a),i.firstCreatePass&&s>=a.directiveStart&&function yu(t,i,s){const{ngOnChanges:a,ngOnInit:l,ngDoCheck:d}=i.type.prototype;if(a){const m=$i(i);(s.preOrderHooks||(s.preOrderHooks=[])).push(t,m),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,m)}l&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-t,l),d&&((s.preOrderHooks||(s.preOrderHooks=[])).push(t,d),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,d))}(s,d[s],i)}finally{null!==E&&yn(E),fo(v),m.resolving=!1,_u()}}return l}function ca(t,i,s){return!!(s[i+(t>>5)]&1<<t)}function _o(t,i){return!(t&$e.Self||t&$e.Host&&i)}class Xi{constructor(i,s){this._tNode=i,this._lView=s}get(i,s,a){return Ji(this._tNode,this._lView,i,a,s)}}function ml(){return new Xi(tn(),Ie())}function ni(t){return Xt(()=>{const i=t.prototype.constructor,s=i[vn]||da(i),a=Object.prototype;let l=Object.getPrototypeOf(t.prototype).constructor;for(;l&&l!==a;){const d=l[vn]||da(l);if(d&&d!==s)return d;l=Object.getPrototypeOf(l)}return d=>new d})}function da(t){return je(t)?()=>{const i=da(X(t));return i&&i()}:Ur(t)}function Ts(t){const i=t[1],s=i.type;return 2===s?i.declTNode:1===s?t[6]:null}function fa(t){return function bu(t,i){if("class"===i)return t.classes;if("style"===i)return t.styles;const s=t.attrs;if(s){const a=s.length;let l=0;for(;l<a;){const d=s[l];if(Yi(d))break;if(0===d)l+=2;else if("number"==typeof d)for(l++;l<a&&"string"==typeof s[l];)l++;else{if(d===i)return s[l+1];l+=2}}}return null}(tn(),t)}const Ti="__parameters__";function Ms(t,i,s){return Xt(()=>{const a=function ha(t){return function(...s){if(t){const a=t(...s);for(const l in a)this[l]=a[l]}}}(i);function l(...d){if(this instanceof l)return a.apply(this,d),this;const m=new l(...d);return v.annotation=m,v;function v(E,w,S){const N=E.hasOwnProperty(Ti)?E[Ti]:Object.defineProperty(E,Ti,{value:[]})[Ti];for(;N.length<=S;)N.push(null);return(N[S]=N[S]||[]).push(m),E}}return s&&(l.prototype=Object.create(s.prototype)),l.prototype.ngMetadataName=t,l.annotationCls=l,l})}class Ht{constructor(i,s){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=St({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Yn(t,i){t.forEach(s=>Array.isArray(s)?Yn(s,i):i(s))}function Ns(t,i,s){i>=t.length?t.push(s):t.splice(i,0,s)}function Ai(t,i){return i>=t.length-1?t.pop():t.splice(i,1)[0]}function Jn(t,i,s){let a=Rs(t,i);return a>=0?t[1|a]=s:(a=~a,function Rr(t,i,s,a){let l=t.length;if(l==i)t.push(s,a);else if(1===l)t.push(a,t[0]),t[0]=s;else{for(l--,t.push(t[l-1],t[l]);l>i;)t[l]=t[l-2],l--;t[i]=s,t[i+1]=a}}(t,a,i,s)),a}function Io(t,i){const s=Rs(t,i);if(s>=0)return t[1|s]}function Rs(t,i){return function yl(t,i,s){let a=0,l=t.length>>s;for(;l!==a;){const d=a+(l-a>>1),m=t[d<<s];if(i===m)return d<<s;m>i?l=d:a=d+1}return~(l<<s)}(t,i,1)}const R={},Os="__NG_DI_FLAG__",Do="ngTempTokenPath",xs=/\n/gm,Mu="__source";let dr;function Si(t){const i=dr;return dr=t,i}function Xn(t,i=$e.Default){if(void 0===dr)throw new Te(-203,!1);return null===dr?pr(t,void 0,i):dr.get(t,i&$e.Optional?null:void 0,i)}function sn(t,i=$e.Default){return(function pi(){return Ln}()||Xn)(X(t),i)}function _a(t){const i=[];for(let s=0;s<t.length;s++){const a=X(t[s]);if(Array.isArray(a)){if(0===a.length)throw new Te(900,!1);let l,d=$e.Default;for(let m=0;m<a.length;m++){const v=a[m],E=Mi(v);"number"==typeof E?-1===E?l=v.token:d|=E:l=v}i.push(sn(l,d))}else i.push(sn(a))}return i}function ii(t,i){return t[Os]=i,t.prototype[Os]=i,t}function Mi(t){return t[Os]}const x=ii(Ms("Optional"),8),Y=ii(Ms("SkipSelf"),4);let Ac;function wl(t){Ac=t}function Pi(t){return t instanceof class Ou{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}?t.changingThisBreaksApplicationSecurity:t}const rs=new Ht("ENVIRONMENT_INITIALIZER"),Ut=new Ht("INJECTOR",-1),Uu=new Ht("INJECTOR_DEF_TYPES");class cf{get(i,s=R){if(s===R){const a=new Error(`NullInjectorError: No provider for ${ue(i)}!`);throw a.name="NullInjectorError",a}return s}}function Ia(...t){return{\u0275providers:Rl(0,t)}}function Rl(t,...i){const s=[],a=new Set;let l;return Yn(i,d=>{const m=d;vt(m,s,[],a)&&(l||(l=[]),l.push(m))}),void 0!==l&&$t(l,s),s}function $t(t,i){for(let s=0;s<t.length;s++){const{providers:l}=t[s];Yn(l,d=>{i.push(d)})}}function vt(t,i,s,a){if(!(t=X(t)))return!1;let l=null,d=hi(t);const m=!d&&Z(t);if(d||m){if(m&&!m.standalone)return!1;l=t}else{const E=t.ngModule;if(d=hi(E),!d)return!1;l=E}const v=a.has(l);if(m){if(v)return!1;if(a.add(l),m.dependencies){const E="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const w of E)vt(w,i,s,a)}}else{if(!d)return!1;{if(null!=d.imports&&!v){let w;a.add(l);try{Yn(d.imports,S=>{vt(S,i,s,a)&&(w||(w=[]),w.push(S))})}finally{}void 0!==w&&$t(w,i)}if(!v){const w=Ur(l)||(()=>new l);i.push({provide:l,useFactory:w,deps:ct},{provide:Uu,useValue:l,multi:!0},{provide:rs,useValue:()=>sn(l),multi:!0})}const E=d.providers;null==E||v||Yn(E,S=>{i.push(S)})}}return l!==t&&void 0!==t.providers}const Uc=ce({provide:String,useValue:ce});function Ol(t){return null!==t&&"object"==typeof t&&Uc in t}function js(t){return"function"==typeof t}const Da=new Ht("Set Injector scope."),$r={},jc={};let Hs;function ju(){return void 0===Hs&&(Hs=new cf),Hs}class vr{}class Hc extends vr{constructor(i,s,a,l){super(),this.parent=s,this.source=a,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ri(i,m=>this.processProvider(m)),this.records.set(Ut,tt(void 0,this)),l.has("environment")&&this.records.set(vr,tt(void 0,this));const d=this.records.get(Da);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(Uu.multi,ct,$e.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const s=Si(this),a=yn(void 0);try{return i()}finally{Si(s),yn(a)}}get(i,s=R,a=$e.Default){this.assertNotDestroyed();const l=Si(this),d=yn(void 0);try{if(!(a&$e.SkipSelf)){let v=this.records.get(i);if(void 0===v){const E=function ff(t){return"function"==typeof t||"object"==typeof t&&t instanceof Ht}(i)&&Vt(i);v=E&&this.injectableDefInScope(E)?tt($c(i),$r):null,this.records.set(i,v)}if(null!=v)return this.hydrate(i,v)}return(a&$e.Self?ju():this.parent).get(i,s=a&$e.Optional&&s===R?null:s)}catch(m){if("NullInjectorError"===m.name){if((m[Do]=m[Do]||[]).unshift(ue(i)),l)throw m;return function I(t,i,s,a){const l=t[Do];throw i[Mu]&&l.unshift(i[Mu]),t.message=function C(t,i,s,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let l=ue(i);if(Array.isArray(i))l=i.map(ue).join(" -> ");else if("object"==typeof i){let d=[];for(let m in i)if(i.hasOwnProperty(m)){let v=i[m];d.push(m+":"+("string"==typeof v?JSON.stringify(v):ue(v)))}l=`{${d.join(", ")}}`}return`${s}${a?"("+a+")":""}[${l}]: ${t.replace(xs,"\n  ")}`}("\n"+t.message,l,s,a),t.ngTokenPath=l,t[Do]=null,t}(m,i,"R3InjectorError",this.source)}throw m}finally{yn(d),Si(l)}}resolveInjectorInitializers(){const i=Si(this),s=yn(void 0);try{const a=this.get(rs.multi,ct,$e.Self);for(const l of a)l()}finally{Si(i),yn(s)}}toString(){const i=[],s=this.records;for(const a of s.keys())i.push(ue(a));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Te(205,!1)}processProvider(i){let s=js(i=X(i))?i:X(i&&i.provide);const a=function df(t){return Ol(t)?tt(void 0,t.useValue):tt(is(t),$r)}(i);if(js(i)||!0!==i.multi)this.records.get(s);else{let l=this.records.get(s);l||(l=tt(void 0,$r,!0),l.factory=()=>_a(l.multi),this.records.set(s,l)),s=i,l.multi.push(i)}this.records.set(s,a)}hydrate(i,s){return s.value===$r&&(s.value=jc,s.value=s.factory()),"object"==typeof s.value&&s.value&&function ba(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(i){if(!i.providedIn)return!1;const s=X(i.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}}function $c(t){const i=Vt(t),s=null!==i?i.factory:Ur(t);if(null!==s)return s;if(t instanceof Ht)throw new Te(204,!1);if(t instanceof Function)return function ap(t){const i=t.length;if(i>0)throw function Dn(t,i){const s=[];for(let a=0;a<t;a++)s.push(i);return s}(i,"?"),new Te(204,!1);const s=function Gn(t){const i=t&&(t[Ar]||t[hr]);if(i){const s=function zn(t){if(t.hasOwnProperty("name"))return t.name;const i=(""+t).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),i}return null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new Te(204,!1)}function is(t,i,s){let a;if(js(t)){const l=X(t);return Ur(l)||$c(l)}if(Ol(t))a=()=>X(t.useValue);else if(function Ca(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(..._a(t.deps||[]));else if(function Qt(t){return!(!t||!t.useExisting)}(t))a=()=>sn(X(t.useExisting));else{const l=X(t&&(t.useClass||t.provide));if(!function wa(t){return!!t.deps}(t))return Ur(l)||$c(l);a=()=>new l(..._a(t.deps))}return a}function tt(t,i,s=!1){return{factory:t,value:i,multi:s?[]:void 0}}function xn(t){return!!t.\u0275providers}function Ri(t,i){for(const s of t)Array.isArray(s)?Ri(s,i):xn(s)?Ri(s.\u0275providers,i):i(s)}class Wc{}class Gc{resolveComponentFactory(i){throw function Er(t){const i=Error(`No component factory found for ${ue(t)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=t,i}(i)}}let $u=(()=>{class t{}return t.NULL=new Gc,t})();function pf(){return g(tn(),Ie())}function g(t,i){return new c(qn(t,i))}let c=(()=>{class t{constructor(s){this.nativeElement=s}}return t.__NG_ELEMENT_ID__=pf,t})();class b{}let M=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function j(){const t=Ie(),s=bt(tn().index,t);return(Mn(s)?s:t)[11]}(),t})(),ie=(()=>{class t{}return t.\u0275prov=St({token:t,providedIn:"root",factory:()=>null}),t})();class ye{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const Ge=new ye("14.2.8"),it={};function mf(t){return t.ngOriginalError}class Wu{constructor(){this._console=console}handleError(i){const s=this._findOriginalError(i);this._console.error("ERROR",i),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(i){let s=i&&mf(i);for(;s&&mf(s);)s=mf(s);return s||null}}const fp=new Map;let Wv=0;const zu="__ngContext__";function Ir(t,i){Mn(i)?(t[zu]=i[20],function hp(t){fp.set(t[20],t)}(i)):t[zu]=i}var Ws=(()=>((Ws=Ws||{})[Ws.Important=1]="Important",Ws[Ws.DashCase=2]="DashCase",Ws))();function Zu(t,i){return undefined(t,i)}function ss(t){const i=t[3];return Zn(i)?i[3]:i}function Zt(t){return qu(t[13])}function li(t){return qu(t[4])}function qu(t){for(;null!==t&&!Zn(t);)t=t[4];return t}function Ul(t,i,s,a,l){if(null!=a){let d,m=!1;Zn(a)?d=a:Mn(a)&&(m=!0,a=a[0]);const v=en(a);0===t&&null!==s?null==l?Gm(i,s,v):jl(i,s,v,l||null,!0):1===t&&null!==s?jl(i,s,v,l||null,!0):2===t?function wf(t,i,s){const a=Hl(t,i);a&&function eE(t,i,s,a){t.removeChild(i,s,a)}(t,a,i,s)}(i,v,m):3===t&&i.destroyNode(v),null!=d&&function Ym(t,i,s,a,l){const d=s[7];d!==en(s)&&Ul(i,t,a,d,l);for(let v=10;v<s.length;v++){const E=s[v];rd(E[1],E,t,i,a,d)}}(i,t,d,s,l)}}function Gs(t,i,s){return t.createElement(i,s)}function jm(t,i){const s=t[9],a=s.indexOf(i),l=i[3];512&i[2]&&(i[2]&=-513,Jt(l,-1)),s.splice(a,1)}function Tp(t,i){if(t.length<=10)return;const s=10+i,a=t[s];if(a){const l=a[17];null!==l&&l!==t&&jm(l,a),i>0&&(t[s-1][4]=a[4]);const d=Ai(t,10+i);!function bp(t,i){rd(t,i,i[11],2,null,null),i[0]=null,i[6]=null}(a[1],a);const m=d[19];null!==m&&m.detachView(d[1]),a[3]=null,a[4]=null,a[2]&=-65}return a}function Hm(t,i){if(!(128&i[2])){const s=i[11];s.destroyNode&&rd(t,i,s,3,null,null),function If(t){let i=t[13];if(!i)return Ap(t[1],t);for(;i;){let s=null;if(Mn(i))s=i[13];else{const a=i[10];a&&(s=a)}if(!s){for(;i&&!i[4]&&i!==t;)Mn(i)&&Ap(i[1],i),i=i[3];null===i&&(i=t),Mn(i)&&Ap(i[1],i),s=i&&i[4]}i=s}}(i)}}function Ap(t,i){if(!(128&i[2])){i[2]&=-65,i[2]|=128,function $m(t,i){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let a=0;a<s.length;a+=2){const l=i[s[a]];if(!(l instanceof Ci)){const d=s[a+1];if(Array.isArray(d))for(let m=0;m<d.length;m+=2){const v=l[d[m]],E=d[m+1];try{E.call(v)}finally{}}else try{d.call(l)}finally{}}}}(t,i),function Xv(t,i){const s=t.cleanup,a=i[7];let l=-1;if(null!==s)for(let d=0;d<s.length-1;d+=2)if("string"==typeof s[d]){const m=s[d+1],v="function"==typeof m?m(i):en(i[m]),E=a[l=s[d+2]],w=s[d+3];"boolean"==typeof w?v.removeEventListener(s[d],E,w):w>=0?a[l=w]():a[l=-w].unsubscribe(),d+=2}else{const m=a[l=s[d+1]];s[d].call(m)}if(null!==a){for(let d=l+1;d<a.length;d++)(0,a[d])();i[7]=null}}(t,i),1===i[1].type&&i[11].destroy();const s=i[17];if(null!==s&&Zn(i[3])){s!==i[3]&&jm(s,i);const a=i[19];null!==a&&a.detachView(t)}!function pp(t){fp.delete(t[20])}(i)}}function Sp(t,i,s){return function Wm(t,i,s){let a=i;for(;null!==a&&40&a.type;)a=(i=a).parent;if(null===a)return s[0];if(2&a.flags){const l=t.data[a.directiveStart].encapsulation;if(l===qe.None||l===qe.Emulated)return null}return qn(a,s)}(t,i.parent,s)}function jl(t,i,s,a,l){t.insertBefore(i,s,a,l)}function Gm(t,i,s){t.appendChild(i,s)}function zm(t,i,s,a,l){null!==a?jl(t,i,s,a,l):Gm(t,i,s)}function Hl(t,i){return t.parentNode(i)}let Km=function ed(t,i,s){return 40&t.type?qn(t,s):null};function nd(t,i,s,a){const l=Sp(t,a,i),d=i[11],v=function Pp(t,i,s){return Km(t,i,s)}(a.parent||i[6],a,i);if(null!=l)if(Array.isArray(s))for(let E=0;E<s.length;E++)zm(d,l,s[E],v,!1);else zm(d,l,s,v,!1)}function Cf(t,i){if(null!==i){const s=i.type;if(3&s)return qn(i,t);if(4&s)return Df(-1,t[i.index]);if(8&s){const a=i.child;if(null!==a)return Cf(t,a);{const l=t[i.index];return Zn(l)?Df(-1,l):en(l)}}if(32&s)return Zu(i,t)()||en(t[i.index]);{const a=Zm(t,i);return null!==a?Array.isArray(a)?a[0]:Cf(ss(t[16]),a):Cf(t,i.next)}}return null}function Zm(t,i){return null!==i?t[16][6].projection[i.projection]:null}function Df(t,i){const s=10+t+1;if(s<i.length){const a=i[s],l=a[1].firstChild;if(null!==l)return Cf(a,l)}return i[7]}function Rp(t,i,s,a,l,d,m){for(;null!=s;){const v=a[s.index],E=s.type;if(m&&0===i&&(v&&Ir(en(v),a),s.flags|=4),64!=(64&s.flags))if(8&E)Rp(t,i,s.child,a,l,d,!1),Ul(i,t,l,v,d);else if(32&E){const w=Zu(s,a);let S;for(;S=w();)Ul(i,t,l,S,d);Ul(i,t,l,v,d)}else 16&E?qm(t,i,a,s,l,d):Ul(i,t,l,v,d);s=m?s.projectionNext:s.next}}function rd(t,i,s,a,l,d){Rp(s,a,t.firstChild,i,l,d,!1)}function qm(t,i,s,a,l,d){const m=s[16],E=m[6].projection[a.projection];if(Array.isArray(E))for(let w=0;w<E.length;w++)Ul(i,t,l,E[w],d);else Rp(t,i,E,m[3],l,d,!0)}function Tf(t,i,s){t.setAttribute(i,"style",s)}function Af(t,i,s){""===s?t.removeAttribute(i,"class"):t.setAttribute(i,"class",s)}function Qm(t,i,s){let a=t.length;for(;;){const l=t.indexOf(i,s);if(-1===l)return l;if(0===l||t.charCodeAt(l-1)<=32){const d=i.length;if(l+d===a||t.charCodeAt(l+d)<=32)return l}s=l+1}}const Sf="ng-template";function rE(t,i,s){let a=0;for(;a<t.length;){let l=t[a++];if(s&&"class"===l){if(l=t[a],-1!==Qm(l.toLowerCase(),i,0))return!0}else if(1===l){for(;a<t.length&&"string"==typeof(l=t[a++]);)if(l.toLowerCase()===i)return!0;return!1}}return!1}function Jm(t){return 4===t.type&&t.value!==Sf}function iE(t,i,s){return i===(4!==t.type||s?t.value:Sf)}function sE(t,i,s){let a=4;const l=t.attrs||[],d=function aE(t){for(let i=0;i<t.length;i++)if(Yi(t[i]))return i;return t.length}(l);let m=!1;for(let v=0;v<i.length;v++){const E=i[v];if("number"!=typeof E){if(!m)if(4&a){if(a=2|1&a,""!==E&&!iE(t,E,s)||""===E&&1===i.length){if(os(a))return!1;m=!0}}else{const w=8&a?E:i[++v];if(8&a&&null!==t.attrs){if(!rE(t.attrs,w,s)){if(os(a))return!1;m=!0}continue}const N=oE(8&a?"class":E,l,Jm(t),s);if(-1===N){if(os(a))return!1;m=!0;continue}if(""!==w){let U;U=N>d?"":l[N+1].toLowerCase();const Q=8&a?U:null;if(Q&&-1!==Qm(Q,w,0)||2&a&&w!==U){if(os(a))return!1;m=!0}}}}else{if(!m&&!os(a)&&!os(E))return!1;if(m&&os(E))continue;m=!1,a=E|1&a}}return os(a)||m}function os(t){return 0==(1&t)}function oE(t,i,s,a){if(null===i)return-1;let l=0;if(a||!s){let d=!1;for(;l<i.length;){const m=i[l];if(m===t)return l;if(3===m||6===m)d=!0;else{if(1===m||2===m){let v=i[++l];for(;"string"==typeof v;)v=i[++l];continue}if(4===m)break;if(0===m){l+=4;continue}}l+=d?1:2}return-1}return function t_(t,i){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const a=t[s];if("number"==typeof a)return-1;if(a===i)return s;s++}return-1}(i,t)}function Xm(t,i,s=!1){for(let a=0;a<i.length;a++)if(sE(t,i[a],s))return!0;return!1}function r_(t,i){return t?":not("+i.trim()+")":i}function i_(t){let i=t[0],s=1,a=2,l="",d=!1;for(;s<t.length;){let m=t[s];if("string"==typeof m)if(2&a){const v=t[++s];l+="["+m+(v.length>0?'="'+v+'"':"")+"]"}else 8&a?l+="."+m:4&a&&(l+=" "+m);else""!==l&&!os(m)&&(i+=r_(d,l),l=""),a=m,d=d||!os(a);s++}return""!==l&&(i+=r_(d,l)),i}const Et={};function o_(t){a_(Dt(),Ie(),Cn()+t,!1)}function a_(t,i,s,a){if(!a)if(3==(3&i[2])){const d=t.preOrderCheckHooks;null!==d&&Zi(i,d,s)}else{const d=t.preOrderHooks;null!==d&&Is(i,d,0,s)}ar(s)}function id(t,i=null,s=null,a){const l=sd(t,i,s,a);return l.resolveInjectorInitializers(),l}function sd(t,i=null,s=null,a,l=new Set){const d=[s||ct,Ia(t)];return a=a||("object"==typeof t?void 0:ue(t)),new Hc(d,i||ju(),a||null,l)}let Wl=(()=>{class t{static create(s,a){if(Array.isArray(s))return id({name:""},a,s,"");{const l=s.name??"";return id({name:l},s.parent,s.providers,l)}}}return t.THROW_IF_NOT_FOUND=R,t.NULL=new cf,t.\u0275prov=St({token:t,providedIn:"any",factory:()=>sn(Ut)}),t.__NG_ELEMENT_ID__=-1,t})();function Ma(t,i=$e.Default){const s=Ie();return null===s?sn(t,i):Ji(tn(),s,X(t),i)}function Vf(t,i){return t<<17|i<<2}function as(t){return t>>17&32767}function ad(t){return 2|t}function ls(t){return(131068&t)>>2}function Qu(t,i){return-131069&t|i<<2}function ld(t){return 1|t}function Zf(t,i){const s=t.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const l=s[a],d=s[a+1];if(-1!==d){const m=t.data[d];ao(l),m.contentQueries(2,i[d],d)}}}function qf(t,i,s,a,l,d,m,v,E,w,S){const N=i.blueprint.slice();return N[0]=l,N[2]=76|a,(null!==S||t&&1024&t[2])&&(N[2]|=1024),zo(N),N[3]=N[15]=t,N[8]=s,N[10]=m||t&&t[10],N[11]=v||t&&t[11],N[12]=E||t&&t[12]||null,N[9]=w||t&&t[9]||null,N[6]=d,N[20]=function Gv(){return Wv++}(),N[21]=S,N[16]=2==i.type?t[16]:N,N}function Jl(t,i,s,a,l){let d=t.data[i];if(null===d)d=function Kp(t,i,s,a,l){const d=Yo(),m=no(),E=t.data[i]=function S_(t,i,s,a,l,d){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?d:d&&d.parent,s,i,a,l);return null===t.firstChild&&(t.firstChild=E),null!==d&&(m?null==d.child&&null!==E.parent&&(d.child=E):null===d.next&&(d.next=E)),E}(t,i,s,a,l),function Gd(){return dt.lFrame.inI18n}()&&(d.flags|=64);else if(64&d.type){d.type=s,d.value=a,d.attrs=l;const m=function Es(){const t=dt.lFrame,i=t.currentTNode;return t.isParent?i:i.parent}();d.injectorIndex=null===m?-1:m.injectorIndex}return _r(d,!0),d}function Xu(t,i,s,a){if(0===s)return-1;const l=i.length;for(let d=0;d<s;d++)i.push(a),t.blueprint.push(a),t.data.push(null);return l}function Zp(t,i,s){Xo(i);try{const a=t.viewQuery;null!==a&&rh(1,a,s);const l=t.template;null!==l&&qp(t,i,l,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Zf(t,i),t.staticViewQueries&&rh(2,t.viewQuery,s);const d=t.components;null!==d&&function DE(t,i){for(let s=0;s<i.length;s++)th(t,i[s])}(i,d)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{i[2]&=-5,zi()}}function ec(t,i,s,a){const l=i[2];if(128!=(128&l)){Xo(i);try{zo(i),function rl(t){return dt.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&qp(t,i,s,2,a);const m=3==(3&l);if(m){const w=t.preOrderCheckHooks;null!==w&&Zi(i,w,null)}else{const w=t.preOrderHooks;null!==w&&Is(i,w,0,null),vu(i,0)}if(function SE(t){for(let i=Zt(t);null!==i;i=li(i)){if(!i[2])continue;const s=i[9];for(let a=0;a<s.length;a++){const l=s[a],d=l[3];0==(512&l[2])&&Jt(d,1),l[2]|=512}}}(i),function AE(t){for(let i=Zt(t);null!==i;i=li(i))for(let s=10;s<i.length;s++){const a=i[s],l=a[1];Wi(a)&&ec(l,a,l.template,a[8])}}(i),null!==t.contentQueries&&Zf(t,i),m){const w=t.contentCheckHooks;null!==w&&Zi(i,w)}else{const w=t.contentHooks;null!==w&&Is(i,w,1),vu(i,1)}!function IE(t,i){const s=t.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const l=s[a];if(l<0)ar(~l);else{const d=l,m=s[++a],v=s[++a];zd(m,d),v(2,i[d])}}}finally{ar(-1)}}(t,i);const v=t.components;null!==v&&function CE(t,i){for(let s=0;s<i.length;s++)ME(t,i[s])}(i,v);const E=t.viewQuery;if(null!==E&&rh(2,E,a),m){const w=t.viewCheckHooks;null!==w&&Zi(i,w)}else{const w=t.viewHooks;null!==w&&Is(i,w,2),vu(i,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),i[2]&=-41,512&i[2]&&(i[2]&=-513,Jt(i[3],-1))}finally{zi()}}}function qp(t,i,s,a,l){const d=Cn(),m=2&a;try{ar(-1),m&&i.length>22&&a_(t,i,22,!1),s(a,l)}finally{ar(d)}}function Ra(t,i,s){!ei()||(function tg(t,i,s,a){const l=s.directiveStart,d=s.directiveEnd;t.firstCreatePass||Qi(s,i),Ir(a,i);const m=s.initialInputs;for(let v=l;v<d;v++){const E=t.data[v],w=Vn(E);w&&N_(i,s,E);const S=bi(i,t,v,s);Ir(S,i),null!==m&&bE(0,v-l,S,E,0,m),w&&(bt(s.index,i)[8]=S)}}(t,i,s,qn(s,i)),128==(128&s.flags)&&function P_(t,i,s){const a=s.directiveStart,l=s.directiveEnd,d=s.index,m=function il(){return dt.lFrame.currentDirectiveIndex}();try{ar(d);for(let v=a;v<l;v++){const E=t.data[v],w=i[v];Qo(v),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&kr(E,w)}}finally{ar(-1),Qo(m)}}(t,i,s))}function Ks(t,i,s=qn){const a=i.localNames;if(null!==a){let l=i.index+1;for(let d=0;d<a.length;d+=2){const m=a[d+1],v=-1===m?s(i,t):t[m];t[l++]=v}}}function T_(t){const i=t.tView;return null===i||i.incompleteFirstPass?t.tView=dd(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):i}function dd(t,i,s,a,l,d,m,v,E,w){const S=22+a,N=S+l,U=function Yf(t,i){const s=[];for(let a=0;a<i;a++)s.push(a<t?null:Et);return s}(S,N),Q="function"==typeof w?w():w;return U[1]={type:t,blueprint:U,template:s,queries:null,viewQuery:v,declTNode:i,data:U.slice().fill(null,S),bindingStartIndex:S,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:E,consts:Q,incompleteFirstPass:!1}}function Yp(t,i,s){for(let a in t)if(t.hasOwnProperty(a)){const l=t[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(i,l):s[a]=[i,l]}return s}function Qp(t,i){const a=i.directiveEnd,l=t.data,d=i.attrs,m=[];let v=null,E=null;for(let w=i.directiveStart;w<a;w++){const S=l[w],N=S.inputs,U=null===d||Jm(i)?null:TE(N,d);m.push(U),v=Yp(N,w,v),E=Yp(S.outputs,w,E)}null!==v&&(v.hasOwnProperty("class")&&(i.flags|=16),v.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=m,i.inputs=v,i.outputs=E}function Jf(t,i){const s=bt(i,t);16&s[2]||(s[2]|=32)}function Xp(t,i,s,a){let l=!1;if(ei()){const d=function Xf(t,i,s){const a=t.directiveRegistry;let l=null;if(a)for(let d=0;d<a.length;d++){const m=a[d];Xm(s,m.selectors,!1)&&(l||(l=[]),Di(Qi(s,i),t,m.type),Vn(m)?(xo(t,s),l.unshift(m)):l.push(m))}return l}(t,i,s),m=null===a?null:{"":-1};if(null!==d){l=!0,Oa(s,t.data.length,d.length);for(let S=0;S<d.length;S++){const N=d[S];N.providersResolver&&N.providersResolver(N)}let v=!1,E=!1,w=Xu(t,i,d.length,null);for(let S=0;S<d.length;S++){const N=d[S];s.mergedAttrs=lo(s.mergedAttrs,N.hostAttrs),ng(t,s,i,w,N),ki(w,N,m),null!==N.contentQueries&&(s.flags|=8),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(s.flags|=128);const U=N.type.prototype;!v&&(U.ngOnChanges||U.ngOnInit||U.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(s.index),v=!0),!E&&(U.ngOnChanges||U.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(s.index),E=!0),w++}Qp(t,s)}m&&function eh(t,i,s){if(i){const a=t.localNames=[];for(let l=0;l<i.length;l+=2){const d=s[i[l+1]];if(null==d)throw new Te(-301,!1);a.push(i[l],d)}}}(s,a,m)}return s.mergedAttrs=lo(s.mergedAttrs,s.attrs),l}function eg(t,i,s,a,l,d){const m=d.hostBindings;if(m){let v=t.hostBindingOpCodes;null===v&&(v=t.hostBindingOpCodes=[]);const E=~i.index;(function M_(t){let i=t.length;for(;i>0;){const s=t[--i];if("number"==typeof s&&s<0)return s}return 0})(v)!=E&&v.push(E),v.push(a,l,m)}}function kr(t,i){null!==t.hostBindings&&t.hostBindings(1,i)}function xo(t,i){i.flags|=2,(t.components||(t.components=[])).push(i.index)}function ki(t,i,s){if(s){if(i.exportAs)for(let a=0;a<i.exportAs.length;a++)s[i.exportAs[a]]=t;Vn(i)&&(s[""]=t)}}function Oa(t,i,s){t.flags|=1,t.directiveStart=i,t.directiveEnd=i+s,t.providerIndexes=i}function ng(t,i,s,a,l){t.data[a]=l;const d=l.factory||(l.factory=Ur(l.type)),m=new Ci(d,Vn(l),Ma);t.blueprint[a]=m,s[a]=m,eg(t,i,0,a,Xu(t,s,l.hostVars,Et),l)}function N_(t,i,s){const a=qn(i,t),l=T_(s),d=t[10],m=nc(t,qf(t,l,null,s.onPush?32:16,a,i,d,d.createRenderer(a,s),null,null,null));t[i.index]=m}function Cr(t,i,s,a,l,d){const m=qn(t,i);!function R_(t,i,s,a,l,d,m){if(null==d)t.removeAttribute(i,l,s);else{const v=null==m?ae(d):m(d,a||"",l);t.setAttribute(i,l,v,s)}}(i[11],m,d,t.value,s,a,l)}function bE(t,i,s,a,l,d){const m=d[i];if(null!==m){const v=a.setInput;for(let E=0;E<m.length;){const w=m[E++],S=m[E++],N=m[E++];null!==v?a.setInput(s,N,w,S):s[S]=N}}}function TE(t,i){let s=null,a=0;for(;a<i.length;){const l=i[a];if(0!==l)if(5!==l){if("number"==typeof l)break;t.hasOwnProperty(l)&&(null===s&&(s=[]),s.push(l,t[l],i[a+1])),a+=2}else a+=2;else a+=4}return s}function x_(t,i,s,a){return new Array(t,!0,!1,i,null,0,a,s,null,null)}function ME(t,i){const s=bt(i,t);if(Wi(s)){const a=s[1];48&s[2]?ec(a,s,a.template,s[8]):s[5]>0&&Xl(s)}}function Xl(t){for(let a=Zt(t);null!==a;a=li(a))for(let l=10;l<a.length;l++){const d=a[l];if(Wi(d))if(512&d[2]){const m=d[1];ec(m,d,m.template,d[8])}else d[5]>0&&Xl(d)}const s=t[1].components;if(null!==s)for(let a=0;a<s.length;a++){const l=bt(s[a],t);Wi(l)&&l[5]>0&&Xl(l)}}function th(t,i){const s=bt(i,t),a=s[1];(function fd(t,i){for(let s=i.length;s<t.blueprint.length;s++)i.push(t.blueprint[s])})(a,s),Zp(a,s,s[8])}function nc(t,i){return t[13]?t[14][4]=i:t[13]=i,t[14]=i,i}function nh(t){for(;t;){t[2]|=32;const i=ss(t);if(mc(t)&&!i)return t;t=i}return null}function hd(t,i,s,a=!0){const l=i[10];l.begin&&l.begin();try{ec(t,i,t.template,s)}catch(m){throw a&&F_(i,m),m}finally{l.end&&l.end()}}function rh(t,i,s){ao(0),i(t,s)}function Fi(t){return t[7]||(t[7]=[])}function rg(t){return t.cleanup||(t.cleanup=[])}function F_(t,i){const s=t[9],a=s?s.get(Wu,null):null;a&&a.handleError(i)}function ig(t,i,s,a,l){for(let d=0;d<s.length;){const m=s[d++],v=s[d++],E=i[m],w=t.data[m];null!==w.setInput?w.setInput(E,l,a,v):E[v]=l}}function ih(t,i,s){let a=s?t.styles:null,l=s?t.classes:null,d=0;if(null!==i)for(let m=0;m<i.length;m++){const v=i[m];"number"==typeof v?d=v:1==d?l=_e(l,v):2==d&&(a=_e(a,v+": "+i[++m]+";"))}s?t.styles=a:t.stylesWithoutHost=a,s?t.classes=l:t.classesWithoutHost=l}function sh(t,i,s,a,l=!1){for(;null!==s;){const d=i[s.index];if(null!==d&&a.push(en(d)),Zn(d))for(let v=10;v<d.length;v++){const E=d[v],w=E[1].firstChild;null!==w&&sh(E[1],E,w,a)}const m=s.type;if(8&m)sh(t,i,s.child,a);else if(32&m){const v=Zu(s,i);let E;for(;E=v();)a.push(E)}else if(16&m){const v=Zm(i,s);if(Array.isArray(v))a.push(...v);else{const E=ss(i[16]);sh(E[1],E,v,a,!0)}}s=l?s.projectionNext:s.next}return a}class pd{constructor(i,s){this._lView=i,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,s=i[1];return sh(s,i,s.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(Zn(i)){const s=i[8],a=s?s.indexOf(this):-1;a>-1&&(Tp(i,a),Ai(s,a))}this._attachedToViewContainer=!1}Hm(this._lView[1],this._lView)}onDestroy(i){!function A_(t,i,s,a){const l=Fi(i);null===s?l.push(a):(l.push(s),t.firstCreatePass&&rg(t).push(a,l.length-1))}(this._lView[1],this._lView,null,i)}markForCheck(){nh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){hd(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Te(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Um(t,i){rd(t,i,i[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Te(902,!1);this._appRef=i}}class RE extends pd{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;hd(i[1],i,i[8],!1)}checkNoChanges(){}get context(){return null}}class sg extends $u{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const s=Z(i);return new gd(s,this.ngModule)}}function L_(t){const i=[];for(let s in t)t.hasOwnProperty(s)&&i.push({propName:t[s],templateName:s});return i}class xE{constructor(i,s){this.injector=i,this.parentInjector=s}get(i,s,a){const l=this.injector.get(i,it,a);return l!==it||s===it?l:this.parentInjector.get(i,s,a)}}class gd extends Wc{constructor(i,s){super(),this.componentDef=i,this.ngModule=s,this.componentType=i.type,this.selector=function Mf(t){return t.map(i_).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return L_(this.componentDef.inputs)}get outputs(){return L_(this.componentDef.outputs)}create(i,s,a,l){let d=(l=l||this.ngModule)instanceof vr?l:l?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const m=d?new xE(i,d):i,v=m.get(b,null);if(null===v)throw new Te(407,!1);const E=m.get(ie,null),w=v.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",N=a?function tc(t,i,s){return t.selectRootElement(i,s===qe.ShadowDom)}(w,a,this.componentDef.encapsulation):Gs(v.createRenderer(null,this.componentDef),S,function OE(t){const i=t.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(S)),U=this.componentDef.onPush?288:272,Q=dd(0,null,null,1,0,null,null,null,null,null),ge=qf(null,Q,null,U,null,null,v,w,E,m,null);let Me,Be;Xo(ge);try{const Ye=function LE(t,i,s,a,l,d){const m=s[1];s[22]=t;const E=Jl(m,22,2,"#host",null),w=E.mergedAttrs=i.hostAttrs;null!==w&&(ih(E,w,!0),null!==t&&(ws(l,t,w),null!==E.classes&&Af(l,t,E.classes),null!==E.styles&&Tf(l,t,E.styles)));const S=a.createRenderer(t,i),N=qf(s,T_(i),null,i.onPush?32:16,s[22],E,a,S,d||null,null,null);return m.firstCreatePass&&(Di(Qi(E,s),m,i.type),xo(m,E),Oa(E,s.length,1)),nc(s,N),s[22]=N}(N,this.componentDef,ge,v,w);if(N)if(a)ws(w,N,["ng-version",Ge.full]);else{const{attrs:ut,classes:De}=function s_(t){const i=[],s=[];let a=1,l=2;for(;a<t.length;){let d=t[a];if("string"==typeof d)2===l?""!==d&&i.push(d,t[++a]):8===l&&s.push(d);else{if(!os(l))break;l=d}a++}return{attrs:i,classes:s}}(this.componentDef.selectors[0]);ut&&ws(w,N,ut),De&&De.length>0&&Af(w,N,De.join(" "))}if(Be=vs(Q,22),void 0!==s){const ut=Be.projection=[];for(let De=0;De<this.ngContentSelectors.length;De++){const ht=s[De];ut.push(null!=ht?Array.from(ht):null)}}Me=function VE(t,i,s,a){const l=s[1],d=function Jp(t,i,s){const a=tn();t.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),ng(t,a,i,Xu(t,i,1,null),s),Qp(t,a));const l=bi(i,t,a.directiveStart,a);Ir(l,i);const d=qn(a,i);return d&&Ir(d,i),l}(l,s,i);if(t[8]=s[8]=d,null!==a)for(const v of a)v(d,i);if(i.contentQueries){const v=tn();i.contentQueries(1,d,v.directiveStart)}const m=tn();return!l.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(ar(m.index),eg(s[1],m,0,m.directiveStart,m.directiveEnd,i),kr(i,d)),d}(Ye,this.componentDef,ge,[BE]),Zp(Q,ge,null)}finally{zi()}return new FE(this.componentType,Me,g(Be,ge),ge,Be)}}class FE extends class Wr{}{constructor(i,s,a,l,d){super(),this.location=a,this._rootLView=l,this._tNode=d,this.instance=s,this.hostView=this.changeDetectorRef=new RE(l),this.componentType=i}setInput(i,s){const a=this._tNode.inputs;let l;if(null!==a&&(l=a[i])){const d=this._rootLView;ig(d[1],d,l,i,s),Jf(d,this._tNode.index)}}get injector(){return new Xi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function BE(){const t=tn();na(Ie()[1],t)}function ui(t){let i=function V_(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const a=[t];for(;i;){let l;if(Vn(t))l=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Te(903,!1);l=i.\u0275dir}if(l){if(s){a.push(l);const m=t;m.inputs=md(t.inputs),m.declaredInputs=md(t.declaredInputs),m.outputs=md(t.outputs);const v=l.hostBindings;v&&U_(t,v);const E=l.viewQuery,w=l.contentQueries;if(E&&B_(t,E),w&&jE(t,w),fe(t.inputs,l.inputs),fe(t.declaredInputs,l.declaredInputs),fe(t.outputs,l.outputs),Vn(l)&&l.data.animation){const S=t.data;S.animation=(S.animation||[]).concat(l.data.animation)}}const d=l.features;if(d)for(let m=0;m<d.length;m++){const v=d[m];v&&v.ngInherit&&v(t),v===ui&&(s=!1)}}i=Object.getPrototypeOf(i)}!function UE(t){let i=0,s=null;for(let a=t.length-1;a>=0;a--){const l=t[a];l.hostVars=i+=l.hostVars,l.hostAttrs=lo(l.hostAttrs,s=lo(s,l.hostAttrs))}}(a)}function md(t){return t===ir?{}:t===ct?[]:t}function B_(t,i){const s=t.viewQuery;t.viewQuery=s?(a,l)=>{i(a,l),s(a,l)}:i}function jE(t,i){const s=t.contentQueries;t.contentQueries=s?(a,l,d)=>{i(a,l,d),s(a,l,d)}:i}function U_(t,i){const s=t.hostBindings;t.hostBindings=s?(a,l)=>{i(a,l),s(a,l)}:i}let oh=null;function xa(){if(!oh){const t=kt.Symbol;if(t&&t.iterator)oh=t.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<i.length;++s){const a=i[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(oh=a)}}}return oh}function _d(t){return!!og(t)&&(Array.isArray(t)||!(t instanceof Map)&&xa()in t)}function og(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function qs(t,i,s){return t[i]=s}function Dr(t,i,s){return!Object.is(t[i],s)&&(t[i]=s,!0)}function ag(t,i,s,a){const l=Ie();return Dr(l,Gi(),i)&&(Dt(),Cr(Kt(),l,t,i,s,a)),ag}function K_(t,i,s,a,l,d,m,v){const E=Ie(),w=Dt(),S=t+22,N=w.firstCreatePass?function zE(t,i,s,a,l,d,m,v,E){const w=i.consts,S=Jl(i,t,4,m||null,Pr(w,v));Xp(i,s,S,Pr(w,E)),na(i,S);const N=S.tViews=dd(2,S,a,l,d,i.directiveRegistry,i.pipeRegistry,null,i.schemas,w);return null!==i.queries&&(i.queries.template(i,S),N.queries=i.queries.embeddedTView(S)),S}(S,w,E,i,s,a,l,d,m):w.data[S];_r(N,!1);const U=E[11].createComment("");nd(w,E,U,N),Ir(U,E),nc(E,E[S]=x_(U,E,U,N)),Ga(N)&&Ra(w,E,N),null!=m&&Ks(E,N,v)}function uh(t,i,s){const a=Ie();return Dr(a,Gi(),i)&&function xr(t,i,s,a,l,d,m,v){const E=qn(i,s);let S,w=i.inputs;!v&&null!=w&&(S=w[a])?(ig(t,s,S,a,l),Xs(i)&&Jf(s,i.index)):3&i.type&&(a=function Qf(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),l=null!=m?m(l,i.value||"",a):l,d.setProperty(E,a,l))}(Dt(),Kt(),a,t,i,a[11],s,!1),uh}function ch(t,i,s,a,l){const m=l?"class":"style";ig(t,s,i.inputs[m],m,a)}function dh(t,i,s,a){const l=Ie(),d=Dt(),m=22+t,v=l[11],E=l[m]=Gs(v,i,function ta(){return dt.lFrame.currentNamespace}()),w=d.firstCreatePass?function ZE(t,i,s,a,l,d,m){const v=i.consts,w=Jl(i,t,2,l,Pr(v,d));return Xp(i,s,w,Pr(v,m)),null!==w.attrs&&ih(w,w.attrs,!1),null!==w.mergedAttrs&&ih(w,w.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,w),w}(m,d,l,0,i,s,a):d.data[m];_r(w,!0);const S=w.mergedAttrs;null!==S&&ws(v,E,S);const N=w.classes;null!==N&&Af(v,E,N);const U=w.styles;return null!==U&&Tf(v,E,U),64!=(64&w.flags)&&nd(d,l,E,w),0===function Zo(){return dt.lFrame.elementDepthCount}()&&Ir(E,l),function qo(){dt.lFrame.elementDepthCount++}(),Ga(w)&&(Ra(d,l,w),function b_(t,i,s){if(Bo(i)){const l=i.directiveEnd;for(let d=i.directiveStart;d<l;d++){const m=t.data[d];m.contentQueries&&m.contentQueries(1,s[d],d)}}}(d,w,l)),null!==a&&Ks(l,w),dh}function fh(){let t=tn();no()?function ro(){dt.lFrame.isParent=!1}():(t=t.parent,_r(t,!1));const i=t;!function Qa(){dt.lFrame.elementDepthCount--}();const s=Dt();return s.firstCreatePass&&(na(s,t),Bo(t)&&s.queries.elementEnd(t)),null!=i.classesWithoutHost&&function sa(t){return 0!=(16&t.flags)}(i)&&ch(s,i,Ie(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function Iu(t){return 0!=(32&t.flags)}(i)&&ch(s,i,Ie(),i.stylesWithoutHost,!1),fh}function lg(t,i,s,a){return dh(t,i,s,a),fh(),lg}function hh(t){return!!t&&"function"==typeof t.then}function Id(t){return!!t&&"function"==typeof t.subscribe}const q_=Id;function Y_(t,i,s,a){const l=Ie(),d=Dt(),m=tn();return function YE(t,i,s,a,l,d,m,v){const E=Ga(a),S=t.firstCreatePass&&rg(t),N=i[8],U=Fi(i);let Q=!0;if(3&a.type||v){const Be=qn(a,i),Ye=v?v(Be):Be,ut=U.length,De=v?Wt=>v(en(Wt[a.index])):a.index;let ht=null;if(!v&&E&&(ht=function hg(t,i,s,a){const l=t.cleanup;if(null!=l)for(let d=0;d<l.length-1;d+=2){const m=l[d];if(m===s&&l[d+1]===a){const v=i[7],E=l[d+2];return v.length>E?v[E]:null}"string"==typeof m&&(d+=2)}return null}(t,i,l,a.index)),null!==ht)(ht.__ngLastListenerFn__||ht).__ngNextListenerFn__=d,ht.__ngLastListenerFn__=d,Q=!1;else{d=J_(a,i,N,d,!1);const Wt=s.listen(Ye,l,d);U.push(d,Wt),S&&S.push(l,De,ut,ut+1)}}else d=J_(a,i,N,d,!1);const ge=a.outputs;let Me;if(Q&&null!==ge&&(Me=ge[l])){const Be=Me.length;if(Be)for(let Ye=0;Ye<Be;Ye+=2){const Tn=i[Me[Ye]][Me[Ye+1]].subscribe(d),Bd=U.length;U.push(d,Tn),S&&S.push(l,a.index,Bd,-(Bd+1))}}}(d,l,l[11],m,t,i,0,a),Y_}function QE(t,i,s,a){try{return!1!==s(a)}catch(l){return F_(t,l),!1}}function J_(t,i,s,a,l){return function d(m){if(m===Function)return a;nh(2&t.flags?bt(t.index,i):i);let E=QE(i,0,a,m),w=d.__ngNextListenerFn__;for(;w;)E=QE(i,0,w,m)&&E,w=w.__ngNextListenerFn__;return l&&!1===E&&(m.preventDefault(),m.returnValue=!1),E}}function X_(t=1){return function Ki(t){return(dt.lFrame.contextLView=function ea(t,i){for(;t>0;)i=i[15],t--;return i}(t,dt.lFrame.contextLView))[8]}(t)}function ry(t,i,s,a,l){const d=t[s+1],m=null===i;let v=a?as(d):ls(d),E=!1;for(;0!==v&&(!1===E||m);){const S=t[v+1];rI(t[v],i)&&(E=!0,t[v+1]=a?ld(S):ad(S)),v=a?as(S):ls(S)}E&&(t[s+1]=a?ad(d):ld(d))}function rI(t,i){return null===t||null==i||(Array.isArray(t)?t[1]:t)===i||!(!Array.isArray(t)||"string"!=typeof i)&&Rs(t,i)>=0}const Fn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function iy(t){return t.substring(Fn.key,Fn.keyEnd)}function iI(t){return t.substring(Fn.value,Fn.valueEnd)}function sy(t,i){const s=Fn.textEnd;return s===i?-1:(i=Fn.keyEnd=function ph(t,i,s){for(;i<s&&t.charCodeAt(i)>32;)i++;return i}(t,Fn.key=i,s),ka(t,i,s))}function Cd(t,i){const s=Fn.textEnd;let a=Fn.key=ka(t,i,s);return s===a?-1:(a=Fn.keyEnd=function yg(t,i,s){let a;for(;i<s&&(45===(a=t.charCodeAt(i))||95===a||(-33&a)>=65&&(-33&a)<=90||a>=48&&a<=57);)i++;return i}(t,a,s),a=gh(t,a,s),a=Fn.value=ka(t,a,s),a=Fn.valueEnd=function oI(t,i,s){let a=-1,l=-1,d=-1,m=i,v=m;for(;m<s;){const E=t.charCodeAt(m++);if(59===E)return v;34===E||39===E?v=m=oy(t,E,m,s):i===m-4&&85===d&&82===l&&76===a&&40===E?v=m=oy(t,41,m,s):E>32&&(v=m),d=l,l=a,a=-33&E}return v}(t,a,s),gh(t,a,s))}function _g(t){Fn.key=0,Fn.keyEnd=0,Fn.value=0,Fn.valueEnd=0,Fn.textEnd=t.length}function ka(t,i,s){for(;i<s&&t.charCodeAt(i)<=32;)i++;return i}function gh(t,i,s,a){return(i=ka(t,i,s))<s&&i++,i}function oy(t,i,s,a){let l=-1,d=s;for(;d<a;){const m=t.charCodeAt(d++);if(m==i&&92!==l)return d;l=92==m&&92===l?0:m}throw new Error}function vg(t,i,s){return ds(t,i,s,!1),vg}function Eg(t,i){return ds(t,i,null,!0),Eg}function Lr(t){fs(_h,ay,t,!1)}function ay(t,i){for(let s=function Fr(t){return _g(t),Cd(t,ka(t,0,Fn.textEnd))}(i);s>=0;s=Cd(i,s))_h(t,iy(i),iI(i))}function Dd(t){fs(Jn,cs,t,!0)}function cs(t,i){for(let s=function sI(t){return _g(t),sy(t,ka(t,0,Fn.textEnd))}(i);s>=0;s=sy(i,s))Jn(t,iy(i),!0)}function ds(t,i,s,a){const l=Ie(),d=Dt(),m=ti(2);d.firstUpdatePass&&uy(d,t,m,a),i!==Et&&Dr(l,m,i)&&fy(d,d.data[Cn()],l,l[11],t,l[m+1]=function hy(t,i){return null==t||("string"==typeof i?t+=i:"object"==typeof t&&(t=ue(Pi(t)))),t}(i,s),a,m)}function fs(t,i,s,a){const l=Dt(),d=ti(2);l.firstUpdatePass&&uy(l,null,d,a);const m=Ie();if(s!==Et&&Dr(m,d,s)){const v=l.data[Cn()];if(vh(v,a)&&!ly(l,d)){let E=a?v.classesWithoutHost:v.stylesWithoutHost;null!==E&&(s=_e(E,s||"")),ch(l,v,m,s,a)}else!function Dg(t,i,s,a,l,d,m,v){l===Et&&(l=ct);let E=0,w=0,S=0<l.length?l[0]:null,N=0<d.length?d[0]:null;for(;null!==S||null!==N;){const U=E<l.length?l[E+1]:void 0,Q=w<d.length?d[w+1]:void 0;let Me,ge=null;S===N?(E+=2,w+=2,U!==Q&&(ge=N,Me=Q)):null===N||null!==S&&S<N?(E+=2,ge=S):(w+=2,ge=N,Me=Q),null!==ge&&fy(t,i,s,a,ge,Me,m,v),S=E<l.length?l[E]:null,N=w<d.length?d[w]:null}}(l,v,m,m[11],m[d+1],m[d+1]=function aI(t,i,s){if(null==s||""===s)return ct;const a=[],l=Pi(s);if(Array.isArray(l))for(let d=0;d<l.length;d++)t(a,l[d],!0);else if("object"==typeof l)for(const d in l)l.hasOwnProperty(d)&&t(a,d,l[d]);else"string"==typeof l&&i(a,l);return a}(t,i,s),a,d)}}function ly(t,i){return i>=t.expandoStartIndex}function uy(t,i,s,a){const l=t.data;if(null===l[s+1]){const d=l[Cn()],m=ly(t,s);vh(d,a)&&null===i&&!m&&(i=!1),i=function cy(t,i,s,a){const l=function oo(t){const i=dt.lFrame.currentDirectiveIndex;return-1===i?null:t[i]}(t);let d=a?i.residualClasses:i.residualStyles;if(null===l)0===(a?i.classBindings:i.styleBindings)&&(s=Fo(s=mh(null,t,i,s,a),i.attrs,a),d=null);else{const m=i.directiveStylingLast;if(-1===m||t[m]!==l)if(s=mh(l,t,i,s,a),null===d){let E=function Ig(t,i,s){const a=s?i.classBindings:i.styleBindings;if(0!==ls(a))return t[as(a)]}(t,i,a);void 0!==E&&Array.isArray(E)&&(E=mh(null,t,i,E[1],a),E=Fo(E,i.attrs,a),function dy(t,i,s,a){t[as(s?i.classBindings:i.styleBindings)]=a}(t,i,a,E))}else d=function Cg(t,i,s){let a;const l=i.directiveEnd;for(let d=1+i.directiveStylingLast;d<l;d++)a=Fo(a,t[d].hostAttrs,s);return Fo(a,i.attrs,s)}(t,i,a)}return void 0!==d&&(a?i.residualClasses=d:i.residualStyles=d),s}(l,d,i,a),function mg(t,i,s,a,l,d){let m=d?i.classBindings:i.styleBindings,v=as(m),E=ls(m);t[a]=s;let S,w=!1;if(Array.isArray(s)){const N=s;S=N[1],(null===S||Rs(N,S)>0)&&(w=!0)}else S=s;if(l)if(0!==E){const U=as(t[v+1]);t[a+1]=Vf(U,v),0!==U&&(t[U+1]=Qu(t[U+1],a)),t[v+1]=function Bp(t,i){return 131071&t|i<<17}(t[v+1],a)}else t[a+1]=Vf(v,0),0!==v&&(t[v+1]=Qu(t[v+1],a)),v=a;else t[a+1]=Vf(E,0),0===v?v=a:t[E+1]=Qu(t[E+1],a),E=a;w&&(t[a+1]=ad(t[a+1])),ry(t,S,a,!0),ry(t,S,a,!1),function nI(t,i,s,a,l){const d=l?t.residualClasses:t.residualStyles;null!=d&&"string"==typeof i&&Rs(d,i)>=0&&(s[a+1]=ld(s[a+1]))}(i,S,t,a,d),m=Vf(v,E),d?i.classBindings=m:i.styleBindings=m}(l,d,i,s,m,a)}}function mh(t,i,s,a,l){let d=null;const m=s.directiveEnd;let v=s.directiveStylingLast;for(-1===v?v=s.directiveStart:v++;v<m&&(d=i[v],a=Fo(a,d.hostAttrs,l),d!==t);)v++;return null!==t&&(s.directiveStylingLast=v),a}function Fo(t,i,s){const a=s?1:2;let l=-1;if(null!==i)for(let d=0;d<i.length;d++){const m=i[d];"number"==typeof m?l=m:l===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Jn(t,m,!!s||i[++d]))}return void 0===t?null:t}function _h(t,i,s){Jn(t,i,Pi(s))}function fy(t,i,s,a,l,d,m,v){if(!(3&i.type))return;const E=t.data,w=E[v+1];wd(function Pa(t){return 1==(1&t)}(w)?yh(E,i,s,l,ls(w),m):void 0)||(wd(d)||function Vp(t){return 2==(2&t)}(w)&&(d=yh(E,null,s,l,v,m)),function bf(t,i,s,a,l){if(i)l?t.addClass(s,a):t.removeClass(s,a);else{let d=-1===a.indexOf("-")?void 0:Ws.DashCase;null==l?t.removeStyle(s,a,d):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),d|=Ws.Important),t.setStyle(s,a,l,d))}}(a,m,mr(Cn(),s),l,d))}function yh(t,i,s,a,l,d){const m=null===i;let v;for(;l>0;){const E=t[l],w=Array.isArray(E),S=w?E[1]:E,N=null===S;let U=s[l+1];U===Et&&(U=N?ct:void 0);let Q=N?Io(U,a):S===a?U:void 0;if(w&&!wd(Q)&&(Q=Io(E,a)),wd(Q)&&(v=Q,m))return v;const ge=t[l+1];l=m?as(ge):ls(ge)}if(null!==i){let E=d?i.residualClasses:i.residualStyles;null!=E&&(v=Io(E,a))}return v}function wd(t){return void 0!==t}function vh(t,i){return 0!=(t.flags&(i?16:32))}function py(t,i=""){const s=Ie(),a=Dt(),l=t+22,d=a.firstCreatePass?Jl(a,l,1,i,null):a.data[l],m=s[l]=function Xc(t,i){return t.createText(i)}(s[11],i);nd(a,s,m,d),_r(d,!1)}function wg(t){return Eh("",t,""),wg}function Eh(t,i,s){const a=Ie(),l=function Ed(t,i,s,a){return Dr(t,Gi(),s)?i+ae(s)+a:Et}(a,t,i,s);return l!==Et&&function Zs(t,i,s){const a=mr(i,t);!function Sa(t,i,s){t.setValue(i,s)}(t[11],a,s)}(a,Cn(),l),Eh}const Fa=void 0;var Cy=["en",[["a","p"],["AM","PM"],Fa],[["AM","PM"],Fa,Fa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Fa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Fa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Fa,"{1} 'at' {0}",Fa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function wI(t){const s=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let La={};function wy(t){const i=function TI(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=Ty(i);if(s)return s;const a=i.split("-")[0];if(s=Ty(a),s)return s;if("en"===a)return Cy;throw new Te(701,!1)}function bI(t){return wy(t)[lt.PluralCase]}function Ty(t){return t in La||(La[t]=kt.ng&&kt.ng.common&&kt.ng.common.locales&&kt.ng.common.locales[t]),La[t]}var lt=(()=>((lt=lt||{})[lt.LocaleId=0]="LocaleId",lt[lt.DayPeriodsFormat=1]="DayPeriodsFormat",lt[lt.DayPeriodsStandalone=2]="DayPeriodsStandalone",lt[lt.DaysFormat=3]="DaysFormat",lt[lt.DaysStandalone=4]="DaysStandalone",lt[lt.MonthsFormat=5]="MonthsFormat",lt[lt.MonthsStandalone=6]="MonthsStandalone",lt[lt.Eras=7]="Eras",lt[lt.FirstDayOfWeek=8]="FirstDayOfWeek",lt[lt.WeekendRange=9]="WeekendRange",lt[lt.DateFormat=10]="DateFormat",lt[lt.TimeFormat=11]="TimeFormat",lt[lt.DateTimeFormat=12]="DateTimeFormat",lt[lt.NumberSymbols=13]="NumberSymbols",lt[lt.NumberFormats=14]="NumberFormats",lt[lt.CurrencyCode=15]="CurrencyCode",lt[lt.CurrencySymbol=16]="CurrencySymbol",lt[lt.CurrencyName=17]="CurrencyName",lt[lt.Currencies=18]="Currencies",lt[lt.Directionality=19]="Directionality",lt[lt.PluralCase=20]="PluralCase",lt[lt.ExtraData=21]="ExtraData",lt))();const cc="en-US";let AI=cc;function Gg(t,i,s,a,l){if(t=X(t),Array.isArray(t))for(let d=0;d<t.length;d++)Gg(t[d],i,s,a,l);else{const d=Dt(),m=Ie();let v=js(t)?t:X(t.provide),E=is(t);const w=tn(),S=1048575&w.providerIndexes,N=w.directiveStart,U=w.providerIndexes>>20;if(js(t)||!t.multi){const Q=new Ci(E,l,Ma),ge=nr(v,i,l?S:S+U,N);-1===ge?(Di(Qi(w,m),d,v),Ys(d,t,i.length),i.push(v),w.directiveStart++,w.directiveEnd++,l&&(w.providerIndexes+=1048576),s.push(Q),m.push(Q)):(s[ge]=Q,m[ge]=Q)}else{const Q=nr(v,i,S+U,N),ge=nr(v,i,S,S+U),Me=Q>=0&&s[Q],Be=ge>=0&&s[ge];if(l&&!Be||!l&&!Me){Di(Qi(w,m),d,v);const Ye=function Zy(t,i,s,a,l){const d=new Ci(t,s,Ma);return d.multi=[],d.index=i,d.componentProviders=0,zg(d,l,a&&!s),d}(l?tC:Ba,s.length,l,a,E);!l&&Be&&(s[ge].providerFactory=Ye),Ys(d,t,i.length,0),i.push(v),w.directiveStart++,w.directiveEnd++,l&&(w.providerIndexes+=1048576),s.push(Ye),m.push(Ye)}else Ys(d,t,Q>-1?Q:ge,zg(s[l?ge:Q],E,!l&&a));!l&&a&&Be&&s[ge].componentProviders++}}}function Ys(t,i,s,a){const l=js(i),d=function op(t){return!!t.useClass}(i);if(l||d){const E=(d?X(i.useClass):i).prototype.ngOnDestroy;if(E){const w=t.destroyHooks||(t.destroyHooks=[]);if(!l&&i.multi){const S=w.indexOf(s);-1===S?w.push(s,[a,E]):w[S+1].push(a,E)}else w.push(s,E)}}}function zg(t,i,s){return s&&t.componentProviders++,t.multi.push(i)-1}function nr(t,i,s,a){for(let l=s;l<a;l++)if(i[l]===t)return l;return-1}function Ba(t,i,s,a){return Ky(this.multi,[])}function tC(t,i,s,a){const l=this.multi;let d;if(this.providerFactory){const m=this.providerFactory.componentProviders,v=bi(s,s[1],this.providerFactory.index,a);d=v.slice(0,m),Ky(l,d);for(let E=m;E<v.length;E++)d.push(v[E])}else d=[],Ky(l,d);return d}function Ky(t,i){for(let s=0;s<t.length;s++)i.push((0,t[s])());return i}function Kg(t,i=[]){return s=>{s.providersResolver=(a,l)=>function Wg(t,i,s){const a=Dt();if(a.firstCreatePass){const l=Vn(t);Gg(s,a.data,a.blueprint,l,!0),Gg(i,a.data,a.blueprint,l,!1)}}(a,l?l(t):t,i)}}class ru{}function Yy(t,i){return new Zg(t,i??null)}class Zg extends ru{constructor(i,s){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new sg(this);const a=function Bt(t,i){const s=t[Rt]||null;if(!s&&!0===i)throw new Error(`Type ${ue(t)} does not have '\u0275mod' property.`);return s}(i);this._bootstrapComponents=function ai(t){return t instanceof Function?t():t}(a.bootstrap),this._r3Injector=sd(i,s,[{provide:ru,useValue:this},{provide:$u,useValue:this.componentFactoryResolver}],ue(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class Ph extends class qy{}{constructor(i){super(),this.moduleType=i}create(i){return new Zg(this.moduleType,i)}}function iC(t,i,s){const a=nn()+t,l=Ie();return l[a]===Et?qs(l,a,s?i.call(s):i()):function yd(t,i){return t[i]}(l,a)}function lC(t,i,s,a,l,d){const m=i+s;return Dr(t,m,l)?qs(t,m+1,d?a.call(d,l):a(l)):function kh(t,i){const s=t[i];return s===Et?void 0:s}(t,m+1)}function lv(t,i){const s=Dt();let a;const l=t+22;s.firstCreatePass?(a=function uv(t,i){if(i)for(let s=i.length-1;s>=0;s--){const a=i[s];if(t===a.name)return a}}(i,s.pipeRegistry),s.data[l]=a,a.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(l,a.onDestroy)):a=s.data[l];const d=a.factory||(a.factory=Ur(a.type)),m=yn(Ma);try{const v=fo(!1),E=d();return fo(v),function Z_(t,i,s,a){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),i[s]=a}(s,Ie(),l,E),E}finally{yn(m)}}function cv(t,i,s){const a=t+22,l=Ie(),d=function Xr(t,i){return t[i]}(l,a);return function Qs(t,i){return t[1].data[i].pure}(l,a)?lC(l,nn(),i,d.transform,s,d):d.transform(s)}function Nd(t){return i=>{setTimeout(t,void 0,i)}}const hs=class Pd extends h.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,s,a){let l=i,d=s||(()=>null),m=a;if(i&&"object"==typeof i){const E=i;l=E.next?.bind(E),d=E.error?.bind(E),m=E.complete?.bind(E)}this.__isAsync&&(d=Nd(d),l&&(l=Nd(l)),m&&(m=Nd(m)));const v=super.subscribe({next:l,error:d,complete:m});return i instanceof J.w0&&i.add(v),v}};let ja=(()=>{class t{}return t.__NG_ELEMENT_ID__=hv,t})();const dv=ja,fv=class extends dv{constructor(i,s,a){super(),this._declarationLView=i,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(i,s){const a=this._declarationTContainer.tViews,l=qf(this._declarationLView,a,i,16,null,a.declTNode,null,null,null,null,s||null);l[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(l[19]=m.createEmbeddedView(a)),Zp(a,l,i),new pd(l)}};function hv(){return function hc(t,i){return 4&t.type?new fv(i,t,g(t,i)):null}(tn(),Ie())}let im=(()=>{class t{}return t.__NG_ELEMENT_ID__=XD,t})();function XD(){return function Od(t,i){let s;const a=i[t.index];if(Zn(a))s=a;else{let l;if(8&t.type)l=en(a);else{const d=i[11];l=d.createComment("");const m=qn(t,i);jl(d,Hl(d,m),l,function Mp(t,i){return t.nextSibling(i)}(d,m),!1)}i[t.index]=s=x_(a,i,l,t),nc(i,s)}return new gC(s,t,i)}(tn(),Ie())}const pC=im,gC=class extends pC{constructor(i,s,a){super(),this._lContainer=i,this._hostTNode=s,this._hostLView=a}get element(){return g(this._hostTNode,this._hostLView)}get injector(){return new Xi(this._hostTNode,this._hostLView)}get parentInjector(){const i=ua(this._hostTNode,this._hostLView);if(Du(i)){const s=co(i,this._hostLView),a=Pn(i);return new Xi(s[1].data[a+8],s)}return new Xi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const s=Rd(this._lContainer);return null!==s&&s[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,s,a){let l,d;"number"==typeof a?l=a:null!=a&&(l=a.index,d=a.injector);const m=i.createEmbeddedView(s||{},d);return this.insert(m,l),m}createComponent(i,s,a,l,d){const m=i&&!function Ps(t){return"function"==typeof t}(i);let v;if(m)v=s;else{const N=s||{};v=N.index,a=N.injector,l=N.projectableNodes,d=N.environmentInjector||N.ngModuleRef}const E=m?i:new gd(Z(i)),w=a||this.parentInjector;if(!d&&null==E.ngModule){const U=(m?w:this.parentInjector).get(vr,null);U&&(d=U)}const S=E.create(w,l,void 0,d);return this.insert(S.hostView,v),S}insert(i,s){const a=i._lView,l=a[1];if(function Go(t){return Zn(t[3])}(a)){const S=this.indexOf(i);if(-1!==S)this.detach(S);else{const N=a[3],U=new gC(N,N[6],N[3]);U.detach(U.indexOf(i))}}const d=this._adjustIndex(s),m=this._lContainer;!function Qv(t,i,s,a){const l=10+a,d=s.length;a>0&&(s[l-1][4]=i),a<d-10?(i[4]=s[l],Ns(s,10+a,i)):(s.push(i),i[4]=null),i[3]=s;const m=i[17];null!==m&&s!==m&&function Jv(t,i){const s=t[9];i[16]!==i[3][3][16]&&(t[2]=!0),null===s?t[9]=[i]:s.push(i)}(m,i);const v=i[19];null!==v&&v.insertView(t),i[2]|=64}(l,a,m,d);const v=Df(d,m),E=a[11],w=Hl(E,m[7]);return null!==w&&function Yu(t,i,s,a,l,d){a[0]=l,a[6]=i,rd(t,a,s,1,l,d)}(l,m[6],E,a,w,v),i.attachToViewContainerRef(),Ns(iu(m),d,i),i}move(i,s){return this.insert(i,s)}indexOf(i){const s=Rd(this._lContainer);return null!==s?s.indexOf(i):-1}remove(i){const s=this._adjustIndex(i,-1),a=Tp(this._lContainer,s);a&&(Ai(iu(this._lContainer),s),Hm(a[1],a))}detach(i){const s=this._adjustIndex(i,-1),a=Tp(this._lContainer,s);return a&&null!=Ai(iu(this._lContainer),s)?new pd(a):null}_adjustIndex(i,s=0){return i??this.length+s}};function Rd(t){return t[8]}function iu(t){return t[8]||(t[8]=[])}function zh(...t){}const Ov=new Ht("Application Initializer");let Ld=(()=>{class t{constructor(s){this.appInits=s,this.resolve=zh,this.reject=zh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,l)=>{this.resolve=a,this.reject=l})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const d=this.appInits[l]();if(hh(d))s.push(d);else if(q_(d)){const m=new Promise((v,E)=>{d.subscribe({complete:v,error:E})});s.push(m)}}Promise.all(s).then(()=>{a()}).catch(l=>{this.reject(l)}),0===s.length&&a(),this.initialized=!0}}return t.\u0275fac=function(s){return new(s||t)(sn(Ov,8))},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const xv=new Ht("AppId",{providedIn:"root",factory:function Em(){return`${kv()}${kv()}${kv()}`}});function kv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const jC=new Ht("Platform Initializer"),HC=new Ht("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),$C=new Ht("appBootstrapListener"),Im=new Ht("LocaleId",{providedIn:"root",factory:()=>function wo(t,i=$e.Default){return"number"!=typeof i&&(i=0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)),sn(t,i)}(Im,$e.Optional|$e.SkipSelf)||function cw(){return typeof $localize<"u"&&$localize.locale||cc}()}),dw=new Ht("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"}),KC=(()=>Promise.resolve(0))();function Cm(t){typeof Zone>"u"?KC.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Bi{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new hs(!1),this.onMicrotaskEmpty=new hs(!1),this.onStable=new hs(!1),this.onError=new hs(!1),typeof Zone>"u")throw new Te(908,!1);Zone.assertZonePatched();const l=this;if(l._nesting=0,l._outer=l._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const d=Zone.AsyncStackTaggingZoneSpec;l._inner=l._inner.fork(new d("Angular"))}Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!a&&s,l.shouldCoalesceRunChangeDetection=a,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function ZC(){let t=kt.requestAnimationFrame,i=kt.cancelAnimationFrame;if(typeof Zone<"u"&&t&&i){const s=t[Zone.__symbol__("OriginalDelegate")];s&&(t=s);const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function YC(t){const i=()=>{!function Bv(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(kt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,wm(t),t.isCheckStableRunning=!0,Dm(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),wm(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,l,d,m,v)=>{try{return r(t),s.invokeTask(l,d,m,v)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||t.shouldCoalesceRunChangeDetection)&&i(),n(t)}},onInvoke:(s,a,l,d,m,v,E)=>{try{return r(t),s.invoke(l,d,m,v,E)}finally{t.shouldCoalesceRunChangeDetection&&i(),n(t)}},onHasTask:(s,a,l,d)=>{s.hasTask(l,d),a===l&&("microTask"==d.change?(t._hasPendingMicrotasks=d.microTask,wm(t),Dm(t)):"macroTask"==d.change&&(t.hasPendingMacrotasks=d.macroTask))},onHandleError:(s,a,l,d)=>(s.handleError(l,d),t.runOutsideAngular(()=>t.onError.emit(d)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Bi.isInAngularZone())throw new Te(909,!1)}static assertNotInAngularZone(){if(Bi.isInAngularZone())throw new Te(909,!1)}run(i,s,a){return this._inner.run(i,s,a)}runTask(i,s,a,l){const d=this._inner,m=d.scheduleEventTask("NgZoneEvent: "+l,i,qC,zh,zh);try{return d.runTask(m,s,a)}finally{d.cancelTask(m)}}runGuarded(i,s,a){return this._inner.runGuarded(i,s,a)}runOutsideAngular(i){return this._outer.run(i)}}const qC={};function Dm(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function wm(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function r(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function n(t){t._nesting--,Dm(t)}class e{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new hs,this.onMicrotaskEmpty=new hs,this.onStable=new hs,this.onError=new hs}run(i,s,a){return i.apply(s,a)}runGuarded(i,s,a){return i.apply(s,a)}runOutsideAngular(i){return i()}runTask(i,s,a,l){return i.apply(s,a)}}const o=new Ht(""),u=new Ht("");let A,p=(()=>{class t{constructor(s,a,l){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,A||(function D(t){A=t}(l),l.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Bi.assertNotInAngularZone(),Cm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Cm(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,l){let d=-1;a&&a>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==d),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:d,updateCb:l})}whenStable(s,a,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,l){return[]}}return t.\u0275fac=function(s){return new(s||t)(sn(Bi),sn(y),sn(u))},t.\u0275prov=St({token:t,factory:t.\u0275fac}),t})(),y=(()=>{class t{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return A?.findTestabilityInTree(this,s,a)??null}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),P=null;const W=new Ht("AllowMultipleToken"),K=new Ht("PlatformDestroyListeners");function di(t,i,s=[]){const a=`Platform: ${i}`,l=new Ht(a);return(d=[])=>{let m=QC();if(!m||m.injector.get(W,!1)){const v=[...s,...d,{provide:l,useValue:!0}];t?t(v):function mn(t){if(P&&!P.get(W,!1))throw new Te(400,!1);P=t;const i=t.get(gw);(function br(t){const i=t.get(jC,null);i&&i.forEach(s=>s())})(t)}(function pw(t=[],i){return Wl.create({name:i,providers:[{provide:Da,useValue:"platform"},{provide:K,useValue:new Set([()=>P=null])},...t]})}(v,a))}return function au(t){const i=QC();if(!i)throw new Te(401,!1);return i}()}}function QC(){return P?.get(gw)??null}let gw=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const l=function _w(t,i){let s;return s="noop"===t?new e:("zone.js"===t?void 0:t)||new Bi(i),s}(a?.ngZone,function mw(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(a)),d=[{provide:Bi,useValue:l}];return l.run(()=>{const m=Wl.create({providers:d,parent:this.injector,name:s.moduleType.name}),v=s.create(m),E=v.injector.get(Wu,null);if(!E)throw new Te(402,!1);return l.runOutsideAngular(()=>{const w=l.onError.subscribe({next:S=>{E.handleError(S)}});v.onDestroy(()=>{Uv(this._modules,v),w.unsubscribe()})}),function yw(t,i,s){try{const a=s();return hh(a)?a.catch(l=>{throw i.runOutsideAngular(()=>t.handleError(l)),l}):a}catch(a){throw i.runOutsideAngular(()=>t.handleError(a)),a}}(E,l,()=>{const w=v.injector.get(Ld);return w.runInitializers(),w.donePromise.then(()=>(function Ay(t){Ct(t,"Expected localeId to be defined"),"string"==typeof t&&(AI=t.toLowerCase().replace(/_/g,"-"))}(v.injector.get(Im,cc)||cc),this._moduleDoBootstrap(v),v))})})}bootstrapModule(s,a=[]){const l=vw({},a);return function Ce(t,i,s){const a=new Ph(s);return Promise.resolve(a)}(0,0,s).then(d=>this.bootstrapModuleFactory(d,l))}_moduleDoBootstrap(s){const a=s.injector.get(JC);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(l=>a.bootstrap(l));else{if(!s.instance.ngDoBootstrap)throw new Te(403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Te(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(K,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(s){return new(s||t)(sn(Wl))},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function vw(t,i){return Array.isArray(i)?i.reduce(vw,t):{...t,...i}}let JC=(()=>{class t{constructor(s,a,l){this._zone=s,this._injector=a,this._exceptionHandler=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const d=new O.y(v=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{v.next(this._stable),v.complete()})}),m=new O.y(v=>{let E;this._zone.runOutsideAngular(()=>{E=this._zone.onStable.subscribe(()=>{Bi.assertNotInAngularZone(),Cm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,v.next(!0))})})});const w=this._zone.onUnstable.subscribe(()=>{Bi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{v.next(!1)}))});return()=>{E.unsubscribe(),w.unsubscribe()}});this.isStable=(0,oe.T)(d,m.pipe((0,re.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,a){const l=s instanceof Wc;if(!this._injector.get(Ld).done)throw!l&&function Pt(t){const i=Z(t)||Le(t)||Je(t);return null!==i&&i.standalone}(s),new Te(405,false);let m;m=l?s:this._injector.get($u).resolveComponentFactory(s),this.componentTypes.push(m.componentType);const v=function pt(t){return t.isBoundToModule}(m)?void 0:this._injector.get(ru),w=m.create(Wl.NULL,[],a||m.selector,v),S=w.location.nativeElement,N=w.injector.get(o,null);return N?.registerApplication(S),w.onDestroy(()=>{this.detachView(w.hostView),Uv(this.components,w),N?.unregisterApplication(S)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Te(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;Uv(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get($C,[]).concat(this._bootstrapListeners).forEach(l=>l(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>Uv(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new Te(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(s){return new(s||t)(sn(Bi),sn(vr),sn(Wu))},t.\u0275prov=St({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Uv(t,i){const s=t.indexOf(i);s>-1&&t.splice(s,1)}let Iw=!0,Cw=!1;function Hw(){return Cw=!0,Iw}function $w(){if(Cw)throw new Error("Cannot enable prod mode after platform setup.");Iw=!1}let Ww=(()=>{class t{}return t.__NG_ELEMENT_ID__=Gw,t})();function Gw(t){return function zw(t,i,s){if(Xs(t)&&!s){const a=bt(t.index,i);return new pd(a,a)}return 47&t.type?new pd(i[16],i):null}(tn(),Ie(),16==(16&t))}class Tw{constructor(){}supports(i){return _d(i)}create(i){return new Jw(i)}}const Qw=(t,i)=>i;class Jw{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||Qw}forEachItem(i){let s;for(s=this._itHead;null!==s;s=s._next)i(s)}forEachOperation(i){let s=this._itHead,a=this._removalsHead,l=0,d=null;for(;s||a;){const m=!a||s&&s.currentIndex<Sw(a,l,d)?s:a,v=Sw(m,l,d),E=m.currentIndex;if(m===a)l--,a=a._nextRemoved;else if(s=s._next,null==m.previousIndex)l++;else{d||(d=[]);const w=v-l,S=E-l;if(w!=S){for(let U=0;U<w;U++){const Q=U<d.length?d[U]:d[U]=0,ge=Q+U;S<=ge&&ge<w&&(d[U]=Q+1)}d[m.previousIndex]=S-w}}v!==E&&i(m,v,E)}}forEachPreviousItem(i){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachMovedItem(i){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}forEachIdentityChange(i){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)i(s)}diff(i){if(null==i&&(i=[]),!_d(i))throw new Te(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let l,d,m,s=this._itHead,a=!1;if(Array.isArray(i)){this.length=i.length;for(let v=0;v<this.length;v++)d=i[v],m=this._trackByFn(v,d),null!==s&&Object.is(s.trackById,m)?(a&&(s=this._verifyReinsertion(s,d,m,v)),Object.is(s.item,d)||this._addIdentityChange(s,d)):(s=this._mismatch(s,d,m,v),a=!0),s=s._next}else l=0,function j_(t,i){if(Array.isArray(t))for(let s=0;s<t.length;s++)i(t[s]);else{const s=t[xa()]();let a;for(;!(a=s.next()).done;)i(a.value)}}(i,v=>{m=this._trackByFn(l,v),null!==s&&Object.is(s.trackById,m)?(a&&(s=this._verifyReinsertion(s,v,m,l)),Object.is(s.item,v)||this._addIdentityChange(s,v)):(s=this._mismatch(s,v,m,l),a=!0),s=s._next,l++}),this.length=l;return this._truncate(s),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,s,a,l){let d;return null===i?d=this._itTail:(d=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._reinsertAfter(i,d,l)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(a,l))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._moveAfter(i,d,l)):i=this._addAfter(new Xw(s,a),d,l),i}_verifyReinsertion(i,s,a,l){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==d?i=this._reinsertAfter(d,i._prev,l):i.currentIndex!=l&&(i.currentIndex=l,this._addToMoves(i,l)),i}_truncate(i){for(;null!==i;){const s=i._next;this._addToRemovals(this._unlink(i)),i=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const l=i._prevRemoved,d=i._nextRemoved;return null===l?this._removalsHead=d:l._nextRemoved=d,null===d?this._removalsTail=l:d._prevRemoved=l,this._insertAfter(i,s,a),this._addToMoves(i,a),i}_moveAfter(i,s,a){return this._unlink(i),this._insertAfter(i,s,a),this._addToMoves(i,a),i}_addAfter(i,s,a){return this._insertAfter(i,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,s,a){const l=null===s?this._itHead:s._next;return i._next=l,i._prev=s,null===l?this._itTail=i:l._prev=i,null===s?this._itHead=i:s._next=i,null===this._linkedRecords&&(this._linkedRecords=new Aw),this._linkedRecords.put(i),i.currentIndex=a,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const s=i._prev,a=i._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,i}_addToMoves(i,s){return i.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Aw),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,s){return i.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class Xw{constructor(i,s){this.item=i,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class e0{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,i))return a;return null}remove(i){const s=i._prevDup,a=i._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class Aw{constructor(){this.map=new Map}put(i){const s=i.trackById;let a=this.map.get(s);a||(a=new e0,this.map.set(s,a)),a.add(i)}get(i,s){const l=this.map.get(i);return l?l.get(i,s):null}remove(i){const s=i.trackById;return this.map.get(s).remove(i)&&this.map.delete(s),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Sw(t,i,s){const a=t.previousIndex;if(null===a)return a;let l=0;return s&&a<s.length&&(l=s[a]),a+i+l}class Mw{constructor(){}supports(i){return i instanceof Map||og(i)}create(){return new t0}}class t0{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let s;for(s=this._mapHead;null!==s;s=s._next)i(s)}forEachPreviousItem(i){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)i(s)}forEachChangedItem(i){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}diff(i){if(i){if(!(i instanceof Map||og(i)))throw new Te(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(i,(a,l)=>{if(s&&s.key===l)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const d=this._getOrCreateRecordForKey(l,a);s=this._insertBeforeOrAppend(s,d)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,s){if(i){const a=i._prev;return s._next=i,s._prev=a,i._prev=s,a&&(a._next=s),i===this._mapHead&&(this._mapHead=s),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(i,s){if(this._records.has(i)){const l=this._records.get(i);this._maybeAddToChanges(l,s);const d=l._prev,m=l._next;return d&&(d._next=m),m&&(m._prev=d),l._next=null,l._prev=null,l}const a=new n0(i);return this._records.set(i,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,s){Object.is(s,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=s,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,s){i instanceof Map?i.forEach(s):Object.keys(i).forEach(a=>s(i[a],a))}}class n0{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Pw(){return new rD([new Tw])}let rD=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(null!=a){const l=a.factories.slice();s=s.concat(l)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||Pw()),deps:[[t,new Y,new x]]}}find(s){const a=this.factories.find(l=>l.supports(s));if(null!=a)return a;throw new Te(901,!1)}}return t.\u0275prov=St({token:t,providedIn:"root",factory:Pw}),t})();function Nw(){return new iD([new Mw])}let iD=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(a){const l=a.factories.slice();s=s.concat(l)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||Nw()),deps:[[t,new Y,new x]]}}find(s){const a=this.factories.find(l=>l.supports(s));if(a)return a;throw new Te(901,!1)}}return t.\u0275prov=St({token:t,providedIn:"root",factory:Nw}),t})();const o0=di(null,"core",[]);let a0=(()=>{class t{constructor(s){}}return t.\u0275fac=function(s){return new(s||t)(sn(JC))},t.\u0275mod=_t({type:t}),t.\u0275inj=gt({}),t})();function l0(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}},3942:(nt,we,k)=>{k.d(we,{Z:()=>Te});var h=k(2090),J=k(4859),O=k(9681),oe=k(1877);class re{constructor(ae,se){this._delegate=ae,this.firebase=se,(0,O._addComponent)(ae,new J.wA("app-compat",()=>this,"PUBLIC")),this.container=ae.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ae){this._delegate.automaticDataCollectionEnabled=ae}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ae=>{this._delegate.checkDestroyed(),ae()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(ae,se=O._DEFAULT_ENTRY_NAME){var Fe;this._delegate.checkDestroyed();const We=this._delegate.container.getProvider(ae);return!We.isInitialized()&&"EXPLICIT"===(null===(Fe=We.getComponent())||void 0===Fe?void 0:Fe.instantiationMode)&&We.initialize(),We.getImmediate({identifier:se})}_removeServiceInstance(ae,se=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ae).clearInstance(se)}_addComponent(ae){(0,O._addComponent)(this._delegate,ae)}_addOrOverwriteComponent(ae){(0,O._addOrOverwriteComponent)(this._delegate,ae)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const fe=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),H=function _e(){const Ne=function ue(Ne){const ae={},se={__esModule:!0,initializeApp:function ve(xe,L={}){const le=O.initializeApp(xe,L);if((0,h.r3)(ae,le.name))return ae[le.name];const $=new Ne(le,se);return ae[le.name]=$,$},app:We,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function me(xe){const L=xe.name,le=L.replace("-compat","");if(O._registerComponent(xe)&&"PUBLIC"===xe.type){const $=(q=We())=>{if("function"!=typeof q[le])throw fe.create("invalid-app-argument",{appName:L});return q[le]()};void 0!==xe.serviceProps&&(0,h.ZB)($,xe.serviceProps),se[le]=$,Ne.prototype[le]=function(...q){return this._getService.bind(this,L).apply(this,xe.multipleInstances?q:[])}}return"PUBLIC"===xe.type?se[le]:null},removeApp:function Fe(xe){delete ae[xe]},useAsService:function Oe(xe,L){return"serverAuth"===L?null:L},modularAPIs:O}};function We(xe){if(!(0,h.r3)(ae,xe=xe||O._DEFAULT_ENTRY_NAME))throw fe.create("no-app",{appName:xe});return ae[xe]}return se.default=se,Object.defineProperty(se,"apps",{get:function he(){return Object.keys(ae).map(xe=>ae[xe])}}),We.App=Ne,se}(re);return Ne.INTERNAL=Object.assign(Object.assign({},Ne.INTERNAL),{createFirebaseNamespace:_e,extendNamespace:function ae(se){(0,h.ZB)(Ne,se)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),Ne}(),B=new oe.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){B.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ne=self.firebase.SDK_VERSION;Ne&&Ne.indexOf("LITE")>=0&&B.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Te=H;!function Se(Ne){(0,O.registerVersion)("@firebase/app-compat","0.1.38",Ne)}()},9681:(nt,we,k)=>{k.r(we),k.d(we,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>hi,_DEFAULT_ENTRY_NAME:()=>Ct,_addComponent:()=>Tt,_addOrOverwriteComponent:()=>St,_apps:()=>Lt,_clearComponents:()=>fi,_components:()=>Gt,_getProvider:()=>gt,_registerComponent:()=>Wn,_removeServiceInstance:()=>Vt,deleteApp:()=>gs,getApp:()=>rr,getApps:()=>hr,initializeApp:()=>Ar,onLog:()=>pi,registerVersion:()=>Ln,setLogLevel:()=>yn});var h=k(5861),J=k(4859),O=k(1877),oe=k(2090),re=k(8766);class ce{constructor(Ee){this.container=Ee}getPlatformInfoString(){return this.container.getProviders().map(ze=>{if(function fe(Ke){return"VERSION"===Ke.getComponent()?.type}(ze)){const at=ze.getImmediate();return`${at.library}/${at.version}`}return null}).filter(ze=>ze).join(" ")}}const ue="@firebase/app",H=new O.Yd("@firebase/app"),Ct="[DEFAULT]",He={[ue]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Lt=new Map,Gt=new Map;function Tt(Ke,Ee){try{Ke.container.addComponent(Ee)}catch(ze){H.debug(`Component ${Ee.name} failed to register with FirebaseApp ${Ke.name}`,ze)}}function St(Ke,Ee){Ke.container.addOrOverwriteComponent(Ee)}function Wn(Ke){const Ee=Ke.name;if(Gt.has(Ee))return H.debug(`There were multiple attempts to register component ${Ee}.`),!1;Gt.set(Ee,Ke);for(const ze of Lt.values())Tt(ze,Ke);return!0}function gt(Ke,Ee){const ze=Ke.container.getProvider("heartbeat").getImmediate({optional:!0});return ze&&ze.triggerHeartbeat(),Ke.container.getProvider(Ee)}function Vt(Ke,Ee,ze=Ct){gt(Ke,Ee).clearInstance(ze)}function fi(){Gt.clear()}const Gn=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class zn{constructor(Ee,ze,at){this._isDeleted=!1,this._options=Object.assign({},Ee),this._config=Object.assign({},ze),this._name=ze.name,this._automaticDataCollectionEnabled=ze.automaticDataCollectionEnabled,this._container=at,this.container.addComponent(new J.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ee){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ee}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ee){this._isDeleted=Ee}checkDestroyed(){if(this.isDeleted)throw Gn.create("app-deleted",{appName:this._name})}}const hi="9.13.0";function Ar(Ke,Ee={}){let ze=Ke;"object"!=typeof Ee&&(Ee={name:Ee});const at=Object.assign({name:Ct,automaticDataCollectionEnabled:!1},Ee),st=at.name;if("string"!=typeof st||!st)throw Gn.create("bad-app-name",{appName:String(st)});if(ze||(ze=(0,oe.aH)()),!ze)throw Gn.create("no-options");const _t=Lt.get(st);if(_t){if((0,oe.vZ)(ze,_t.options)&&(0,oe.vZ)(at,_t.config))return _t;throw Gn.create("duplicate-app",{appName:st})}const V=new J.H0(st);for(const G of Gt.values())V.addComponent(G);const F=new zn(ze,at,V);return Lt.set(st,F),F}function rr(Ke=Ct){const Ee=Lt.get(Ke);if(!Ee&&Ke===Ct)return Ar();if(!Ee)throw Gn.create("no-app",{appName:Ke});return Ee}function hr(){return Array.from(Lt.values())}function gs(Ke){return $e.apply(this,arguments)}function $e(){return($e=(0,h.Z)(function*(Ke){const Ee=Ke.name;Lt.has(Ee)&&(Lt.delete(Ee),yield Promise.all(Ke.container.getProviders().map(ze=>ze.delete())),Ke.isDeleted=!0)})).apply(this,arguments)}function Ln(Ke,Ee,ze){var at;let st=null!==(at=He[Ke])&&void 0!==at?at:Ke;ze&&(st+=`-${ze}`);const _t=st.match(/\s|\//),V=Ee.match(/\s|\//);if(_t||V){const F=[`Unable to register library "${st}" with version "${Ee}":`];return _t&&F.push(`library name "${st}" contains illegal characters (whitespace or "/")`),_t&&V&&F.push("and"),V&&F.push(`version name "${Ee}" contains illegal characters (whitespace or "/")`),void H.warn(F.join(" "))}Wn(new J.wA(`${st}-version`,()=>({library:st,version:Ee}),"VERSION"))}function pi(Ke,Ee){if(null!==Ke&&"function"!=typeof Ke)throw Gn.create("invalid-log-argument");(0,O.Am)(Ke,Ee)}function yn(Ke){(0,O.Ub)(Ke)}const Xt="firebase-heartbeat-store";let un=null;function jt(){return un||(un=(0,re.X3)("firebase-heartbeat-database",1,{upgrade:(Ke,Ee)=>{0===Ee&&Ke.createObjectStore(Xt)}}).catch(Ke=>{throw Gn.create("idb-open",{originalErrorMessage:Ke.message})})),un}function qe(){return(qe=(0,h.Z)(function*(Ke){var Ee;try{return(yield jt()).transaction(Xt).objectStore(Xt).get(an(Ke))}catch(ze){if(ze instanceof oe.ZR)H.warn(ze.message);else{const at=Gn.create("idb-get",{originalErrorMessage:null===(Ee=ze)||void 0===Ee?void 0:Ee.message});H.warn(at.message)}}})).apply(this,arguments)}function kt(Ke,Ee){return An.apply(this,arguments)}function An(){return(An=(0,h.Z)(function*(Ke,Ee){var ze;try{const st=(yield jt()).transaction(Xt,"readwrite");return yield st.objectStore(Xt).put(Ee,an(Ke)),st.done}catch(at){if(at instanceof oe.ZR)H.warn(at.message);else{const st=Gn.create("idb-set",{originalErrorMessage:null===(ze=at)||void 0===ze?void 0:ze.message});H.warn(st.message)}}})).apply(this,arguments)}function an(Ke){return`${Ke.name}!${Ke.options.appId}`}class Kr{constructor(Ee){this.container=Ee,this._heartbeatsCache=null;const ze=this.container.getProvider("app").getImmediate();this._storage=new Rt(ze),this._heartbeatsCachePromise=this._storage.read().then(at=>(this._heartbeatsCache=at,at))}triggerHeartbeat(){var Ee=this;return(0,h.Z)(function*(){const at=Ee.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),st=Mt();if(null===Ee._heartbeatsCache&&(Ee._heartbeatsCache=yield Ee._heartbeatsCachePromise),Ee._heartbeatsCache.lastSentHeartbeatDate!==st&&!Ee._heartbeatsCache.heartbeats.some(_t=>_t.date===st))return Ee._heartbeatsCache.heartbeats.push({date:st,agent:at}),Ee._heartbeatsCache.heartbeats=Ee._heartbeatsCache.heartbeats.filter(_t=>{const V=new Date(_t.date).valueOf();return Date.now()-V<=2592e6}),Ee._storage.overwrite(Ee._heartbeatsCache)})()}getHeartbeatsHeader(){var Ee=this;return(0,h.Z)(function*(){if(null===Ee._heartbeatsCache&&(yield Ee._heartbeatsCachePromise),null===Ee._heartbeatsCache||0===Ee._heartbeatsCache.heartbeats.length)return"";const ze=Mt(),{heartbeatsToSend:at,unsentEntries:st}=function Sr(Ke,Ee=1024){const ze=[];let at=Ke.slice();for(const st of Ke){const _t=ze.find(V=>V.agent===st.agent);if(_t){if(_t.dates.push(st.date),vn(ze)>Ee){_t.dates.pop();break}}else if(ze.push({agent:st.agent,dates:[st.date]}),vn(ze)>Ee){ze.pop();break}at=at.slice(1)}return{heartbeatsToSend:ze,unsentEntries:at}}(Ee._heartbeatsCache.heartbeats),_t=(0,oe.L)(JSON.stringify({version:2,heartbeats:at}));return Ee._heartbeatsCache.lastSentHeartbeatDate=ze,st.length>0?(Ee._heartbeatsCache.heartbeats=st,yield Ee._storage.overwrite(Ee._heartbeatsCache)):(Ee._heartbeatsCache.heartbeats=[],Ee._storage.overwrite(Ee._heartbeatsCache)),_t})()}}function Mt(){return(new Date).toISOString().substring(0,10)}class Rt{constructor(Ee){this.app=Ee,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.Z)(function*(){return!!(0,oe.hl)()&&(0,oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ee=this;return(0,h.Z)(function*(){return(yield Ee._canUseIndexedDBPromise)&&(yield function rt(Ke){return qe.apply(this,arguments)}(Ee.app))||{heartbeats:[]}})()}overwrite(Ee){var ze=this;return(0,h.Z)(function*(){var at;if(yield ze._canUseIndexedDBPromise){const _t=yield ze.read();return kt(ze.app,{lastSentHeartbeatDate:null!==(at=Ee.lastSentHeartbeatDate)&&void 0!==at?at:_t.lastSentHeartbeatDate,heartbeats:Ee.heartbeats})}})()}add(Ee){var ze=this;return(0,h.Z)(function*(){var at;if(yield ze._canUseIndexedDBPromise){const _t=yield ze.read();return kt(ze.app,{lastSentHeartbeatDate:null!==(at=Ee.lastSentHeartbeatDate)&&void 0!==at?at:_t.lastSentHeartbeatDate,heartbeats:[..._t.heartbeats,...Ee.heartbeats]})}})()}}function vn(Ke){return(0,oe.L)(JSON.stringify({version:2,heartbeats:Ke})).length}!function Kn(Ke){Wn(new J.wA("platform-logger",Ee=>new ce(Ee),"PRIVATE")),Wn(new J.wA("heartbeat",Ee=>new Kr(Ee),"PRIVATE")),Ln(ue,"0.8.3",Ke),Ln(ue,"0.8.3","esm2017"),Ln("fire-js","")}("")},4859:(nt,we,k)=>{k.d(we,{H0:()=>ue,wA:()=>O,zt:()=>re});var h=k(5861),J=k(2090);class O{constructor(H,B,X){this.name=H,this.instanceFactory=B,this.type=X,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(H){return this.instantiationMode=H,this}setMultipleInstances(H){return this.multipleInstances=H,this}setServiceProps(H){return this.serviceProps=H,this}setInstanceCreatedCallback(H){return this.onInstanceCreated=H,this}}const oe="[DEFAULT]";class re{constructor(H,B){this.name=H,this.container=B,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(H){const B=this.normalizeInstanceIdentifier(H);if(!this.instancesDeferred.has(B)){const X=new J.BH;if(this.instancesDeferred.set(B,X),this.isInitialized(B)||this.shouldAutoInitialize())try{const je=this.getOrInitializeService({instanceIdentifier:B});je&&X.resolve(je)}catch{}}return this.instancesDeferred.get(B).promise}getImmediate(H){var B;const X=this.normalizeInstanceIdentifier(H?.identifier),je=null!==(B=H?.optional)&&void 0!==B&&B;if(!this.isInitialized(X)&&!this.shouldAutoInitialize()){if(je)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:X})}catch(Se){if(je)return null;throw Se}}getComponent(){return this.component}setComponent(H){if(H.name!==this.name)throw Error(`Mismatching Component ${H.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=H,this.shouldAutoInitialize()){if(function fe(_e){return"EAGER"===_e.instantiationMode}(H))try{this.getOrInitializeService({instanceIdentifier:oe})}catch{}for(const[B,X]of this.instancesDeferred.entries()){const je=this.normalizeInstanceIdentifier(B);try{const Se=this.getOrInitializeService({instanceIdentifier:je});X.resolve(Se)}catch{}}}}clearInstance(H=oe){this.instancesDeferred.delete(H),this.instancesOptions.delete(H),this.instances.delete(H)}delete(){var H=this;return(0,h.Z)(function*(){const B=Array.from(H.instances.values());yield Promise.all([...B.filter(X=>"INTERNAL"in X).map(X=>X.INTERNAL.delete()),...B.filter(X=>"_delete"in X).map(X=>X._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(H=oe){return this.instances.has(H)}getOptions(H=oe){return this.instancesOptions.get(H)||{}}initialize(H={}){const{options:B={}}=H,X=this.normalizeInstanceIdentifier(H.instanceIdentifier);if(this.isInitialized(X))throw Error(`${this.name}(${X}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const je=this.getOrInitializeService({instanceIdentifier:X,options:B});for(const[Se,Te]of this.instancesDeferred.entries())X===this.normalizeInstanceIdentifier(Se)&&Te.resolve(je);return je}onInit(H,B){var X;const je=this.normalizeInstanceIdentifier(B),Se=null!==(X=this.onInitCallbacks.get(je))&&void 0!==X?X:new Set;Se.add(H),this.onInitCallbacks.set(je,Se);const Te=this.instances.get(je);return Te&&H(Te,je),()=>{Se.delete(H)}}invokeOnInitCallbacks(H,B){const X=this.onInitCallbacks.get(B);if(X)for(const je of X)try{je(H,B)}catch{}}getOrInitializeService({instanceIdentifier:H,options:B={}}){let X=this.instances.get(H);if(!X&&this.component&&(X=this.component.instanceFactory(this.container,{instanceIdentifier:(_e=H,_e===oe?void 0:_e),options:B}),this.instances.set(H,X),this.instancesOptions.set(H,B),this.invokeOnInitCallbacks(X,H),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,H,X)}catch{}var _e;return X||null}normalizeInstanceIdentifier(H=oe){return this.component?this.component.multipleInstances?H:oe:H}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ue{constructor(H){this.name=H,this.providers=new Map}addComponent(H){const B=this.getProvider(H.name);if(B.isComponentSet())throw new Error(`Component ${H.name} has already been registered with ${this.name}`);B.setComponent(H)}addOrOverwriteComponent(H){this.getProvider(H.name).isComponentSet()&&this.providers.delete(H.name),this.addComponent(H)}getProvider(H){if(this.providers.has(H))return this.providers.get(H);const B=new re(H,this);return this.providers.set(H,B),B}getProviders(){return Array.from(this.providers.values())}}},1877:(nt,we,k)=>{k.d(we,{Am:()=>_e,Ub:()=>ue,Yd:()=>fe,in:()=>J});const h=[];var J=(()=>{return(H=J||(J={}))[H.DEBUG=0]="DEBUG",H[H.VERBOSE=1]="VERBOSE",H[H.INFO=2]="INFO",H[H.WARN=3]="WARN",H[H.ERROR=4]="ERROR",H[H.SILENT=5]="SILENT",J;var H})();const O={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},oe=J.INFO,re={[J.DEBUG]:"log",[J.VERBOSE]:"log",[J.INFO]:"info",[J.WARN]:"warn",[J.ERROR]:"error"},ce=(H,B,...X)=>{if(B<H.logLevel)return;const je=(new Date).toISOString(),Se=re[B];if(!Se)throw new Error(`Attempted to log a message with an invalid logType (value: ${B})`);console[Se](`[${je}]  ${H.name}:`,...X)};class fe{constructor(B){this.name=B,this._logLevel=oe,this._logHandler=ce,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(B){if(!(B in J))throw new TypeError(`Invalid value "${B}" assigned to \`logLevel\``);this._logLevel=B}setLogLevel(B){this._logLevel="string"==typeof B?O[B]:B}get logHandler(){return this._logHandler}set logHandler(B){if("function"!=typeof B)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=B}get userLogHandler(){return this._userLogHandler}set userLogHandler(B){this._userLogHandler=B}debug(...B){this._userLogHandler&&this._userLogHandler(this,J.DEBUG,...B),this._logHandler(this,J.DEBUG,...B)}log(...B){this._userLogHandler&&this._userLogHandler(this,J.VERBOSE,...B),this._logHandler(this,J.VERBOSE,...B)}info(...B){this._userLogHandler&&this._userLogHandler(this,J.INFO,...B),this._logHandler(this,J.INFO,...B)}warn(...B){this._userLogHandler&&this._userLogHandler(this,J.WARN,...B),this._logHandler(this,J.WARN,...B)}error(...B){this._userLogHandler&&this._userLogHandler(this,J.ERROR,...B),this._logHandler(this,J.ERROR,...B)}}function ue(H){h.forEach(B=>{B.setLogLevel(H)})}function _e(H,B){for(const X of h){let je=null;B&&B.level&&(je=O[B.level]),X.userLogHandler=null===H?null:(Se,Te,...Ne)=>{const ae=Ne.map(se=>{if(null==se)return null;if("string"==typeof se)return se;if("number"==typeof se||"boolean"==typeof se)return se.toString();if(se instanceof Error)return se.message;try{return JSON.stringify(se)}catch{return null}}).filter(se=>se).join(" ");Te>=(je??Se.logLevel)&&H({level:J[Te].toLowerCase(),message:ae,args:Ne,type:Se.name})}}}},8766:(nt,we,k)=>{k.d(we,{Lj:()=>ve,X3:()=>We});var h=k(5861);let O,oe;const fe=new WeakMap,ue=new WeakMap,_e=new WeakMap,H=new WeakMap,B=new WeakMap;let Se={get(L,le,$){if(L instanceof IDBTransaction){if("done"===le)return ue.get(L);if("objectStoreNames"===le)return L.objectStoreNames||_e.get(L);if("store"===le)return $.objectStoreNames[1]?void 0:$.objectStore($.objectStoreNames[0])}return se(L[le])},set:(L,le,$)=>(L[le]=$,!0),has:(L,le)=>L instanceof IDBTransaction&&("done"===le||"store"===le)||le in L};function ae(L){return"function"==typeof L?function Ne(L){return L!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ce(){return oe||(oe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(L)?function(...le){return L.apply(Fe(this),le),se(fe.get(this))}:function(...le){return se(L.apply(Fe(this),le))}:function(le,...$){const q=L.call(Fe(this),le,...$);return _e.set(q,le.sort?le.sort():[le]),se(q)}}(L):(L instanceof IDBTransaction&&function je(L){if(ue.has(L))return;const le=new Promise(($,q)=>{const te=()=>{L.removeEventListener("complete",ee),L.removeEventListener("error",be),L.removeEventListener("abort",be)},ee=()=>{$(),te()},be=()=>{q(L.error||new DOMException("AbortError","AbortError")),te()};L.addEventListener("complete",ee),L.addEventListener("error",be),L.addEventListener("abort",be)});ue.set(L,le)}(L),((L,le)=>le.some($=>L instanceof $))(L,function re(){return O||(O=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(L,Se):L)}function se(L){if(L instanceof IDBRequest)return function X(L){const le=new Promise(($,q)=>{const te=()=>{L.removeEventListener("success",ee),L.removeEventListener("error",be)},ee=()=>{$(se(L.result)),te()},be=()=>{q(L.error),te()};L.addEventListener("success",ee),L.addEventListener("error",be)});return le.then($=>{$ instanceof IDBCursor&&fe.set($,L)}).catch(()=>{}),B.set(le,L),le}(L);if(H.has(L))return H.get(L);const le=ae(L);return le!==L&&(H.set(L,le),B.set(le,L)),le}const Fe=L=>B.get(L);function We(L,le,{blocked:$,upgrade:q,blocking:te,terminated:ee}={}){const be=indexedDB.open(L,le),Ae=se(be);return q&&be.addEventListener("upgradeneeded",et=>{q(se(be.result),et.oldVersion,et.newVersion,se(be.transaction))}),$&&be.addEventListener("blocked",()=>$()),Ae.then(et=>{ee&&et.addEventListener("close",()=>ee()),te&&et.addEventListener("versionchange",()=>te())}).catch(()=>{}),Ae}function ve(L,{blocked:le}={}){const $=indexedDB.deleteDatabase(L);return le&&$.addEventListener("blocked",()=>le()),se($).then(()=>{})}const he=["get","getKey","getAll","getAllKeys","count"],me=["put","add","delete","clear"],Oe=new Map;function xe(L,le){if(!(L instanceof IDBDatabase)||le in L||"string"!=typeof le)return;if(Oe.get(le))return Oe.get(le);const $=le.replace(/FromIndex$/,""),q=le!==$,te=me.includes($);if(!($ in(q?IDBIndex:IDBObjectStore).prototype)||!te&&!he.includes($))return;const ee=function(){var be=(0,h.Z)(function*(Ae,...et){const At=this.transaction(Ae,te?"readwrite":"readonly");let Ct=At.store;return q&&(Ct=Ct.index(et.shift())),(yield Promise.all([Ct[$](...et),te&&At.done]))[0]});return function(et){return be.apply(this,arguments)}}();return Oe.set(le,ee),ee}!function Te(L){Se=L(Se)}(L=>({...L,get:(le,$,q)=>xe(le,$)||L.get(le,$,q),has:(le,$)=>!!xe(le,$)||L.has(le,$)}))},5861:(nt,we,k)=>{function h(O,oe,re,ce,fe,ue,_e){try{var H=O[ue](_e),B=H.value}catch(X){return void re(X)}H.done?oe(B):Promise.resolve(B).then(ce,fe)}function J(O){return function(){var oe=this,re=arguments;return new Promise(function(ce,fe){var ue=O.apply(oe,re);function _e(B){h(ue,ce,fe,_e,H,"next",B)}function H(B){h(ue,ce,fe,_e,H,"throw",B)}_e(void 0)})}}k.d(we,{Z:()=>J})}},nt=>{nt(nt.s=4214)}]);